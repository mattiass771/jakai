{"version":3,"sources":["components/Cart/PayGate.js","components/Navbar/Navbar.js","components/Shop/ViewShop/EditItems.js","components/Shop/ViewShop/ShowItem.js","components/Home/UpdateEvents.js","components/Home/UpdateServices.js","components/Home/UpdateDescription.js","config/options.js","components/Home/Home.js","components/Shop/CreateShop.js","components/Shop/ShopsOverview.js","components/Shop/Vinarne.js","components/Login/SignUp.js","components/Login/Login.js","components/Shop/ViewShop/AddItems.js","components/Shop/ViewShop/ShopItems.js","components/Shop/ViewShop/ShopJumbotron.js","components/Shop/ViewShop.js","components/Shop/shopOnline/ShopOnline.js","components/Cart/PlaceOrder.js","components/Cart/ShoppingCart.js","components/Payment/Orders.js","components/Payment/SuccessPayment.js","components/Payment/RejectPayment.js","components/Wines/WineOverview.js","components/Wines/Vinka.js","components/Events/AddEvent.js","components/Events/EditEvent.js","components/Events/Events.js","components/Services/AddService.js","components/Services/EditService.js","components/Services/Services.js","App.js","index.js"],"names":["paymentPopup","setPaymentPopup","orderInfo","total","orderId","style","backgroundColor","show","onHide","padding","width","height","id","src","amount","reference","signature","key","message","encryptedKey","locutus","encryptedMessage","uint8arr","crypto","createHmac","update","digest","Buffer","from","buffer","reduce","str","byte","toString","padStart","toUpperCase","GetSignature","toFixed","constructOrder","position","right","top","cursor","onClick","isLoggedIn","handleLogOut","userName","Navbar","fixed","bg","variant","expand","Brand","alt","className","Toggle","aria-controls","Collapse","Nav","to","showEditItems","setShowEditItems","shopId","itemId","itemDataProp","setShouldReload","shouldReload","useState","itemName","setItemName","price","setPrice","description","setDescription","imageLink","setImageLink","canSaveItem","setCanSaveItem","maxCount","setMaxCount","color","setColor","type","setType","taste","setTaste","itemData","setItemData","getImage","image","replace","useEffect","Modal","Header","closeButton","Title","Body","Row","Col","htmlFor","value","name","onChange","e","target","placeholder","InputGroup","maxLength","resize","minHeight","Button","newItemData","deleteFormerImage","size","maxFiles","multiple","canCancel","getUploadParams","meta","url","onChangeStatus","status","file","axios","get","params","then","catch","err","console","log","deleteFile","accept","inputContent","marginTop","classNames","dropzone","Footer","put","disabled","colMdSettings","colXsSettings","shopItems","userId","setShowAddedPopup","isOwner","count","setCount","isHovered","setIsHovered","clicked","setClicked","editing","setEditing","map","item","i","_id","passShopId","overflow","xs","md","lg","xl","Card","onMouseEnter","hoverObj","handleMouseOver","onMouseLeave","currentTarget","parentNode","post","deleteCard","marginBottom","zIndex","fontSize","margin","editingObj","handleEditing","marginLeft","EditItems","Text","substring","toLowerCase","ImgOverlay","background","passCount","setTimeout","localShoppingCart","localStorage","getItem","removeItem","newShoppingCart","JSON","parse","setItem","stringify","addItemToCart","Container","Form","Control","as","countObj","handleCount","result","num","push","showCount","passId","dummy","document","createElement","body","appendChild","select","execCommand","removeChild","copyFunction","textDecoration","eventsPopup","setEventsPopup","forceRefresh","setForceRefresh","eventsImage","eventsText","descriptionEvents","imageLinkEvents","res","data","servicesPopup","setServicesPopup","servicesImage","servicesText","descriptionServices","imageLinkServices","descriptionsPopup","setDescriptionsPopup","descriptionsText","descriptionGeneral","MAX_HEIGHT_JUMBO","options","carouselData","setCarouselData","featuredWines","setFeaturedWines","loading","setLoading","showAddedPopup","featuredIds","setFeaturedIds","isIdAvail","setIsIdAvail","tempId","setTempId","eventsData","setEventsData","servicesData","setServicesData","setDescriptionGeneral","featured","events","services","response","newObj","prev","ShowEvents","ShowServices","ShowGeneral","handleFeaturedIds","newValue","newIdAvail","length","window","location","reload","handleSuccessFeatureChange","ShowUpdateFeaturedWines","sm","newTempIds","handleTempId","onBlur","Spinner","animation","Alert","onClose","dismissible","UpdateEvents","UpdateServices","UpdateDescription","Carousel","indicators","maxHeight","shop","shopName","owner","Item","Caption","ShowItem","rel","href","marginRight","userData","setShopName","fullName","ownerId","shortid","generate","shopData","showCreateShop","setShowCreateShop","CreateShop","overviewImage","textAlign","Img","paddingTop","setShopData","ShopsOverview","shoppingCart","handleLogin","firstName","setFirstName","middleName","setMiddleName","lastName","setLastName","email","setEmail","passwordFirst","setPasswordFirst","passwordSecond","setPasswordSecond","passwordsMatch","setPasswordsMatch","emailExists","setEmailExists","phone","setPhone","street","setStreet","postal","setPostal","city","setCity","checkIfPasswordMeetsCriteria","search","checkIfEmailMeetsCriteria","match","checkIfNameMeetsCriteria","checkIfCityMeetsCriteria","checkIfStreetMeetsCriteria","checkIfPhoneMeetsCriteria","checkIfPostalMeetsCriteria","address","password","signUp","setSignUp","hideButton","setHideButton","action","method","SignUp","showAddItems","setShowAddItems","setShopItems","AddItems","border","history","useHistory","currentUrl","setCurrentUrl","newUrl","setNewUrl","isUrlAvailible","setIsUrlAvailible","editMode","setEditMode","error","setError","setOwner","setOverviewImage","showImageFromDb","localUploadingTitle","setLocalUploadingTitle","localUploadingOverview","setLocalUploadingOverview","textColor","setTextColor","handleError","Jumbotron","backgroundSize","fluid","delete","display","ShopJumbotron","ShopItems","shopUrl","useParams","ViewShop","setUserInformation","handleSignUp","lastRef","useRef","shops","setShops","refresh","setRefresh","userInformation","login","setLogin","registration","setRegistration","shipmentOnly","setShipmentOnly","nanoid","passOrderInfo","setPassOrderInfo","executeScroll","current","scrollIntoView","behavior","block","sortItems","cartItems","sortShop","cartItem","itemsArr","findItem","find","el","undefined","index","findIndex","prevItems","isInCart","prevCount","Number","newShopId","parsedShoppingCart","a","addItemsToShoppingCartFromLocal","showItemData","data-id","Image","rounded","newLocalShoppingCart","filter","removeItemFromCart","PayGate","sort","justifyContent","getTotalPrice","Login","PlaceOrder","showTotalCartPrice","ref","createNewOrder","ordersData","setOrdersData","shippedObj","setShippedObj","expandedObj","setExpandedObj","validatedOrdersData","obj","ShowItemDataForOrder","passItemData","shopTotal","Fragment","order","ShowOrderDetails","passShops","ShowBuyerDetails","passUserInformation","buyerId","iban","span","offset","ShowOrders","createdAt","isShipped","statusColor","oldValue","handleExpanded","moment","format","float","paddingBottom","checked","stopPropagation","newVal","expandObj","handleShipping","colSpan","Table","striped","bordered","hover","query","URLSearchParams","useLocation","paymentId","paymentResultCode","ShowWines","WineOverview","eventPopup","setEventPopup","Date","startDate","setStartDate","setName","idFromName","setIdFromName","link","setLink","where","setWhere","when","setWhen","setNewId","showTimeSelect","selected","date","eventData","valueOf","b","event","maxWidth","eventId","EditEvent","passLink","open","focus","AddEvent","servicePopup","setServicePopup","serviceData","service","text","serviceId","EditService","AddService","setIsLoggedIn","setUserData","loadingData","setLoadingData","withCredentials","integrity","crossOrigin","exact","path","Home","Vinarne","Vinka","ShoppingCart","SuccessPayment","RejectPayment","Orders","Events","Services","ShopOnline","ReactDOM","render","App","getElementById"],"mappings":"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","file":"static/js/main.e5be75cb.chunk.js","sourcesContent":["import React, {useEffect, useState } from 'react'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport crypto from 'crypto'\r\nimport locutus from 'locutus/php/misc/pack'\r\n\r\nexport default ({paymentPopup, setPaymentPopup, orderInfo}) => {\r\n    const {total, orderId } = orderInfo\r\n\r\n    const toHexString = bytes => bytes.reduce((str, byte) => str + byte.toString(16).padStart(2, '0'), '');\r\n\r\n    const GetSignature = (key, message) => {\r\n        const encryptedKey = locutus('A*', key)\r\n        const encryptedMessage = locutus('A*', message)\r\n        const uint8arr = crypto.createHmac('sha256', encryptedKey).update(encryptedMessage).digest()\r\n        const converted = toHexString(Buffer.from(uint8arr.buffer))\r\n        return converted.toUpperCase()\r\n    }\r\n\r\n    const constructOrder = () => {\r\n        const baseUrl = \"https://playground.trustpay.eu/mapi5/wire/paypopup\";\r\n        const accountId = 2107205663;\r\n        const amount = total;\r\n        const currency = \"EUR\";\r\n        const reference = orderId;\r\n        const paymentType = 0;\r\n    \r\n        const secretKey = \"5FIwY8FAc15vKHD96B9XQLhPIZdK8lNr\";\r\n        const sigData = `${accountId}/${amount.toFixed(2)}/${currency}/${reference}/${paymentType}`;\r\n        const signature = GetSignature(secretKey, sigData); //eslint-disable-line\r\n    \r\n        const url = `${baseUrl}?AccountId=${accountId}&Amount=${amount}&Currency=${currency}&Reference=${reference}&PaymentType=${paymentType}&Signature=${signature}`\r\n        return url;\r\n    }\r\n\r\n    return (\r\n        <Modal style={{backgroundColor: 'rgba(255,255,255,0) !important'}} show={paymentPopup} onHide={() => setPaymentPopup(true)}>\r\n            <iframe style={{padding: \"-15px\", width:\"100%\", height: \"550px\"}} id=\"TrustPayFrame\" src={constructOrder()}></iframe>\r\n            <div style={{\r\n                position: 'absolute', \r\n                right: 15, \r\n                top: 15, \r\n                height: 50, \r\n                width: 50, \r\n                cursor: 'pointer'\r\n            }} onClick={() => setPaymentPopup(false)}></div>\r\n        </Modal>\r\n    )\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\n\r\nimport {FiShoppingCart} from \"react-icons/fi\"\r\n\r\n// Navbar.js\r\nexport default ({ isLoggedIn, handleLogOut, userName }) => {\r\n  return (\r\n    <Navbar fixed=\"top\" bg=\"dark\" variant=\"dark\" expand=\"md\">\r\n      <Navbar.Brand>\r\n        <img\r\n          alt=\"\"\r\n          src=\"https://st2.depositphotos.com/8301258/11284/v/950/depositphotos_112842636-stock-illustration-logo-shop-bags-icon-symbol.jpg\"\r\n          width=\"30\"\r\n          height=\"30\"\r\n          className=\"d-inline-block align-top\"\r\n        />\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n      <Navbar.Collapse id=\"basic-navbar-nav\">\r\n        <Nav className=\"mr-auto\">\r\n          <Link className={`nav-elem`} to=\"/\">\r\n            Domov\r\n          </Link>\r\n\r\n          <Link className={`nav-elem`} to=\"/vinarne\">\r\n            Vinarne\r\n          </Link>\r\n\r\n          <Link className={`nav-elem`} to=\"/vinka\">\r\n            Vinka\r\n          </Link>\r\n\r\n          <Link className={`nav-elem`} to=\"/akcie\">\r\n            Akcie\r\n          </Link>\r\n\r\n          <Link className={`nav-elem`} to=\"/sluzby\">\r\n            Sluzby\r\n          </Link>\r\n        </Nav>\r\n        <Nav className=\"mr-sm-2\">\r\n            <Link className={`nav-elem`} to=\"/cart-page\">\r\n              <FiShoppingCart />\r\n            </Link>\r\n          {isLoggedIn ? (\r\n            <>\r\n              <Link className={`nav-elem`} to=\"/objednavky\">\r\n                Objednavky\r\n              </Link>\r\n              <Link className={`nav-elem`} onClick={handleLogOut} to=\"\">\r\n                Logout\r\n              </Link>\r\n            </>\r\n          ) : (\r\n            <Link className={`nav-elem`} to=\"/login-page\">\r\n              Login\r\n            </Link>\r\n          )}\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\"\r\n\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nexport default ({ showEditItems, setShowEditItems, shopId, itemId, itemDataProp, setShouldReload, shouldReload }) => {\r\n  const [itemName, setItemName] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [imageLink, setImageLink] = useState(\"\");\r\n  const [canSaveItem, setCanSaveItem] = useState(false);\r\n  const [maxCount, setMaxCount] = useState('')\r\n  const [color, setColor] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [taste, setTaste] = useState(\"\");\r\n\r\n  const [itemData, setItemData] = useState({...itemDataProp})\r\n\r\n  const resetPropsOnHide = () => {\r\n    setImageLink(\"\")\r\n    setItemName(\"\")\r\n    setPrice(\"\")\r\n    setDescription(\"\")\r\n    setCanSaveItem(false)\r\n    setShowEditItems('')\r\n  }\r\n\r\n  const getImage = (image) => {\r\n    try {\r\n      const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n      return img;\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleSaveItem = () => {\r\n    if (itemName) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/itemName/${itemName}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (price) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/price/${price}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (description) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/description/${description}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (imageLink) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/imageLink/${imageLink}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (maxCount) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/maxCount/${maxCount}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (color) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/color/${color}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (type) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/type/${type}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (taste) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/taste/${taste}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n  };\r\n\r\n  const deleteFile = (file) => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/deleteFile/${shopId}`, {\r\n        params: file\r\n      })\r\n      .then(() => \r\n        {return}\r\n      )\r\n      .catch((err) => err && console.log(err));\r\n  };\r\n  useEffect(() => {\r\n    const isAlready = getImage(imageLink) ? getImage(imageLink) : imageLink;\r\n    if (isAlready || imageLink || description || price || itemName || color || type || taste) {\r\n      setCanSaveItem(true);\r\n    }\r\n  }, [imageLink, description, price, itemName, color, type, taste]);\r\n\r\n  const getUploadParams = ({ meta }) => {\r\n    return { url: `https://mas-vino.herokuapp.com/fileUpload/${shopId}` };\r\n  };\r\n\r\n  const handleChangeStatus = ({ meta, file }, status) => {\r\n    if (status === \"removed\") {\r\n      deleteFile(meta);\r\n    }\r\n    if (status === \"done\") {\r\n      setImageLink(`${shopId}-${meta.name}`);\r\n    }\r\n  };\r\n\r\n  const deleteFormerImage = () => {\r\n    const newItemData = {...itemData, imageLink: ''}\r\n    setItemData(newItemData)\r\n  }\r\n\r\n  return (\r\n    <Modal show={showEditItems} onHide={() => resetPropsOnHide()}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Add an item to your shop.</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"shopName\">Name your item:</label>\r\n            <input\r\n              value={itemName || itemData.itemName}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"shopName\"\r\n              onChange={(e) => setItemName(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"price\">Price:</label>\r\n            <input\r\n              value={price || itemData.price}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"price\"\r\n              onChange={(e) => setPrice(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"color\">Farba:</label>\r\n            <input\r\n              value={color || itemData.color}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"color\"\r\n              placeholder=\"povinne\"\r\n              onChange={(e) => setColor(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"taste\">Chut:</label>\r\n            <input\r\n              value={taste || itemData.taste}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"taste\"\r\n              onChange={(e) => setTaste(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"type\">Druh:</label>\r\n            <input\r\n              value={type || itemData.type}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"type\"\r\n              onChange={(e) => setType(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col>\r\n            <label htmlFor=\"sizes\">Maximalny pocet flias v jednej objednavke:</label>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col className=\"form-group\">\r\n          <InputGroup>\r\n              <input\r\n                value={maxCount || itemData.maxCount || ''}\r\n                className=\"form-control\"\r\n                type=\"number\"\r\n                name=\"sizes\"\r\n                onChange={(e) => setMaxCount(e.target.value)}\r\n                placeholder={'Nechaj prazdne ak nieje hranica'}\r\n              />\r\n            </InputGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"description\">Description:</label>\r\n            <textarea\r\n              maxLength=\"230\"\r\n              value={description || itemData.description}\r\n              className=\"form-control\"\r\n              name=\"description\"\r\n              type=\"text\"\r\n              style={{ resize: \"none\", minHeight: \"100px\" }}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <br />\r\n        <SlideDown className={\"my-dropdown-slidedown\"}>\r\n        {itemData.imageLink ? \r\n        <Row className=\"justify-content-center text-center\">\r\n          <Col className=\"form-group\">\r\n            <img style={{height:'110px', width: '80px'}} src={getImage(itemData.imageLink) ? getImage(itemData.imageLink) : itemData.imageLink} />\r\n            <Button onClick={() => deleteFormerImage()} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n          </Col>\r\n        </Row> :\r\n        <Row>\r\n          <Col>\r\n            <Dropzone\r\n              maxFiles={1}\r\n              multiple={false}\r\n              canCancel={false}\r\n              getUploadParams={getUploadParams}\r\n              onChangeStatus={handleChangeStatus}\r\n              accept=\"image/*\"\r\n              inputContent={() => (\r\n                <p\r\n                  className=\"text-center\"\r\n                  key=\"label\"\r\n                  style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                >\r\n                  Drop or click to choose image.\r\n                  <br />\r\n                  <BsUpload />\r\n                </p>\r\n              )}\r\n              classNames={{\r\n                dropzone: \"dropzoning\"\r\n              }}\r\n            />\r\n          </Col>\r\n        </Row>}\r\n      </SlideDown>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        {canSaveItem ? (\r\n          <Button variant=\"dark\" onClick={handleSaveItem}>\r\n            Save Item\r\n          </Button>\r\n        ) : (\r\n          <Button disabled variant=\"dark\">\r\n            Save Item\r\n          </Button>\r\n        )}\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport { MdDelete, MdEdit } from \"react-icons/md\";\r\n\r\nimport EditItems from \"./EditItems\";\r\n\r\nexport default ({colMdSettings, colXsSettings, shopItems, shopId, userId, setShouldReload, shouldReload, setShowAddedPopup, isOwner, url}) => {\r\n    const [count, setCount] = useState(\"\")\r\n    const [isHovered, setIsHovered] = useState(\"\")\r\n    const [clicked, setClicked] = useState('')\r\n    const [editing, setEditing] = useState('')\r\n\r\n    const copyFunction = (passId) => {\r\n      const dummy = document.createElement(\"textarea\");\r\n      document.body.appendChild(dummy);\r\n      dummy.value = passId;\r\n      dummy.select();\r\n      document.execCommand(\"copy\");\r\n      document.body.removeChild(dummy);\r\n      setClicked('#333333')\r\n      setTimeout(() => setClicked(''),150)\r\n    }\r\n    \r\n    const getImage = (image) => {\r\n      try {\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n      } catch {\r\n          return null;\r\n      }\r\n    };\r\n\r\n    const deleteCard = (e) => {\r\n      const itemId = e.currentTarget.parentNode.id;\r\n      axios\r\n          .post(\r\n          `https://mas-vino.herokuapp.com/shop/${shopId}/delete-item/${itemId}`,\r\n          {}\r\n          )\r\n          .then(() => setShouldReload(!shouldReload))\r\n          .catch((err) => err && console.log(`Error ${err}`));\r\n    };\r\n\r\n    return shopItems.map((item, i) => {\r\n      const { _id, itemName, price, description, imageLink, maxCount, color, taste } = item;\r\n      const passShopId = shopId === 'home' ? item.shopId : shopId\r\n\r\n      const image = getImage(imageLink)\r\n        ? getImage(imageLink)\r\n        : imageLink;\r\n\r\n      const showCount = () => {\r\n        let result = []\r\n        for (let num = 1; num<= (maxCount ?? 200); num++) {\r\n          result.push(<option key={num} value={num}>{num}</option>)\r\n        }\r\n        \r\n        return result\r\n      }\r\n\r\n      const handleCount = (e) => {\r\n        let countObj = {}\r\n        countObj[_id] = e.target.value\r\n        setCount({...count, ...countObj})\r\n      }\r\n\r\n      const handleEditing = (e) => {\r\n        const itemId = e.currentTarget.parentNode.id;\r\n        let editingObj = {}\r\n        editingObj[itemId] = true\r\n        setEditing({...editing, ...editingObj})\r\n      }\r\n\r\n      const handleMouseOver = () => {\r\n        let hoverObj = {}\r\n        hoverObj[_id] = 'block'\r\n        setIsHovered({...isHovered, ...hoverObj})\r\n      }\r\n\r\n      const handleMouseLeave = () => {\r\n        setIsHovered(\"\")\r\n      }\r\n\r\n      const addItemToCart = (e) => {\r\n        const itemId = e.currentTarget.parentNode.parentNode.parentNode.id;\r\n        const passCount = count[_id] || 1\r\n        if (userId) {\r\n          axios\r\n            .post(`https://mas-vino.herokuapp.com/users/${userId}/cart/add-cart-item/${passShopId}/${itemId}`, {\r\n            shopId: passShopId, itemId, count: passCount\r\n            })\r\n            .then(() => setShowAddedPopup(true))\r\n            .catch(err => err && console.log(err))\r\n            .then(() => setTimeout(() => setShowAddedPopup(false), 5000))\r\n        } else {\r\n          const localShoppingCart = localStorage.getItem('shoppingCart')\r\n          localStorage.removeItem('shoppingCart')\r\n          const newShoppingCart = localShoppingCart ? [...JSON.parse(localShoppingCart), {shopId: passShopId, itemId, count: passCount}] : [{shopId: passShopId, itemId, count: passCount}]\r\n          localStorage.setItem('shoppingCart', JSON.stringify(newShoppingCart))\r\n          setShowAddedPopup(true)\r\n          setTimeout(() => setShowAddedPopup(false), 5000)\r\n        }\r\n      }\r\n      return (\r\n        <Col className={`mt-2 mb-2 ${(shopId === 'home' && i>1) && 'd-none'} ${(shopId === 'home' && i===2) && 'd-none d-lg-block'} ${(shopId === 'home' && i===3) && 'd-none d-xl-block'}`} style={{color: \"whitesmoke\", overflow:\"hidden\"}} xs={12} md={6} lg={4} xl={3} key={_id}>\r\n          <Card onMouseEnter={() => handleMouseOver()} onMouseLeave={() => handleMouseLeave()} style={{height: \"410px\" }} id={_id} >\r\n            {isOwner &&\r\n            <Button\r\n              onClick={(e) => deleteCard(e)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                zIndex: \"+5\"\r\n              }}\r\n              variant=\"outline-danger\"\r\n            >\r\n              <MdDelete style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n            {isOwner &&\r\n            <Button\r\n              onClick={(e) => handleEditing(e)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                marginLeft: \"40px\",\r\n                zIndex: \"+5\"\r\n              }}\r\n              variant=\"outline-warning\"\r\n            >\r\n              <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n            {editing[_id] && <EditItems shouldReload={shouldReload} setShouldReload={setShouldReload} itemDataProp={item} showEditItems={editing[_id]} setShowEditItems={setEditing} shopId={passShopId} itemId={_id} />}\r\n            <img className=\"shop-item-img\" style={{height: \"408px\"}} src={image} />\r\n            <div style={{color: \"black\", marginTop: \"-110px\" , backgroundColor: \"rgba(255,255,255, 0.7)\"}}>\r\n              <Card.Title className=\"mt-1 mb-1\">{itemName}</Card.Title>\r\n              {(color && taste) && \r\n              <Card.Text className=\"mt-1 mb-1\">{`${color[0].toUpperCase()}${color.substring(1).toLowerCase()}, ${taste[0].toUpperCase()}${taste.substring(1).toLowerCase()}`}</Card.Text>}\r\n              <Card.Text className={`mt-1 mb-1 pb-4`}>{price} €</Card.Text>\r\n            </div>\r\n            <Card.ImgOverlay className={`${isHovered[_id] === 'block' ? 'fade-in' : 'fade-out'}`} style={{ background: \"rgba(52,58,64,0.7)\"}} >\r\n                <Button style={{width: \"100%\"}} onClick={(e) => addItemToCart(e)} variant=\"dark\">Add to shopping cart.</Button>\r\n                <Container>\r\n                  <Row className=\"mt-2\">\r\n                    <Col>\r\n                      <Form.Control\r\n                        as=\"select\"\r\n                        value={count[_id]}\r\n                        onChange={(e) => handleCount(e)}\r\n                      >\r\n                        {showCount()}\r\n                      </Form.Control>\r\n                    </Col>\r\n                  </Row>\r\n                  {isOwner &&\r\n                  <Row>\r\n                    <Col><a onClick={() => copyFunction(_id)} style={{textDecoration: 'none', cursor: 'pointer', color: clicked}}><strong>copy my id!</strong></a></Col>\r\n                  </Row>}\r\n                  <Row style={{height: '240px', marginTop: '5px', marginBottom: '5px'}}>\r\n                    <Col>{description}</Col>\r\n                  </Row>\r\n                  {url && \r\n                    <Link to={`/${url}`}>\r\n                      <Button style={{width: \"100%\"}} variant=\"dark\">Visit shop.</Button>\r\n                    </Link>\r\n                  }\r\n                </Container>\r\n            </Card.ImgOverlay>\r\n          </Card>\r\n        </Col>\r\n      );\r\n    });\r\n  };","import React, {useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nconst IMAGE_PREFIX = 'homescreen-event-image'\r\n\r\nexport default ({eventsPopup, setEventsPopup, forceRefresh, setForceRefresh, eventsImage, eventsText}) => {\r\n    const [description, setDescription] = useState(eventsText)\r\n    const [imageLink, setImageLink] = useState(eventsImage)\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            console.log(image)\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${IMAGE_PREFIX}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${IMAGE_PREFIX}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${IMAGE_PREFIX}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        axios.put(`https://mas-vino.herokuapp.com/home/events-description`, { descriptionEvents: description, imageLinkEvents: imageLink })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setForceRefresh(!forceRefresh)\r\n                setEventsPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n\r\n    return (\r\n        <Modal show={eventsPopup} onHide={() => setEventsPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {\r\n                imageLink ? \r\n                <Row className=\"justify-content-center text-center\">\r\n                    <Col className=\"form-group\">\r\n                    <img style={{height:'110px', width: '160px'}} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                    <Button onClick={() => setImageLink('')} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n                    </Col>\r\n                </Row> :\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok udalosti. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(description && imageLink) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Upravit\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Upravit\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setEventsPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, {useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nconst IMAGE_PREFIX = 'homescreen-service-image'\r\n\r\nexport default ({servicesPopup, setServicesPopup, forceRefresh, setForceRefresh, servicesImage, servicesText}) => {\r\n    const [description, setDescription] = useState(servicesText)\r\n    const [imageLink, setImageLink] = useState(servicesImage)\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            console.log(image)\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${IMAGE_PREFIX}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${IMAGE_PREFIX}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${IMAGE_PREFIX}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        axios.put(`https://mas-vino.herokuapp.com/home/services-description`, { descriptionServices: description, imageLinkServices: imageLink })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setForceRefresh(!forceRefresh)\r\n                setServicesPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n\r\n    return (\r\n        <Modal show={servicesPopup} onHide={() => setServicesPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {\r\n                imageLink ? \r\n                <Row className=\"justify-content-center text-center\">\r\n                    <Col className=\"form-group\">\r\n                    <img style={{height:'110px', width: '160px'}} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                    <Button onClick={() => setImageLink('')} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n                    </Col>\r\n                </Row> :\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok udalosti. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(description && imageLink) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Upravit\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Upravit\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setServicesPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, {useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nexport default ({descriptionsPopup, setDescriptionsPopup, forceRefresh, setForceRefresh, descriptionsText}) => {\r\n    const [description, setDescription] = useState(descriptionsText)\r\n\r\n    const handleSave = () => {\r\n        axios.put(`https://mas-vino.herokuapp.com/home/general-description`, { descriptionGeneral: description })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setForceRefresh(!forceRefresh)\r\n                setDescriptionsPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n\r\n    return (\r\n        <Modal show={descriptionsPopup} onHide={() => setDescriptionsPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"400px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n            <br />\r\n            {description ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Upravit\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Upravit\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setDescriptionsPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","export default {\r\n    MAX_HEIGHT_JUMBO: 320\r\n}","import React, {useState, useEffect} from \"react\";\r\nimport axios from 'axios';\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport ShowItem from '../Shop/ViewShop/ShowItem';\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Carousel from \"react-bootstrap/Carousel\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport UpdateEvents from './UpdateEvents';\r\nimport UpdateServices from './UpdateServices';\r\nimport UpdateDescription from './UpdateDescription';\r\n\r\nimport options from '../../config/options';\r\n\r\nimport { MdEdit,MdMailOutline } from \"react-icons/md\";\r\nimport { BiCodeAlt } from \"react-icons/bi\";\r\nimport { FaFacebookF,FaInstagram } from \"react-icons/fa\";\r\n\r\nconst {MAX_HEIGHT_JUMBO} = options\r\n\r\n//Home.js\r\nexport default ({userId, isOwner}) => {\r\n  const [carouselData, setCarouselData] = useState('')\r\n  const [featuredWines, setFeaturedWines] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [showAddedPopup, setShowAddedPopup] = useState(false)\r\n  const [featuredIds, setFeaturedIds] = useState([])\r\n  const [isIdAvail, setIsIdAvail] = useState(['','','',''])\r\n  const [tempId, setTempId] = useState([])\r\n\r\n  const [eventsData, setEventsData] = useState([])\r\n  const [servicesData, setServicesData] = useState([])\r\n  const [descriptionGeneral, setDescriptionGeneral] = useState('')\r\n\r\n  const [eventsPopup, setEventsPopup] = useState(false)\r\n  const [servicesPopup, setServicesPopup] = useState(false)\r\n  const [descriptionsPopup, setDescriptionsPopup] = useState(false)\r\n\r\n  const [forceRefresh, setForceRefresh] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    axios.get(`https://mas-vino.herokuapp.com/home/`)\r\n      .then(res => {\r\n        const featured = res.data.featuredWines\r\n        const events = [res.data.descriptionEvents, res.data.imageLinkEvents]\r\n        const services = [res.data.descriptionServices, res.data.imageLinkServices]\r\n        const description = res.data.descriptionGeneral\r\n        setEventsData(events)\r\n        setServicesData(services)\r\n        setDescriptionGeneral(description)\r\n        setFeaturedIds(featured)\r\n        setTempId(featured)\r\n        setFeaturedWines([])\r\n        featured.map(item => {\r\n          axios.get(`https://mas-vino.herokuapp.com/shop/find-item-by-id/${item}`)\r\n            .then(res => {\r\n              const response = res.data\r\n              const newObj = {...response[0], shopId: response[1]}\r\n              return setFeaturedWines(prev => [...prev, newObj])\r\n            })\r\n            .catch(err => err && console.log('Error while setting full featured wines, ', err))\r\n        })\r\n      })\r\n      .catch(err => err && console.log('Error while fetching featured wines, ', err))\r\n    axios.get(`https://mas-vino.herokuapp.com/shop/`)\r\n      .then(res => setCarouselData(res.data))\r\n      .catch(err => err && console.log('Error while fetching shops for carousel, ', err))\r\n      .then(() => setLoading(false))  \r\n  }, [forceRefresh])\r\n\r\n  const getImage = (image) => {\r\n    try {\r\n        const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n        return img;\r\n    } catch {\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const ShowEvents = () => {\r\n    return (\r\n      <Col md={6} className=\"mt-4 mb-4\">\r\n        {isOwner &&\r\n          <Button\r\n            onClick={() => setEventsPopup(true)}\r\n            style={{\r\n              width: \"40px\",\r\n              height: \"40px\",\r\n              marginBottom: \"-40px\",\r\n              zIndex: \"+1\",\r\n              position:'absolute'\r\n            }}\r\n            variant=\"outline-warning\"\r\n          >\r\n            <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n          </Button>\r\n          }\r\n          <Link to=\"/akcie\"><img className=\"w-100\" src={getImage(eventsData[1]) ? getImage(eventsData[1]) : eventsData[1]} /> </Link>\r\n      </Col>\r\n    )\r\n  }\r\n\r\n  const ShowServices = () => {\r\n    return (\r\n      <Col md={6} className=\"mt-4 mb-4\">\r\n        {isOwner &&\r\n          <Button\r\n            onClick={() => setServicesPopup(true)}\r\n            style={{\r\n              width: \"40px\",\r\n              height: \"40px\",\r\n              marginBottom: \"-40px\",\r\n              zIndex: \"+1\",\r\n              position:'absolute'\r\n            }}\r\n            variant=\"outline-warning\"\r\n          >\r\n            <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n          </Button>}\r\n          <Link to=\"/sluzby\">\r\n            <img className=\"w-100\" src={getImage(servicesData[1]) ? getImage(servicesData[1]) : servicesData[1]} /> \r\n          </Link>\r\n      </Col>\r\n    )\r\n  }\r\n\r\n  const ShowGeneral = () => {\r\n    return (\r\n      <Row className=\"text-center mt-4 mb-4\">\r\n        <Col className=\"mt-4 mb-4\">\r\n          {isOwner &&\r\n            <Button\r\n              onClick={() => setDescriptionsPopup(true)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                zIndex: \"+1\",\r\n                position:'absolute'\r\n              }}\r\n              variant=\"outline-warning\"\r\n            >\r\n              <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n          {descriptionGeneral}\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n\r\n  const showCarouselWithData = () => {\r\n    return carouselData.map(shop => {\r\n      const {shopName, owner, url, imageLink} = shop\r\n      const image = getImage(imageLink)\r\n        ? getImage(imageLink)\r\n        : imageLink;\r\n      return (\r\n        <Carousel.Item key={`id-${image}`} style={{maxHeight: MAX_HEIGHT_JUMBO}}>\r\n            <Link to={`/${url}`}>\r\n            <img\r\n              className=\"d-block w-100\"\r\n              src={image}\r\n              alt={`Carousel-${imageLink}`}\r\n            />\r\n            <Carousel.Caption>\r\n              <h3>{shopName}</h3>\r\n              <p>{owner}</p>\r\n            </Carousel.Caption>\r\n          </Link>\r\n        </Carousel.Item>\r\n      )\r\n    })\r\n  }\r\n\r\n  const handleSuccessFeatureChange = () => {\r\n    for (let i = 0; i<featuredIds.length; i++) {\r\n      if (featuredIds[i] !== tempId[i]) {\r\n        setFeaturedIds(tempId)\r\n        axios.post(`https://mas-vino.herokuapp.com/home/featured-wines`, {featuredWines: tempId})\r\n          .then(res => window.location.reload())\r\n          .catch(err => err && console.log(err))\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleFeaturedIds = (e, i) => {\r\n    const newValue = tempId[i]\r\n    let newIdAvail = [...isIdAvail]\r\n    axios.get(`https://mas-vino.herokuapp.com/shop/find-item-by-id/${newValue}`)\r\n      .then(res => {\r\n        if (res.data[0]) {\r\n          newIdAvail[i] = ''\r\n          setIsIdAvail(newIdAvail)\r\n          handleSuccessFeatureChange()\r\n        } else {\r\n          newIdAvail[i] = 'invalid-input'\r\n          setIsIdAvail(newIdAvail)\r\n        }\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  const handleTempId = (e, i) => {\r\n    const newValue = e.target.value\r\n    let newTempIds = [...tempId]\r\n    newTempIds[i] = newValue\r\n    setTempId(newTempIds)\r\n  }\r\n\r\n  const ShowUpdateFeaturedWines = () => {\r\n    return tempId.map((featured, i) => {\r\n      return (\r\n        <Col key={`featuerd-${i}`} sm={6} md={3} className={`text-center mt-1`}>\r\n          <input\r\n            className={`form-control text-center ${isIdAvail[i]}`}\r\n            type=\"text\"\r\n            name={`featured-${i}`}\r\n            value={featured}\r\n            onChange={(e) => handleTempId(e, i)}\r\n            onBlur={(e) => handleFeaturedIds(e, i)}\r\n          />\r\n        </Col>\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    loading ? \r\n    <Spinner\r\n      style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n      animation=\"border\"\r\n    />\r\n    :\r\n    <>\r\n      {showAddedPopup &&\r\n          <Alert style={{position: \"fixed\", zIndex: '9', top:56, right:0}} variant=\"success\" onClose={() => setShowAddedPopup(false)} dismissible>\r\n            <p>Item added to cart!</p>\r\n          </Alert>\r\n      }\r\n      {eventsPopup &&\r\n        <UpdateEvents eventsText={eventsData[0]} eventsImage={eventsData[1]} eventsPopup={eventsPopup} setEventsPopup={setEventsPopup} forceRefresh={forceRefresh} setForceRefresh={setForceRefresh} />\r\n      }\r\n      {servicesPopup &&\r\n        <UpdateServices servicesText={servicesData[0]} servicesImage={servicesData[1]} servicesPopup={servicesPopup} setServicesPopup={setServicesPopup} forceRefresh={forceRefresh} setForceRefresh={setForceRefresh} />\r\n      }\r\n      {descriptionsPopup &&\r\n        <UpdateDescription descriptionsText={descriptionGeneral} descriptionsPopup={descriptionsPopup} setDescriptionsPopup={setDescriptionsPopup} forceRefresh={forceRefresh} setForceRefresh={setForceRefresh} />\r\n      }\r\n      <Carousel indicators={false} style={{maxHeight: MAX_HEIGHT_JUMBO}}>\r\n        {carouselData && showCarouselWithData()}  \r\n      </Carousel>\r\n      <div>\r\n        <Container>\r\n          <ShowGeneral />\r\n        </Container>\r\n      </div>\r\n      <div style={{background: 'rgba(52,58,64, 0.2)'}}>\r\n        <Container className=\"pt-3 pb-3\">\r\n          {isOwner &&\r\n          <Row>\r\n            <ShowUpdateFeaturedWines />\r\n          </Row>}\r\n          <Row className=\"text-center pt-4 pb-4\">\r\n            <ShowItem colXsSettings={6} colMdSettings={3} shopItems={featuredWines} shopId={'home'} userId={userId} setShouldReload={false} shouldReload={false} setShowAddedPopup={setShowAddedPopup} isOwner={false} />\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n      <div>\r\n        <Container>\r\n        <Row className=\"mt-4 mb-4\">\r\n          <ShowEvents />\r\n          <ShowServices />\r\n        </Row>\r\n        </Container>\r\n      </div>\r\n      <div style={{background: 'rgba(52,58,64, 0.2)'}}>\r\n        <Container>\r\n          <Row className=\"text-center pt-4 pb-4 mb-4\">\r\n            <Col>\r\n              <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://github.com/mattiass771\" style={{textDecoration: 'none', color: '#333333'}}>\r\n                <BiCodeAlt style={{fontSize: '150%', marginTop: '-2px'}} /> by <strong>MZ</strong>\r\n              </a>\r\n            </Col>\r\n            <Col>\r\n              <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://facebook.com\" style={{textDecoration: 'none', color: '#333333'}}>\r\n                <FaFacebookF style={{fontSize: '130%', marginTop: '-2px', marginRight: '-4px'}} />acebook.com<strong>/masvino</strong>\r\n              </a>\r\n            </Col>\r\n            <Col>\r\n              <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://instagram.com\" style={{textDecoration: 'none', color: '#333333'}}>\r\n                <FaInstagram style={{fontSize: '150%', marginTop: '-2px'}} /><strong>#masvino</strong>\r\n              </a>\r\n            </Col>\r\n            <Col>\r\n              <MdMailOutline style={{fontSize: '150%', marginTop: '-2px'}} /><strong style={{color: '#333333'}}>masvino@mail.com</strong>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport shortid from 'shortid';\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\n// CreateShop.js\r\nexport default ({ userData }) => {\r\n  const [shopName, setShopName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  const owner = userData.fullName;\r\n  const ownerId = userData._id;\r\n\r\n  const handleOpenShop = () => {\r\n    console.log(owner, shopName, ownerId, description, shortid.generate())\r\n    axios\r\n      .post(`https://mas-vino.herokuapp.com/shop/add`, {\r\n        shopName,\r\n        owner,\r\n        ownerId,\r\n        description,\r\n        url: shortid.generate()\r\n      })\r\n      .then((res) => console.log(res.data))\r\n      .catch((err) => err && console.log(`Error catched: ${err}`))\r\n      .then(() => window.location.reload());\r\n  };\r\n\r\n  return (\r\n    <SlideDown className={\"my-dropdown-slidedown\"}>\r\n      <Container>\r\n        <br />\r\n        <Row>\r\n          <Col className=\"text-center\">\r\n            <h1>Create new shop!</h1>\r\n            <p>\r\n              Please fill out the form below and shortly after, your very own shop\r\n              will be generated.\r\n            </p>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"form-group\">\r\n            <label htmlFor=\"shopName\">Name your shop:</label>\r\n            <input\r\n              value={shopName}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"shopName\"\r\n              onChange={(e) => setShopName(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"form-group\">\r\n            <label htmlFor=\"setDescription\">\r\n              Add a brief description to your shop:\r\n            </label>\r\n            <textarea\r\n              value={description}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"setDescription\"\r\n              onChange={(e) => setDescription(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center\">\r\n            <Button variant=\"dark\" onClick={handleOpenShop}>\r\n              Open Shop!\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      <hr />\r\n    </SlideDown>\r\n  );\r\n};\r\n","import React, {useState} from 'react';\r\nimport CreateShop from \"./CreateShop\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Card from \"react-bootstrap/Card\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default ({userData, shopData}) => {\r\n    const [showCreateShop, setShowCreateShop] = useState(false)\r\n    const [isHovered, setIsHovered] = useState(\"\")\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n      };\r\n\r\n    const showShops = () => {\r\n        return shopData.map(shop => {\r\n            const { _id, shopName, description, url, overviewImage } = shop\r\n            const handleMouseOver = () => {\r\n                let hoverObj = {}\r\n                hoverObj[_id] = 'none'\r\n                setIsHovered({...isHovered, ...hoverObj})\r\n            }\r\n            const handleMouseLeave = () => {\r\n                let hoverObj = {}\r\n                setIsHovered('')\r\n            }\r\n            return (\r\n                <Col className=\"mt-2 mb-2\" style={{maxHeight: \"310px\"}} md={4} key={_id} >\r\n                    <Link to={`/${url}`}>\r\n                        <Card className=\"h-100\" onMouseEnter={() => handleMouseOver()} onMouseLeave={() => handleMouseLeave()} style={{ textAlign:\"center\", color: \"whitesmoke\" }} id={_id} >\r\n                            <Card.Img className=\"h-100\" src={getImage(overviewImage) ? getImage(overviewImage) : `https://miro.medium.com/max/295/1*i5iqn7xB-l0kLwsJJBYEWQ.jpeg`} />\r\n                            <Card.ImgOverlay className={`${isHovered[_id] === 'none' ? 'fade-out' : 'fade-in'}`} style={{ background: \"rgba(52,58,64,0.4)\"}} >\r\n                                    <h3 style={{paddingTop: \"50%\"}}>\r\n                                        {shopName}\r\n                                    </h3>\r\n                            </Card.ImgOverlay>\r\n                        </Card>\r\n                    </Link>\r\n                </Col>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Row>\r\n                {userData.isOwner && \r\n                <Col className=\"text-center\">\r\n                    {showCreateShop ? \r\n                    <CreateShop userData={userData} /> :\r\n                    <Button style={{marginTop: \"20px\"}} variant=\"dark\" onClick={() => setShowCreateShop(true)}>New Shop</Button>\r\n                    }\r\n                </Col>}\r\n            </Row>\r\n            <Row className=\"mt-4\">\r\n                {showShops()}\r\n            </Row>\r\n        </Container>\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport ShopsOverview from \"./ShopsOverview\";\r\n\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\n//Shop.js\r\nexport default ({ userData }) => {\r\n  const [shopData, setShopData] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/shop/`)\r\n      .then((res) => setShopData(res.data ? res.data : {}))\r\n      .catch((err) => {\r\n        if (err) return console.log(`Fetch error: ${err}`);\r\n      })\r\n      .then(() => setLoading(false));\r\n  }, []); //eslint-disable-line\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <Spinner\r\n          style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n          animation=\"border\"\r\n        />\r\n      ) : <ShopsOverview userData={userData} shopData={shopData} />}\r\n    </>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\n// Login.js\r\nexport default ({shoppingCart = false, handleLogin}) => {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [middleName, setMiddleName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [passwordFirst, setPasswordFirst] = useState(\"\");\r\n  const [passwordSecond, setPasswordSecond] = useState(\"\");\r\n  const [passwordsMatch, setPasswordsMatch] = useState(false);\r\n  const [emailExists, setEmailExists] = useState(null);\r\n  const [phone, setPhone] = useState(\"\")\r\n\r\n  const [street, setStreet] = useState(\"\")\r\n  const [postal, setPostal] = useState(\"\")\r\n  const [city, setCity] = useState(\"\")\r\n\r\n  const handleSignUp = () => {\r\n    const fullName = middleName\r\n      ? firstName + \" \" + middleName + \" \" + lastName\r\n      : firstName + \" \" + lastName;\r\n    const address = `${street},${postal.toString()},${city}`\r\n    console.log(typeof phone, phone, typeof address, address )\r\n    axios\r\n      .post(`https://mas-vino.herokuapp.com/users/add-user`, {\r\n        userName: email,\r\n        password: passwordSecond,\r\n        fullName: fullName,\r\n        email: email,\r\n        phone: phone,\r\n        address: address\r\n      })\r\n      .then((res) => console.log(res.data))\r\n      .catch((err) => err && console.log(`Error: ${err}`))\r\n      .then(() => shoppingCart ? handleLogin() : window.location.reload());\r\n  };\r\n\r\n  const checkIfPasswordMeetsCriteria = () => {\r\n    if (\r\n      passwordFirst.search(/[0-9]/) !== -1 &&\r\n      passwordFirst.search(/[a-z]/) !== -1 &&\r\n      passwordFirst.search(/[A-Z]/) !== -1 &&\r\n      passwordFirst &&\r\n      passwordFirst.length > 7\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  const checkIfEmailInDatabase = () => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/users/email/${email}`)\r\n      .then((res) => setEmailExists(res.data))\r\n      .catch((err) => err && console.log(`Error: ${err}`));\r\n  };\r\n\r\n  const checkIfEmailMeetsCriteria = () => {\r\n    if (\r\n      email &&\r\n      emailExists === null &&\r\n      email.match(/[a-z]+[.]?[a-z]*[@][a-z]+[.][a-z]{1,5}/gi)\r\n    )\r\n      return \"\";\r\n    else if (email && email.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfNameMeetsCriteria = (name) => {\r\n    if (name && name.match(/^[a-z]+$/i)) return \"\";\r\n    else if (name && name.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfCityMeetsCriteria = () => {\r\n    if (city && city.match(/^[a-z]+$/i)) return \"\";\r\n    else if (city && city.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfStreetMeetsCriteria = () => {\r\n    if (street && street.match(/^[a-z ]+[0-9 ]+[/]{0,1}[a-z0-9 ]*$/i)) return \"\";\r\n    else if (street && street.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfPhoneMeetsCriteria = () => {\r\n    if (phone && phone.match(/^[+]?[0-9]{6,14}[0-9]$/)) return \"\";\r\n    else if (phone && phone.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfPostalMeetsCriteria = () => {\r\n    if (postal && postal.match(/^[0-9]{5}$/)) return \"\";\r\n    else if (postal && postal.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (passwordFirst && passwordSecond && passwordFirst === passwordSecond) setPasswordsMatch(true);\r\n    else setPasswordsMatch(false);\r\n  }, [passwordSecond]); //eslint-disable-line\r\n\r\n  return (\r\n    <SlideDown className={\"my-dropdown-slidedown\"}>\r\n      <Container>\r\n        <br />\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <h2>Sign up!</h2>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"firstName\">First Name:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                firstName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"firstName\"\r\n              value={firstName}\r\n              onChange={(e) =>\r\n                setFirstName(\r\n                  e.target.value &&\r\n                    e.target.value[0].toUpperCase() +\r\n                      e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"middleName\">Middle Name (Optional):</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                middleName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"middleName\"\r\n              value={middleName}\r\n              onChange={(e) =>\r\n                setMiddleName(\r\n                  e.target.value &&\r\n                    e.target.value[0].toUpperCase() +\r\n                      e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"lastName\">Last Name:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                lastName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"lastName\"\r\n              value={lastName}\r\n              onChange={(e) =>\r\n                setLastName(\r\n                  e.target.value &&\r\n                  e.target.value[0].toUpperCase() +\r\n                  e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"email\">E-mail:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfEmailMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              onBlur={checkIfEmailInDatabase}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"phone\">Phone:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfPhoneMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"phone\"\r\n              value={phone}\r\n              onChange={(e) => setPhone(e.target.value &&\r\n                (e.target.value).substring(0,16)\r\n                )}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"street\">Street and house no.:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfStreetMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"street\"\r\n              value={street}\r\n              onChange={(e) => setStreet(\r\n                e.target.value &&\r\n                e.target.value[0].toUpperCase() +\r\n                e.target.value.substring(1)\r\n              )}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"postal\">Postal:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfPostalMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"postal\"\r\n              value={postal}\r\n              onChange={(e) => setPostal(e.target.value && (e.target.value).substring(0,5))}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"city\">City:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfCityMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"city\"\r\n              value={city}\r\n              onChange={(e) => setCity(e.target.value)}\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"passwordFirst\">New Password:</label>\r\n            <input\r\n              className={`form-control text-center ${\r\n                !checkIfPasswordMeetsCriteria() && passwordFirst.length > 0\r\n                  ? \"invalid-input\"\r\n                  : \"\"\r\n              }`}\r\n              type=\"password\"\r\n              name=\"passwordFirst\"\r\n              value={passwordFirst}\r\n              onChange={(e) => setPasswordFirst(e.target.value)}\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"passwordSecond\">Repeat Password:</label>\r\n            <input\r\n              className=\"form-control text-center\"\r\n              type=\"password\"\r\n              name=\"passwordSecond\"\r\n              value={passwordSecond}\r\n              onChange={(e) => setPasswordSecond(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        {checkIfPasswordMeetsCriteria() ? null : (\r\n          <Row className=\"justify-content-md-center\">\r\n            <Col md={6} className=\"text-center mt-3\">\r\n              <em style={{ color: \"#7b1818\" }}>\r\n                Password must be at least 8 characters long and must contain one\r\n                lowercase, one uppercase character and one number.\r\n              </em>\r\n            </Col>\r\n          </Row>\r\n        )}\r\n\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-3\">\r\n            {emailExists && (\r\n              <>\r\n                <em style={{ color: \"#7b1818\" }}>\r\n                  This e-mail is already registered in our system!\r\n                </em>\r\n                <br />\r\n                <br />\r\n              </>\r\n            )}\r\n            {checkIfPasswordMeetsCriteria() && !passwordsMatch && (\r\n              <>\r\n                <em style={{ color: \"#7b1818\" }}>Passwords must match!</em>\r\n              </>\r\n            )}\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-3\">\r\n            {checkIfEmailMeetsCriteria() === \"\" &&\r\n            checkIfNameMeetsCriteria(firstName) === \"\" &&\r\n            checkIfNameMeetsCriteria(lastName) === \"\" &&\r\n            checkIfPasswordMeetsCriteria() &&\r\n            checkIfPhoneMeetsCriteria() === \"\" &&\r\n            checkIfStreetMeetsCriteria() === \"\" &&\r\n            checkIfPostalMeetsCriteria() === \"\" &&\r\n            checkIfCityMeetsCriteria() === \"\" &&\r\n            passwordsMatch &&\r\n            emailExists === null ? (\r\n              <Button onClick={handleSignUp} variant=\"dark\">\r\n                Sign up!\r\n              </Button>\r\n            ) : (\r\n              <Button disabled variant=\"dark\">\r\n                Sign up!\r\n              </Button>\r\n            )}\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </SlideDown>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport SignUp from \"./SignUp\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\n// Login.js\r\nexport default ({shoppingCart = false}) => {\r\n  const [signUp, setSignUp] = useState(\"display-none\");\r\n  const [hideButton, setHideButton] = useState(\"\");\r\n\r\n  const showSignUp = () => {\r\n    setSignUp(\"\");\r\n    setHideButton(\"display-none\");\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n        <SlideDown className={\"my-dropdown-slidedown\"}>\r\n        <br />\r\n        <Row>\r\n          <Col className=\"text-center\">\r\n            <h2>Sign in!</h2>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <form action={shoppingCart ? 'https://mas-vino.herokuapp.com/login?shopping=cart' : 'https://mas-vino.herokuapp.com/login'} method=\"post\">\r\n              <input\r\n                className=\"form-control text-center\"\r\n                type=\"text\"\r\n                placeholder=\"username\"\r\n                name=\"username\"\r\n              />\r\n              <br />\r\n              <input\r\n                className=\"form-control text-center\"\r\n                type=\"password\"\r\n                placeholder=\"password\"\r\n                name=\"password\"\r\n              />\r\n              <br />\r\n              <input\r\n                className=\"btn btn-dark\"\r\n                id=\"sub\"\r\n                type=\"submit\"\r\n                value=\"Sign in!\"\r\n              ></input>\r\n            </form>\r\n          </Col>\r\n        </Row>\r\n        <hr />\r\n        {!shoppingCart &&\r\n        <>\r\n          <div className={`${hideButton}`}>\r\n            <Row className={`justify-content-md-center`}>\r\n              <Col md={6} className=\"text-center mt-1\">\r\n                <Button onClick={showSignUp} variant=\"dark\">\r\n                  Hey, I am new here!\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n          <div className={`${signUp}`}>\r\n            <SignUp />\r\n          </div>\r\n        </>}\r\n      </SlideDown>\r\n    </Container>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\"\r\n\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nexport default ({ showAddItems, setShowAddItems, shopData }) => {\r\n  const [itemName, setItemName] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [imageLink, setImageLink] = useState(\"\");\r\n  const [canSaveItem, setCanSaveItem] = useState(false);\r\n  const [maxCount, setMaxCount] = useState('')\r\n  const [color, setColor] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [taste, setTaste] = useState(\"\");\r\n\r\n  const shopId = shopData._id;\r\n\r\n  const resetPropsOnHide = () => {\r\n    setImageLink(\"\")\r\n    setItemName(\"\")\r\n    setPrice(\"\")\r\n    setDescription(\"\")\r\n    setCanSaveItem(false)\r\n    setShowAddItems(false)\r\n  }\r\n\r\n  const getImage = (image) => {\r\n    try {\r\n      const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n      return img;\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleSaveItem = () => {\r\n    if (imageLink && description && price && itemName && color) {\r\n      axios\r\n        .post(`https://mas-vino.herokuapp.com/shop/${shopId}/add-item`, {\r\n          itemName,\r\n          price,\r\n          description,\r\n          imageLink,\r\n          maxCount: maxCount,\r\n          color,\r\n          type,\r\n          taste\r\n        })\r\n        .then(() => setShowAddItems(false))\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n  };\r\n\r\n  const deleteFile = (file) => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/deleteFile/${shopId}`, {\r\n        params: file\r\n      })\r\n      .then(() => \r\n        {return}\r\n      )\r\n      .catch((err) => err && console.log(err));\r\n  };\r\n  useEffect(() => {\r\n    const isAlready = getImage(imageLink) ? getImage(imageLink) : imageLink;\r\n    if (isAlready && imageLink && description && price && itemName && color) {\r\n      setCanSaveItem(true);\r\n    }\r\n  }, [imageLink, description, price, itemName, color]);\r\n\r\n  // specify upload params and url for your files\r\n  const getUploadParams = ({ meta }) => {\r\n    return { url: `https://mas-vino.herokuapp.com/fileUpload/${shopId}` };\r\n  };\r\n\r\n  // called every time a file's `status` changes\r\n  const handleChangeStatus = ({ meta, file }, status) => {\r\n    if (status === \"removed\") {\r\n      deleteFile(meta);\r\n    }\r\n    if (status === \"done\") {\r\n      setImageLink(`${shopId}-${meta.name}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal show={showAddItems} onHide={() => resetPropsOnHide()}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Add an item to your shop.</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"shopName\">Name your item:</label>\r\n            <input\r\n              value={itemName}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"shopName\"\r\n              onChange={(e) => setItemName(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"price\">Price:</label>\r\n            <input\r\n              value={price}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"price\"\r\n              onChange={(e) => setPrice(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"color\">Farba:</label>\r\n            <input\r\n              value={color}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"color\"\r\n              placeholder=\"povinne\"\r\n              onChange={(e) => setColor(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"taste\">Chut:</label>\r\n            <input\r\n              value={taste}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"taste\"\r\n              onChange={(e) => setTaste(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"type\">Druh:</label>\r\n            <input\r\n              value={type}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"type\"\r\n              onChange={(e) => setType(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col>\r\n            <label htmlFor=\"sizes\">Maximalny pocet flias v jednej objednavke:</label>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col className=\"form-group\">\r\n          <InputGroup>\r\n              <input\r\n                value={maxCount}\r\n                className=\"form-control\"\r\n                type=\"number\"\r\n                name=\"sizes\"\r\n                onChange={(e) => setMaxCount(e.target.value)}\r\n                placeholder=\"Nechaj prazdne ak nieje hranica\"\r\n              />\r\n            </InputGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"description\">Description:</label>\r\n            <textarea\r\n              maxLength=\"230\"\r\n              value={description}\r\n              className=\"form-control\"\r\n              name=\"description\"\r\n              type=\"text\"\r\n              style={{ resize: \"none\", minHeight: \"100px\" }}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <br />\r\n        <SlideDown className={\"my-dropdown-slidedown\"}>\r\n        <Row>\r\n          <Col>\r\n            <Dropzone\r\n              maxFiles={1}\r\n              multiple={false}\r\n              canCancel={false}\r\n              getUploadParams={getUploadParams}\r\n              onChangeStatus={handleChangeStatus}\r\n              accept=\"image/*\"\r\n              inputContent={() => (\r\n                <p\r\n                  className=\"text-center\"\r\n                  key=\"label\"\r\n                  style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                >\r\n                  Drop or click to choose image.\r\n                  <br />\r\n                  <BsUpload />\r\n                </p>\r\n              )}\r\n              classNames={{\r\n                dropzone: \"dropzoning\"\r\n              }}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </SlideDown>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        {canSaveItem ? (\r\n          <Button variant=\"dark\" onClick={handleSaveItem}>\r\n            Save Item\r\n          </Button>\r\n        ) : (\r\n          <Button disabled variant=\"dark\">\r\n            Save Item\r\n          </Button>\r\n        )}\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Alert from \"react-bootstrap/Alert\"\r\n\r\nimport axios from \"axios\";\r\n\r\nimport AddItems from \"./AddItems\";\r\n\r\nimport { FiPlusSquare } from \"react-icons/fi\";\r\n\r\nimport ShowItem from './ShowItem'\r\n\r\nexport default ({ shopData, isOwner, userId }) => {\r\n  const [showAddItems, setShowAddItems] = useState(false);\r\n  const [shopItems, setShopItems] = useState(shopData.shopItems);\r\n  const [shouldReload, setShouldReload] = useState(false);\r\n  const [showAddedPopup, setShowAddedPopup] = useState(false)\r\n\r\n  const shopId = shopData._id\r\n\r\n  useEffect(() => {\r\n    if (!showAddItems) {\r\n      setShouldReload(!shouldReload);\r\n    }\r\n  }, [showAddItems]); //eslint-disable-line\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/shop/${shopId}`)\r\n      .then((res) => setShopItems(res.data.shopItems))\r\n      .catch((err) => err && console.log(err.data))\r\n      .then(() => {\r\n        return;\r\n      });\r\n  }, [shouldReload]); //eslint-disable-line\r\n\r\n  return (\r\n    <Container className=\"text-center\">\r\n      {showAddedPopup &&\r\n        <Alert style={{position: \"fixed\", top:56, right:0}} variant=\"success\" onClose={() => setShowAddedPopup(false)} dismissible>\r\n          <p>Item added to cart!</p>\r\n        </Alert>\r\n      }\r\n      {isOwner &&\r\n        <AddItems\r\n          shopData={shopData}\r\n          showAddItems={showAddItems}\r\n          setShowAddItems={setShowAddItems}\r\n        />}\r\n      <Row>\r\n        <ShowItem \r\n          shopItems={shopItems} \r\n          userId={userId} \r\n          shopId={shopId} \r\n          setShouldReload={setShouldReload}\r\n          shouldReload={shouldReload}\r\n          setShowAddedPopup={setShowAddedPopup}\r\n          isOwner={isOwner}\r\n          />\r\n        {isOwner && \r\n        <Col className=\"mt-2 mb-2\" md={6} lg={4} xl={3}>\r\n          <Card style={{height: '400px'}}>\r\n            <Button\r\n              variant=\"outline-dark\"\r\n              style={{ border: '0px', height: '100%'}}\r\n              onClick={() => setShowAddItems(true)}\r\n            >\r\n              <FiPlusSquare\r\n                style={{\r\n                  margin: \"0 auto\",\r\n                  fontSize: \"400%\"\r\n                }}\r\n              />\r\n            </Button>\r\n          </Card>\r\n        </Col>}\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\"\r\nimport Button from \"react-bootstrap/Button\"\r\nimport Alert from \"react-bootstrap/Alert\"\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\n\r\nimport { BsUpload } from \"react-icons/bs\";\r\nimport { MdDelete } from \"react-icons/md\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport options from '../../../config/options';\r\nconst {MAX_HEIGHT_JUMBO} = options\r\n\r\n// CreateShop.js\r\nexport default ({ shopData, isOwner }) => {\r\n  let history = useHistory();\r\n  const url = shopData.url;\r\n  const [currentUrl, setCurrentUrl] = useState(url)\r\n  const [newUrl, setNewUrl] = useState(url)\r\n  const [isUrlAvailible, setIsUrlAvailible] = useState(true)\r\n  const [editMode, setEditMode] = useState(false)\r\n  const [shopName, setShopName] = useState(shopData.shopName)\r\n  const [error, setError] = useState('')\r\n  const [description, setDescription] = useState(shopData.description)\r\n  const [owner, setOwner] = useState(shopData.owner)\r\n  const [imageLink, setImageLink] = useState('');\r\n  const [overviewImage, setOverviewImage] = useState('');\r\n  const [showImageFromDb, setShowImageFromDb] = useState(shopData.imageLink ? shopData.imageLink : '')\r\n  const [localUploadingTitle, setLocalUploadingTitle] = useState(false)\r\n  const [localUploadingOverview, setLocalUploadingOverview] = useState(false)\r\n  const [textColor, setTextColor] = useState(shopData.textColor)\r\n\r\n  useEffect(() => {\r\n    console.log(textColor)\r\n    if (textColor !== shopData.textColor) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/textColor/${textColor}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    } \r\n  }, [textColor])\r\n\r\n  const getImage = (image) => {\r\n    try {\r\n      const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n      return img;\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // specify upload params and url for your files\r\n  const getUploadParams = ({ meta }) => {\r\n    return { url: `https://mas-vino.herokuapp.com/fileUpload/${shopData._id}` };\r\n  };\r\n\r\n  const deleteFile = (file) => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/deleteFile/${shopData._id}`, {\r\n        params: file\r\n      })\r\n      .then(() => \r\n        {return}\r\n      )\r\n      .catch((err) => err && console.log(err));\r\n  };\r\n\r\n  // called every time a file's `status` changes\r\n  const handleChangeStatus = ({ meta, file }, status) => {\r\n    if (status === \"removed\") {\r\n      deleteFile(meta);\r\n    }\r\n    if (status === \"done\") {\r\n      if (localUploadingTitle) {\r\n        setImageLink(`${shopData._id}-${meta.name.replace(/_/g,'-')}`);\r\n      } else if (localUploadingOverview) {\r\n        setOverviewImage(`${shopData._id}-${meta.name.replace(/_/g,'-')}`);\r\n      }\r\n    }\r\n  };\r\n\r\n  const deleteCard = (e) => {\r\n    axios\r\n        .delete(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}`\r\n        )\r\n        .then(() => history.push(`/vinarne`))\r\n        .catch((err) => err && console.log(`Error ${err}`));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (imageLink) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/imageLink/${imageLink}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    } \r\n  }, [imageLink])\r\n\r\n  useEffect(() => {\r\n    if (overviewImage) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/overviewImage/${overviewImage}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    } \r\n  }, [overviewImage])\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/shop/link/${currentUrl}`)\r\n      .then((res) => {\r\n        if (res.data && currentUrl !== newUrl) setIsUrlAvailible(false)\r\n        else setIsUrlAvailible(true)\r\n      })\r\n      .catch((err) => err && console.log(err))\r\n  }, [currentUrl])\r\n\r\n  const handleError = (error) => {\r\n    console.log('Error connecting to the database: ', error)\r\n    setError('Chyba pri aktualizacii dat, data neboli upravene v databaze.')\r\n    return setTimeout(() => setError(''), 5000)\r\n  }\r\n\r\n  const handleUrlChange = () => {\r\n    if (isUrlAvailible) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/url/${currentUrl}`\r\n      )\r\n      .then((res) => {\r\n        return setNewUrl(currentUrl);\r\n      })\r\n      .catch((err) => err && handleError(err))\r\n      .then(() => history.push(`/${currentUrl}`))\r\n    }\r\n  }\r\n\r\n  const handleShopNameChange = () => {\r\n    if (shopName) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/shopName/${shopName}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    }\r\n  }\r\n\r\n  const handleDescriptionChange = () => {\r\n    if (description) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/description/${description}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    }\r\n  }\r\n\r\n  const handleOwnerChange = () => {\r\n    if (owner) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/owner/${owner}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    }\r\n  }\r\n\r\n  const handleLocalUploadingOverview = () => {\r\n    setLocalUploadingTitle(false)\r\n    setLocalUploadingOverview(true)\r\n  }\r\n\r\n  const handleLocalUploadingTitle = () => {\r\n    setLocalUploadingOverview(false)\r\n    setLocalUploadingTitle(true)\r\n  }\r\n\r\n  return (\r\n    <Jumbotron style={{color: textColor === 'white' ? 'whitesmoke' : '#333333', background: `url(${getImage(showImageFromDb) ? getImage(showImageFromDb) : ''}) no-repeat`, backgroundSize: 'cover' }} fluid>\r\n      <Container className=\"text-center\">\r\n      {!editMode ?\r\n        <Row>\r\n          <Col>\r\n            <h2>{shopName}</h2>\r\n            <p>{description}</p>\r\n            <p>{owner}</p>\r\n          </Col>\r\n        </Row>\r\n        :\r\n        <>\r\n          <Row className=\"justify-content-md-center pb-2\">\r\n            <Col className=\"text-center\">\r\n              <Button variant={`${textColor === 'white' ? 'light' : 'dark'}`} onClick={() => setTextColor('white')} >Biely text</Button>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;\r\n              <Button variant={`${textColor === 'white' ? 'dark' : 'light'}`} onClick={() => setTextColor('black')} >Cierny text</Button>\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"justify-content-center\">\r\n            <Button\r\n              onClick={(e) => deleteCard(e)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                zIndex: \"+5\"\r\n              }}\r\n              variant=\"outline-danger\"\r\n            >\r\n              <MdDelete style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>\r\n            <Col xs={8}>\r\n              <input \r\n                className={'form-control text-center'}\r\n                value={shopName} \r\n                onChange={(e) => setShopName(e.target.value)} \r\n                onBlur={handleShopNameChange}\r\n                name=\"shopName\"\r\n                placeholder=\"Nazov\"\r\n              />\r\n              <textarea \r\n                style={{minHeight: '100px'}}\r\n                className={'form-control text-center'}\r\n                value={description} \r\n                onChange={(e) => setDescription(e.target.value)} \r\n                onBlur={handleDescriptionChange}\r\n                name=\"description\"\r\n                placeholder=\"Popis\"\r\n              />\r\n              <input \r\n                className={'form-control text-center'}\r\n                value={owner} \r\n                onChange={(e) => setOwner(e.target.value)} \r\n                onBlur={handleOwnerChange}\r\n                name=\"owner\"\r\n                placeholder=\"Majitel\"\r\n              />\r\n              <div>\r\n                <InputGroup>\r\n              <p style={{marginRight: 10, marginTop: 5}}>www.vimko.sk/</p>\r\n                  <input \r\n                    className={isUrlAvailible ? 'form-control text-center' : 'text-center form-control invalid-input'}\r\n                    value={currentUrl} \r\n                    onChange={(e) => setCurrentUrl(e.target.value)} \r\n                    name=\"currentUrl\"\r\n                    onBlur={handleUrlChange}\r\n                  />\r\n                </InputGroup>\r\n                {!isUrlAvailible && <p style={{color: \"red\"}}>Adresa uz existuje, vyberte prosim inu.</p>}\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"justify-content-md-center\">\r\n            <Col className=\"text-center\">\r\n              <Button variant=\"dark\" onClick={() => handleLocalUploadingTitle()}>Upload title image</Button>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;\r\n              <Button variant=\"dark\" onClick={() => handleLocalUploadingOverview()}>Upload overview image</Button>\r\n            </Col>\r\n          </Row>\r\n        </>\r\n        }\r\n        {((localUploadingTitle || localUploadingOverview) && editMode) ? \r\n        <SlideDown className={\"my-dropdown-slidedown\"}>\r\n        <Row>\r\n          <Col>\r\n            <Dropzone\r\n              maxFiles={1}\r\n              multiple={false}\r\n              canCancel={false}\r\n              getUploadParams={getUploadParams}\r\n              onChangeStatus={handleChangeStatus}\r\n              accept=\"image/*\"\r\n              inputContent={() => (\r\n                <p\r\n                  className=\"text-center\"\r\n                  key=\"label\"\r\n                  style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                >\r\n                  Drop or click to choose {localUploadingTitle ? 'title' : 'overview'} image.\r\n                  <br />\r\n                  <BsUpload />\r\n                </p>\r\n              )}\r\n              classNames={{\r\n                dropzone: \"dropzoning\"\r\n              }}\r\n            />\r\n          </Col>\r\n        </Row></SlideDown> : null\r\n        }\r\n        {isOwner &&\r\n        <Row className=\"mt-4\">\r\n          <Col>\r\n            <Alert style={{display: `${error ? 'block' : 'none'}`}} variant=\"danger\">{error}</Alert>\r\n            {isUrlAvailible ? \r\n            <Button onClick={() => setEditMode(editMode ? false : true)} variant=\"dark\">{editMode ? 'Hotovo' : 'Upravit'}</Button> :\r\n            <Button disabled onClick={() => setEditMode(editMode ? false : true)} variant=\"dark\">{editMode ? 'Hotovo' : 'Upravit'}</Button>}\r\n          </Col>\r\n        </Row>}\r\n      </Container>\r\n    </Jumbotron>\r\n  );\r\n};","import React from \"react\";\r\n\r\nimport ShopItems from \"./ViewShop/ShopItems\";\r\nimport ShopJumbotron from \"./ViewShop/ShopJumbotron\";\r\n\r\n// CreateShop.js\r\nexport default ({ shopData, isOwner, userId }) => {\r\n  return (\r\n    <>\r\n      <ShopJumbotron shopData={shopData} isOwner={isOwner} />\r\n      <ShopItems shopData={shopData} isOwner={isOwner} userId={userId} />\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\"\r\n\r\nimport ViewShop from \"../ViewShop\"\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\nexport default ({userId, isOwner}) => {\r\n    const {shopUrl} = useParams()\r\n    const [isUrlAvailible, setIsUrlAvailible] = useState(true)\r\n    const [shopData, setShopData] = useState({})\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        axios.get(`https://mas-vino.herokuapp.com/shop/link/${shopUrl}`)\r\n            .then((res) => res.data ? setShopData(res.data) : setShopData({}))\r\n            .catch((err) => err && console.log(err))\r\n            .then(() => {\r\n                if (shopData._id) setIsUrlAvailible(false)\r\n                setLoading(false)\r\n            })\r\n    }, [])\r\n\r\n    return (\r\n        loading ? \r\n        <Spinner\r\n          style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n          animation=\"border\"\r\n        /> :\r\n        isUrlAvailible && shopData._id ? \r\n        <ViewShop shopData={shopData} isOwner={isOwner} userId={userId} /> :\r\n        <h5 style={{ marginTop: \"20%\" }} className=\"text-center\">No shop found. The url https://mas-vino.herokuapp.com/{shopUrl} is still available.</h5>\r\n        \r\n    )\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\n// Login.js\r\nexport default ({setUserInformation}) => {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [middleName, setMiddleName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\")\r\n\r\n  const [street, setStreet] = useState(\"\")\r\n  const [postal, setPostal] = useState(\"\")\r\n  const [city, setCity] = useState(\"\")\r\n\r\n  const handleSignUp = () => {\r\n    const fullName = middleName\r\n      ? firstName + \" \" + middleName + \" \" + lastName\r\n      : firstName + \" \" + lastName;\r\n    const address = `${street},${postal.toString()},${city}`\r\n    return setUserInformation({ fullName, email, phone, address })\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log('check')\r\n    if (\r\n      checkIfEmailMeetsCriteria() === \"\" &&\r\n      checkIfNameMeetsCriteria(firstName) === \"\" &&\r\n      checkIfNameMeetsCriteria(lastName) === \"\" &&\r\n      checkIfPhoneMeetsCriteria() === \"\" &&\r\n      checkIfStreetMeetsCriteria() === \"\" &&\r\n      checkIfPostalMeetsCriteria() === \"\" &&\r\n      checkIfCityMeetsCriteria() === \"\"\r\n    ) {\r\n      handleSignUp()\r\n    } else {\r\n      setUserInformation('')\r\n    }\r\n  }, [firstName, lastName, email, street, city, postal, phone])\r\n\r\n  const checkIfEmailMeetsCriteria = () => {\r\n    if (\r\n      email &&\r\n      email.match(/[a-z]+[.]?[a-z]*[@][a-z]+[.][a-z]{1,5}/gi)\r\n    )\r\n      return \"\";\r\n    else if (email && email.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfNameMeetsCriteria = (name) => {\r\n    if (name && name.match(/^[a-z]+$/i)) return \"\";\r\n    else if (name && name.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfCityMeetsCriteria = () => {\r\n    if (city && city.match(/^[a-z]+$/i)) return \"\";\r\n    else if (city && city.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfStreetMeetsCriteria = () => {\r\n    if (street && street.match(/^[a-z ]+[0-9 ]+[/]{0,1}[a-z0-9 ]*$/i)) return \"\";\r\n    else if (street && street.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfPhoneMeetsCriteria = () => {\r\n    if (phone && phone.match(/^[+]?[0-9]{6,14}[0-9]$/)) return \"\";\r\n    else if (phone && phone.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfPostalMeetsCriteria = () => {\r\n    if (postal && postal.match(/^[0-9]{5}$/)) return \"\";\r\n    else if (postal && postal.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  return (\r\n    <SlideDown className={\"my-dropdown-slidedown\"}>\r\n      <Container>\r\n        <br />\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"firstName\">First Name:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                firstName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"firstName\"\r\n              value={firstName}\r\n              onChange={(e) =>\r\n                setFirstName(\r\n                  e.target.value &&\r\n                    e.target.value[0].toUpperCase() +\r\n                      e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"middleName\">Middle Name (Optional):</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                middleName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"middleName\"\r\n              value={middleName}\r\n              onChange={(e) =>\r\n                setMiddleName(\r\n                  e.target.value &&\r\n                    e.target.value[0].toUpperCase() +\r\n                      e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"lastName\">Last Name:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                lastName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"lastName\"\r\n              value={lastName}\r\n              onChange={(e) =>\r\n                setLastName(\r\n                  e.target.value &&\r\n                  e.target.value[0].toUpperCase() +\r\n                  e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"email\">E-mail:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfEmailMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"phone\">Phone:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfPhoneMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"phone\"\r\n              value={phone}\r\n              onChange={(e) => setPhone(e.target.value &&\r\n                (e.target.value).substring(0,16)\r\n                )}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"street\">Street and house no.:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfStreetMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"street\"\r\n              value={street}\r\n              onChange={(e) => setStreet(\r\n                e.target.value &&\r\n                e.target.value[0].toUpperCase() +\r\n                e.target.value.substring(1)\r\n              )}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"postal\">Postal:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfPostalMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"postal\"\r\n              value={postal}\r\n              onChange={(e) => setPostal(e.target.value && (e.target.value).substring(0,5))}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"city\">City:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfCityMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"city\"\r\n              value={city}\r\n              onChange={(e) => setCity(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-3\">\r\n            \r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </SlideDown>\r\n  );\r\n};\r\n","import React, { useEffect, useState, useRef } from \"react\"\r\nimport axios from 'axios'\r\nimport { nanoid } from 'nanoid'\r\n\r\nimport Row from 'react-bootstrap/Row'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Image from 'react-bootstrap/Image'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\nimport PlaceOrder from './PlaceOrder'\r\nimport SignUp from '../Login/SignUp'\r\nimport Login from '../Login/Login'\r\nimport PayGate from './PayGate'\r\n\r\nexport default ({userId}) => {\r\n    const lastRef = useRef(null)\r\n    const [shops, setShops] = useState('')\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [userInformation, setUserInformation] = useState('')\r\n    const [login, setLogin] = useState(false)\r\n    const [registration, setRegistration] = useState(false)\r\n    const [shipmentOnly, setShipmentOnly] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n    const [orderId, setOrderId] = useState(nanoid())\r\n    const [passOrderInfo, setPassOrderInfo] = useState({})\r\n    const [paymentPopup, setPaymentPopup] = useState(false)\r\n\r\n    const executeScroll = () => lastRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' })   \r\n \r\n    const sortItems = (cartItems) => {\r\n        let sortShop = []\r\n        for (let cartItem of cartItems) {\r\n            axios.get(`https://mas-vino.herokuapp.com/shop/${cartItem.shopId}`)\r\n                .then((res) => {\r\n                    if (res.data && res.data.shopName) {\r\n                        const { shopName, owner } = res.data\r\n                        const itemsArr = res.data.shopItems\r\n                        const { count, itemId } = cartItem\r\n                        const findItem = itemsArr.find(el => el._id === cartItem.itemId)\r\n                        if (findItem === undefined) {\r\n                            axios.post(`https://mas-vino.herokuapp.com/users/${userId}/cart/delete-cart-item/${cartItem.shopId}/${cartItem.itemId}`)\r\n                                .then((res) => console.log(res))\r\n                                .catch(err => err && console.log('could not delete item', err))\r\n                        } else {\r\n                            const { itemName, price, imageLink } = findItem\r\n                            const index = sortShop.findIndex(el => el.shopId === cartItem.shopId)\r\n                            if (index >= 0) {\r\n                                const prevItems = sortShop[index].itemData\r\n                                const isInCart = prevItems.findIndex(el => el.itemId === itemId)\r\n                                if (isInCart !== -1) {\r\n                                    const prevCount = sortShop[index].itemData[isInCart].count\r\n                                    sortShop[index].itemData[isInCart].count = Number(count) + Number(prevCount)\r\n                                } else {\r\n                                    sortShop[index].itemData = [...prevItems, {itemId, itemName, price, imageLink, count}]\r\n                                }\r\n                            } else {\r\n                                const newShopId = cartItem.shopId\r\n                                sortShop = [...sortShop, {shopId: newShopId, shopName, owner, itemData: [{itemId, itemName, price, imageLink, count}]}]\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    if (err) return console.log(err)\r\n                })\r\n                .then(() => setShops([...sortShop]))\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setLoading(true)\r\n        const localShoppingCart = localStorage.getItem('shoppingCart')\r\n        if (userId) {\r\n            const parsedShoppingCart = localShoppingCart ? JSON.parse(localShoppingCart) : []\r\n            if (parsedShoppingCart.length !== 0) {\r\n                const addItemsToShoppingCartFromLocal = async () => {\r\n                    for (let cartItem of parsedShoppingCart) {\r\n                        const {shopId, itemId, count} = cartItem\r\n                        console.log('importing item ', itemId)\r\n                        await axios\r\n                            .post(`https://mas-vino.herokuapp.com/users/${userId}/cart/add-cart-item/${shopId}/${itemId}`, {\r\n                                shopId, itemId, count\r\n                            })\r\n                            .then((res) => console.log(res))\r\n                            .catch(err => err && console.log(err))\r\n                    }\r\n                    localStorage.removeItem('shoppingCart')\r\n                    console.log('Importing done.')\r\n                }\r\n                addItemsToShoppingCartFromLocal()\r\n            }\r\n            axios\r\n                .get(`https://mas-vino.herokuapp.com/users/${userId}`)\r\n                .then((res) => {\r\n                    if (res.data) {\r\n                        const {shoppingCart, fullName, email, phone, address} = res.data\r\n                        sortItems([...shoppingCart, ...parsedShoppingCart])\r\n                        setUserInformation({ fullName, email, phone, address })\r\n                    }\r\n                })\r\n                .catch(err => err && console.log(err))\r\n        } else {\r\n            const localShoppingCart = localStorage.getItem('shoppingCart')\r\n            localShoppingCart && sortItems(JSON.parse(localShoppingCart))\r\n        }\r\n        setLoading(false)\r\n    }, [refresh])\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    const removeItemFromCart = (e, itemId, shopId) => {\r\n        if (userId) {\r\n            axios.post(`https://mas-vino.herokuapp.com/users/${userId}/cart/delete-cart-item/${shopId}/${itemId}`)\r\n                .then((res) => console.log(res))\r\n                .catch(err => err && console.log('could not delete item', err))\r\n                .then(() => setRefresh(!refresh)) \r\n            if (shops.length === 1) setShops('')\r\n        } else {\r\n            const localShoppingCart = JSON.parse(localStorage.getItem('shoppingCart'))\r\n            const newLocalShoppingCart = localShoppingCart.filter(item => item.itemId !== itemId)\r\n            localStorage.removeItem('shoppingCart')\r\n            console.log(newLocalShoppingCart, shops)\r\n            if (newLocalShoppingCart.length !== 0) {\r\n                localStorage.setItem('shoppingCart', JSON.stringify(newLocalShoppingCart))\r\n            } else {\r\n                setShops('')\r\n            }\r\n            setRefresh(!refresh)\r\n        }\r\n    }\r\n\r\n    const showItemData = (itemData, shopId) => {\r\n        const outputData = itemData.map((item, i) => {\r\n            return (\r\n                <Col data-id={`${item.itemId}`} md={3} xs={6} lg={2} key={`${item.itemId}`} style={{textAlign: \"center\"}}>\r\n                    <Image src={getImage(item.imageLink) ? getImage(item.imageLink) : ''} rounded style={{height:75}} />\r\n                    <h6>{item.itemName}</h6>\r\n                    <p>\r\n                    Count: {item.count}<br />\r\n                    {item.price} €</p>\r\n                    <Button style={{position: 'absolute', right: \"20%\", top: 0}} onClick={(e) => removeItemFromCart(e, item.itemId, shopId)} variant=\"danger\" size=\"sm\">X</Button>\r\n                </Col>\r\n            )\r\n        })\r\n        return outputData\r\n    }\r\n\r\n    const getTotalPrice = (itemData) => {\r\n        let total = 0\r\n        for (let item of itemData) {\r\n            total += Number((item.price).replace(/,/g,\".\"))*item.count\r\n        }\r\n        return total\r\n    }\r\n\r\n    const showCartItems = () => {\r\n        return shops.sort().map(shop => {\r\n            return (\r\n                <Row key={shop.shopId} style={{marginBottom: \"15px\"}}>\r\n                    <Col style={{marginBottom: \"50px\"}} xs={12}>\r\n                        <hr />\r\n                        <div style={{display: \"flex\", justifyContent:\"space-between\"}}>\r\n                            <div>\r\n                                <h4>{shop.shopName}</h4>\r\n                            </div>\r\n                            <div className=\"text-right\">\r\n                                <h5>Suma: {(getTotalPrice(shop.itemData)).toFixed(2).toString().replace(/\\./g,',')} €</h5>\r\n                            </div>\r\n                        </div>\r\n                    </Col>\r\n                    {showItemData(shop.itemData, shop.shopId)}\r\n                </Row>\r\n            )\r\n        })\r\n    }\r\n\r\n    const createNewOrder = () => {\r\n        let result = 0\r\n        shops.map(shop => (shop.itemData).map(item => result += (Number((item.price).replace(/,/g,\".\"))*item.count)))\r\n        console.log(shops, userId, result, nanoid(), userInformation)\r\n        const total = result\r\n        const status = 'vytvorena'\r\n        setPassOrderInfo({ orderId, userInformation, userId, shops, total, status })\r\n        setPaymentPopup(true)\r\n        axios.post(`https://mas-vino.herokuapp.com/orders/add`, { orderId, userInformation, userId, shops, total, status })\r\n            .then(res => {\r\n                return\r\n            })\r\n            .catch(err => err && console.log(err))\r\n    }\r\n\r\n    const handleRegistration = () => {\r\n        setTimeout(() => executeScroll(),500)\r\n        setLogin(false)\r\n        setShipmentOnly(false)\r\n        setRegistration(true)\r\n    }\r\n\r\n    const handleShipmentOnly = () => {\r\n        setTimeout(() => executeScroll(),500)\r\n        setLogin(false)\r\n        setRegistration(false)\r\n        setShipmentOnly(true)\r\n    }\r\n\r\n    const handleLogin = () => {\r\n        setTimeout(() => executeScroll(),500)\r\n        setRegistration(false)\r\n        setShipmentOnly(false)\r\n        setLogin(true)\r\n    }\r\n\r\n\r\n    const showTotalCartPrice = () => {\r\n        let result = 0\r\n        shops.map(shop => (shop.itemData).map(item => result += (Number((item.price).replace(/,/g,\".\"))*item.count)))\r\n        return (\r\n            <Col>\r\n                <h3>Finalna suma: {result.toFixed(2).toString().replace(/\\./g,',')} €</h3>\r\n            </Col>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Container style={{paddingTop: \"50px\"}}>\r\n            { passOrderInfo && paymentPopup &&\r\n                <PayGate orderInfo={passOrderInfo} setPaymentPopup={setPaymentPopup} paymentPopup={paymentPopup} />\r\n            }\r\n            {loading ? \r\n                <Spinner\r\n                    style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n                    animation=\"border\"\r\n                /> : \r\n            (shops && showCartItems())}\r\n            <Row className=\"text-center\">\r\n                <Col>\r\n                    {(!userInformation && shops ) &&\r\n                        <p>\r\n                            <Button onClick={() => handleRegistration()} variant=\"dark\">Dorucovacie udaje s registraciou</Button>\r\n                            &nbsp;&nbsp;\r\n                            <Button onClick={() => handleLogin()} variant=\"dark\">Mam ucet a chcem sa prihlasit</Button>\r\n                            &nbsp;&nbsp;\r\n                            <Button onClick={() => handleShipmentOnly()} variant=\"dark\">Dorucovacie udaje bez registracie</Button>\r\n                        </p>\r\n                    }\r\n                </Col>\r\n            </Row>\r\n            <Row className=\"text-center\">\r\n                {login && <Login shoppingCart={true} />}\r\n                {registration && <SignUp shoppingCart={true} handleLogin={handleLogin} />}\r\n                {shipmentOnly && <PlaceOrder setUserInformation={setUserInformation} />}\r\n            </Row>\r\n            <Row className=\"text-center\">\r\n                <br />\r\n                <br />\r\n                {shops && showTotalCartPrice()}\r\n            </Row>\r\n            <Row className=\"text-center\">\r\n                <Col>\r\n                    {userInformation && shops.length > 0 ?\r\n                        <Button ref={lastRef} onClick={() => createNewOrder()} variant=\"dark\">Prejst k platbe</Button>\r\n                    :\r\n                    <>  \r\n                        {shops.length === 0 && \r\n                            <>\r\n                                <h4>Nakupny kosik je momentalne prazdny.</h4>\r\n                                <br />\r\n                                <br />\r\n                            </>\r\n                        }\r\n                        <Button disabled variant=\"dark\">Prejst k platbe</Button>\r\n                    </>\r\n                }\r\n                </Col>\r\n            </Row>\r\n            <br />\r\n            <div ref={lastRef}></div>\r\n        </Container>\r\n    )\r\n}","import React, {useEffect, useState} from 'react';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\n\r\nimport Table from 'react-bootstrap/Table'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\n\r\nexport default ({userId, isOwner}) => {\r\n    const [ordersData, setOrdersData] = useState([])\r\n    const [shippedObj, setShippedObj] = useState({})\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [expandedObj, setExpandedObj] = useState({})\r\n\r\n    // TODO: pridat moznost znovu zaplatit pri rejected order\r\n\r\n    useEffect(() => {\r\n        axios.get(`https://mas-vino.herokuapp.com/orders`)\r\n            .then(res => {\r\n                const result = res.data\r\n                const validatedOrdersData = isOwner ? result : result.filter(obj => obj.userId === userId)\r\n                setOrdersData(validatedOrdersData)\r\n            })\r\n            .catch(err => err && console.log(err.data))\r\n    }, [])\r\n\r\n    const handleShipping = (e, _id) => {\r\n        e.stopPropagation()\r\n        const newVal = e.target.checked\r\n        let newObj = {}\r\n        let expandObj = {}\r\n\r\n        newObj[_id] = newVal\r\n        setShippedObj({...shippedObj, ...newObj})\r\n\r\n        const oldValue = expandedObj[_id] ?? false\r\n        expandObj[_id] = oldValue\r\n        setExpandedObj({...expandedObj, ...expandObj})\r\n\r\n        axios.put(`https://mas-vino.herokuapp.com/orders/${_id}/update-shipped/`, {isShipped: newVal})\r\n            .then(res => console.log(res.data))\r\n            .catch(err => err && console.log(err))\r\n            .then(() => setRefresh(!refresh))\r\n    }\r\n\r\n    const handleExpanded = (_id) => {\r\n        let newObj = {}\r\n        const oldValue = expandedObj[_id] ?? false\r\n        newObj[_id] = !oldValue\r\n        setExpandedObj({...expandedObj, ...newObj})\r\n    }\r\n\r\n    const ShowItemDataForOrder = ({passItemData}) => {\r\n        let shopTotal = 0\r\n        return passItemData.map((item, i) => {\r\n            const { itemName, price, count, itemId } = item\r\n            shopTotal += (count * Number(price.replace(/,/g, '.')))\r\n            return (\r\n                <React.Fragment key={itemId}>\r\n                    <Col style={{border: '1px solid #cccccc'}} md={3}>\r\n                        ({count}) <strong>{itemName}</strong>, {price}€\r\n                    </Col>\r\n                    {!passItemData[i+1] && \r\n                        <Col className=\"text-center\" style={{border: '1px solid #cccccc', backgroundColor: \"rgb(245, 245, 245)\"}} md={2} order={12}>\r\n                            <h6 >spolu: <strong>{shopTotal.toFixed(2).toString().replace(/\\./g, ',')} €</strong></h6>\r\n                        </Col>\r\n                    }\r\n                </React.Fragment>\r\n            )\r\n        })\r\n    }\r\n\r\n\r\n    const ShowOrderDetails = ({passShops}) => {\r\n        return passShops.map((shop, i) => {\r\n            const { shopName, itemData, shopId } = shop\r\n            return (\r\n                <Container key={shopId} fluid>\r\n                    <Row>\r\n                        <Col md={2}><h5>{shopName}:</h5></Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <ShowItemDataForOrder passItemData={itemData} />\r\n                    </Row>\r\n                    {passShops[i+1] && \r\n                    <hr />}\r\n                </Container>\r\n            )\r\n        })\r\n    }\r\n\r\n    const ShowBuyerDetails = ({passUserInformation, buyerId}) => {\r\n        const { fullName, email, phone, address, iban } = passUserInformation\r\n        return (\r\n            <div className=\"text-center\" key={buyerId}>\r\n                <Row>\r\n                    <Col md={{span: 2, offset: 1}}><strong>{fullName}</strong></Col>\r\n                    <Col md={2}><strong>{phone}</strong></Col>\r\n                    <Col md={3}><strong>{address}</strong></Col>\r\n                    <Col md={{span: 3}}><strong>{iban ?? 'IBAN NENAJDENY'}</strong></Col>\r\n                </Row>\r\n                <hr />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const ShowOrders = () => {\r\n        return ordersData.map(order => {\r\n            const { _id, orderId, userInformation, createdAt, status, shops, isShipped, total, userId: buyerId } = order\r\n            const { email } = userInformation\r\n            const statusColor = status === 'vytvorena' ? 'orange' : status === 'zaplatena' ? 'green' : status === 'odmietnuta' ? 'red' : 'black';\r\n            return (\r\n                <tbody key={orderId}>\r\n                    <tr onClick={() => handleExpanded(_id)}>\r\n                        <td>{orderId}</td>\r\n                        <td>{email}</td>\r\n                        <td>{moment(createdAt).format(\"DD MMM YYYY, HH:mm:ss\")}</td>\r\n                        <td>{total.toFixed(2).toString().replace(/\\./g,',')} €</td>\r\n                        <td style={{color: statusColor}}>{(shippedObj[_id] ?? isShipped) ? <em style={{color: 'blue', float:'left'}}>odoslana</em> : status}\r\n                            {status === 'zaplatena' && isOwner &&\r\n                            <input \r\n                                style={{\r\n                                    float: 'right', \r\n                                    cursor: 'pointer',\r\n                                    paddingBottom: '-50px'\r\n                                }}\r\n                                type='checkbox'\r\n                                name='checkShipping'\r\n                                checked={shippedObj[_id] ?? isShipped}\r\n                                onChange={(e) => handleShipping(e, _id)}\r\n                            />}\r\n                        </td>\r\n                    </tr>\r\n                    {expandedObj[_id] &&\r\n                    <tr style={{backgroundColor: status === 'zaplatena' ? '#f4fff4' : status === 'odmietnuta' ? '#ffecec' : 'rgb(250, 250, 250)' }}>\r\n                        <td colSpan=\"5\">\r\n                            <ShowBuyerDetails passUserInformation={userInformation} buyerId={buyerId} />\r\n                            <ShowOrderDetails passShops={shops} />\r\n                        </td>    \r\n                    </tr>}\r\n                </tbody>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Table striped bordered hover>\r\n            <thead>\r\n                <tr>\r\n                    <th>ID</th>\r\n                    <th>Email</th>\r\n                    <th>Datum</th>\r\n                    <th>Total</th>\r\n                    <th>Stav</th>\r\n                </tr>\r\n            </thead>\r\n            <ShowOrders />\r\n        </Table>    \r\n    )\r\n}","import React, {useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\n\r\nconst useQuery = () => {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default ({userId}) => {\r\n    let query = useQuery();\r\n    const orderId = query.get('Reference')\r\n    const result = query.get('ResultCode')\r\n    const paymentId = query.get('PaymentRequestId')\r\n\r\n    useEffect(() => {\r\n        if (orderId.length !== 0) {\r\n            axios.post(`https://mas-vino.herokuapp.com/orders/${orderId}/process-payment/`, {paymentResultCode: result, paymentId})\r\n                .then(res => console.log(res.data))\r\n                .catch(err => err && console.log(err))\r\n                .then(() => {\r\n                    if (userId) {\r\n                        axios.get(`https://mas-vino.herokuapp.com/users/${userId}/cart/clear-cart`)\r\n                            .then(res => console.log(res.data))\r\n                            .catch(error => error && console.log(error))\r\n                    }\r\n                    localStorage.removeItem('shoppingCart')\r\n                })\r\n            \r\n        }\r\n    }, [])\r\n    \r\n    return (\r\n        <p className=\"text-center\">Platba za objednavku cislo {orderId} bola prijata. <br/>Cislo platby {paymentId}</p>\r\n    )\r\n}","import React, {useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst useQuery = () => {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default ({userId}) => {\r\n    let query = useQuery();\r\n    const orderId = query.get('Reference')\r\n    const paymentId = query.get('PaymentRequestId')\r\n    \r\n    return (\r\n        <p className=\"text-center\" style={{color:'red'}}>Platba za objednavku cislo {orderId} nepresla. <br/>Referencne cislo platby {paymentId}</p>\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\n\r\nimport ShowItem from '../Shop/ViewShop/ShowItem';\r\n\r\nimport Row from 'react-bootstrap/Row'\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\n//Shop.js\r\nexport default ({ userData, shopData }) => {\r\n  const [showAddedPopup, setShowAddedPopup] = useState(false)\r\n  const {userId} = userData\r\n\r\n  const ShowWines = () => {\r\n    return shopData.map((shop,i) => {\r\n      const {shopItems, url, shopId} = shop\r\n      return (\r\n        <ShowItem key={`${shopId}-${i}`} shopItems={shopItems} url={url} shopId={shopId} userId={userId} setShouldReload={false} shouldReload={false} setShowAddedPopup={setShowAddedPopup} isOwner={false} />\r\n      )\r\n    })\r\n  }\r\n  \r\n  return (\r\n    <Container>\r\n      <Row className=\"text-center\">\r\n        <ShowWines />\r\n      </Row>\r\n    </Container>\r\n  );\r\n};","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport WineOverview from \"./WineOverview\";\r\n\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\n//Shop.js\r\nexport default ({ userData }) => {\r\n  const [shopData, setShopData] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/shop/`)\r\n      .then((res) => setShopData(res.data ? res.data : {}))\r\n      .catch((err) => {\r\n        if (err) return console.log(`Fetch error: ${err}`);\r\n      })\r\n      .then(() => setLoading(false));\r\n  }, []); //eslint-disable-line\r\n  return (\r\n    <><br/>\r\n      {loading ? (\r\n        <Spinner\r\n          style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n          animation=\"border\"\r\n        />\r\n      ) : <WineOverview userData={userData} shopData={shopData} />}\r\n    </>\r\n  );\r\n};","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nexport default ({eventPopup, setEventPopup, refresh, setRefresh}) => {\r\n    const [startDate, setStartDate] = useState(new Date());\r\n\r\n    const [name, setName] = useState('')\r\n    const [idFromName, setIdFromName] = useState('')\r\n    const [link, setLink] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [imageLink, setImageLink] = useState('')\r\n    const [where, setWhere] = useState('')\r\n    const [when, setWhen] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (name) {\r\n            const setNewId = name.replace(/\\s/g, '-').toLowerCase()\r\n            setIdFromName(setNewId)\r\n        }\r\n    }, [name])\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${idFromName}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${idFromName}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${idFromName}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setWhen(moment(startDate).format('DD.MM.YYYY, HH:mm'))\r\n    },[startDate])\r\n\r\n    const handleSave = () => {\r\n        axios.post(`https://mas-vino.herokuapp.com/events/add`, {name, link, description, imageLink, where, when})\r\n            .then(res => {\r\n                setRefresh(!refresh)\r\n                setEventPopup(false)\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n    \r\n    return (\r\n        <Modal show={eventPopup} onHide={() => setEventPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"name\">Nazov udalosti:</label>\r\n                        <input \r\n                            name=\"name\"\r\n                            className=\"form-control text-center\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"povinne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"where\">Miesto udalosti:</label>\r\n                        <input \r\n                            name=\"where\"\r\n                            className=\"form-control text-center\"\r\n                            value={where}\r\n                            onChange={(e) => setWhere(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"link\">Externy link udalosti:</label>\r\n                        <input \r\n                            name=\"link\"\r\n                            className=\"form-control text-center\"\r\n                            value={link}\r\n                            onChange={(e) => setLink(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        Cas a datum udalosti (povinne): <strong>{when}</strong>\r\n                        <br /><br />\r\n                        Vyber: <DatePicker showTimeSelect selected={startDate} onChange={date => setStartDate(date)} />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"200px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {name &&\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok udalosti. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(name && description && imageLink && when) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Pridat\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Pridat\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setEventPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n        )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nexport default ({eventPopup, setEventPopup, refresh, setRefresh, eventData}) => {\r\n    const [startDate, setStartDate] = useState(moment(eventData.when, 'DD.MM.YYYY, HH:mm').valueOf());\r\n\r\n    const [name, setName] = useState(eventData.name)\r\n    const [idFromName, setIdFromName] = useState(eventData.idFromName)\r\n    const [link, setLink] = useState(eventData.link)\r\n    const [description, setDescription] = useState(eventData.description)\r\n    const [imageLink, setImageLink] = useState(eventData.imageLink)\r\n    const [where, setWhere] = useState(eventData.where)\r\n    const [when, setWhen] = useState(eventData.when)\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            console.log(image)\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (name) {\r\n            const setNewId = name.replace(/\\s/g, '-').toLowerCase()\r\n            setIdFromName(setNewId)\r\n        }\r\n    }, [name])\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${idFromName}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${idFromName}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${idFromName}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setWhen(moment(startDate).format('DD.MM.YYYY, HH:mm'))\r\n    },[startDate])\r\n\r\n    const handleSave = () => {\r\n        axios.post(`https://mas-vino.herokuapp.com/events/update-event/${eventData._id}`, {name, link, description, imageLink, where, when})\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setRefresh(!refresh)\r\n                setEventPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n    \r\n    return (\r\n        <Modal show={eventPopup} onHide={() => setEventPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"name\">Nazov udalosti:</label>\r\n                        <input \r\n                            name=\"name\"\r\n                            className=\"form-control text-center\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"povinne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"where\">Miesto udalosti:</label>\r\n                        <input \r\n                            name=\"where\"\r\n                            className=\"form-control text-center\"\r\n                            value={where}\r\n                            onChange={(e) => setWhere(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"link\">Externy link udalosti:</label>\r\n                        <input \r\n                            name=\"link\"\r\n                            className=\"form-control text-center\"\r\n                            value={link}\r\n                            onChange={(e) => setLink(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        Cas a datum udalosti (povinne): <strong>{when}</strong>\r\n                        <br /><br />\r\n                        Vyber: <DatePicker showTimeSelect selected={startDate} onChange={date => setStartDate(date)} />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"200px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {\r\n                (name && imageLink) ? \r\n                <Row className=\"justify-content-center text-center\">\r\n                    <Col className=\"form-group\">\r\n                    <img style={{height:'110px', width: '160px'}} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                    <Button onClick={() => setImageLink('')} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n                    </Col>\r\n                </Row> :\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok udalosti. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(name && description && imageLink && when) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Pridat\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Pridat\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setEventPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n        )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nimport Card from 'react-bootstrap/Card'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport AddEvent from './AddEvent'\r\nimport EditEvent from './EditEvent'\r\n\r\nimport {MdDateRange, MdLocationOn, MdDelete, MdEdit} from 'react-icons/md'\r\n\r\nexport default ({isOwner}) => {\r\n    const [eventsData, setEventsData] = useState([])\r\n    const [eventPopup, setEventPopup] = useState(false)\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [editing, setEditing] = useState('')\r\n\r\n    const handleEditing = (e) => {\r\n        const itemId = e.currentTarget.parentNode.id;\r\n        let editingObj = {}\r\n        editingObj[itemId] = true\r\n        setEditing({...editing, ...editingObj})\r\n    }\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n            return img;\r\n        } catch {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    const deleteCard = (eventId) => {\r\n        axios.delete(`https://mas-vino.herokuapp.com/events/${eventId}/`)\r\n            .then(() => setRefresh(!refresh))\r\n            .catch((err) => err && console.log(`Error ${err}`));\r\n    };\r\n\r\n    const sortEventsData = (data) => {\r\n        return data.sort((a, b) => (a.when < b.when) ? 1 : -1)\r\n    }\r\n\r\n    useEffect(() => {\r\n        axios.get(`https://mas-vino.herokuapp.com/events/`)\r\n            .then(res => {\r\n                const events = res.data\r\n                const result = sortEventsData(events)\r\n                setEventsData(result)\r\n            })\r\n            .catch(err => err && console.log(err))\r\n    }, [refresh])\r\n\r\n    const handleSubmit = (passLink) => {\r\n        const win = window.open(passLink, \"_blank\");\r\n        win.focus();\r\n    }\r\n\r\n    const ShowEvents = () => {\r\n        return eventsData.map(event => {\r\n            const { _id, name, link, description, imageLink, when, where } = event\r\n            return (\r\n                <Col key={_id} style={{maxWidth:'800px'}} className=\"mt-4\" md={12} lg={6}>\r\n                    <Card className=\"h-100\" id={_id}>\r\n                        {isOwner &&\r\n                            <Button\r\n                                onClick={() => deleteCard(_id)}\r\n                                style={{\r\n                                    width: \"40px\",\r\n                                    height: \"40px\",\r\n                                    marginBottom: \"-40px\",\r\n                                    zIndex: \"+5\"\r\n                                }}\r\n                                variant=\"outline-danger\"\r\n                                >\r\n                                <MdDelete style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n                            </Button>}\r\n                        {isOwner &&\r\n                        <Button\r\n                            onClick={(e) => handleEditing(e)}\r\n                            style={{\r\n                                width: \"40px\",\r\n                                height: \"40px\",\r\n                                marginBottom: \"-40px\",\r\n                                marginLeft: \"40px\",\r\n                                zIndex: \"+5\"\r\n                            }}\r\n                            variant=\"outline-warning\"\r\n                            >\r\n                            <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n                            </Button>}\r\n                            \r\n                        {editing &&\r\n                            <EditEvent refresh={refresh} setRefresh={setRefresh} setEventPopup={setEditing} eventPopup={editing[_id]} eventData={event} />\r\n                        }\r\n                        <Card.Img variant=\"top\" style={{ height: '350px' }} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                        <Card.Body>\r\n                            <Card.Title>{name}<Button onClick={() => handleSubmit(link)} size=\"sm\" variant=\"dark\" style={{float: 'right', marginTop: '-5px'}}>Viac info</Button></Card.Title>\r\n                            <Card.Text>{description}</Card.Text>\r\n                        </Card.Body>\r\n                        {(when || where) &&\r\n                        <Card.Footer>\r\n                            <small className=\"text-muted\"><MdDateRange style={{fontSize: '130%'}} /> {when}<br /> <MdLocationOn style={{fontSize: '130%'}} /> {where}</small>\r\n                        </Card.Footer>}\r\n                    </Card>\r\n                </Col>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Container className=\"mb-4\">\r\n            {eventPopup &&\r\n                <AddEvent refresh={refresh} setRefresh={setRefresh} setEventPopup={setEventPopup} eventPopup={eventPopup} />\r\n            }\r\n            {isOwner &&\r\n            <Row className=\"justify-content-center\" >\r\n                <Button className=\"mt-4\" variant=\"dark\" onClick={() => setEventPopup(true)}>Pridat Event</Button>\r\n            </Row>}\r\n            <Row className=\"justify-content-center justify-content-md-start\" >\r\n                <ShowEvents />\r\n            </Row>\r\n        </Container>\r\n    )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nexport default ({servicePopup, setServicePopup, refresh, setRefresh}) => {\r\n    const [name, setName] = useState('')\r\n    const [idFromName, setIdFromName] = useState('')\r\n    const [link, setLink] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [imageLink, setImageLink] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (name) {\r\n            const setNewId = name.replace(/\\s/g, '-').toLowerCase()\r\n            setIdFromName(setNewId)\r\n        }\r\n    }, [name])\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${idFromName}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${idFromName}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${idFromName}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        axios.post(`https://mas-vino.herokuapp.com/services/add`, {name, link, description, imageLink})\r\n            .then(res => {\r\n                setRefresh(!refresh)\r\n                setServicePopup(false)\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n    \r\n    return (\r\n        <Modal show={servicePopup} onHide={() => setServicePopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"name\">Nazov sluzby:</label>\r\n                        <input \r\n                            name=\"name\"\r\n                            className=\"form-control text-center\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"povinne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"link\">Externy link sluzby:</label>\r\n                        <input \r\n                            name=\"link\"\r\n                            className=\"form-control text-center\"\r\n                            value={link}\r\n                            onChange={(e) => setLink(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"200px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {name &&\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok sluzby. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(name && description && imageLink) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Pridat\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Pridat\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setServicePopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n        )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nexport default ({servicePopup, setServicePopup, refresh, setRefresh, serviceData}) => {\r\n    const [name, setName] = useState(serviceData.name)\r\n    const [idFromName, setIdFromName] = useState(serviceData.idFromName)\r\n    const [link, setLink] = useState(serviceData.link)\r\n    const [description, setDescription] = useState(serviceData.description)\r\n    const [imageLink, setImageLink] = useState(serviceData.imageLink)\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            console.log(image)\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (name) {\r\n            const setNewId = name.replace(/\\s/g, '-').toLowerCase()\r\n            setIdFromName(setNewId)\r\n        }\r\n    }, [name])\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${idFromName}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${idFromName}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${idFromName}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        console.log(serviceData)\r\n        axios.post(`https://mas-vino.herokuapp.com/services/update-service/${serviceData._id}`, {name, link, description, imageLink})\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setRefresh(!refresh)\r\n                setServicePopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n    \r\n    return (\r\n        <Modal show={servicePopup} onHide={() => setServicePopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"name\">Nazov sluzby:</label>\r\n                        <input \r\n                            name=\"name\"\r\n                            className=\"form-control text-center\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"povinne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"link\">Externy link sluzby:</label>\r\n                        <input \r\n                            name=\"link\"\r\n                            className=\"form-control text-center\"\r\n                            value={link}\r\n                            onChange={(e) => setLink(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"200px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {\r\n                (name && imageLink) ? \r\n                <Row className=\"justify-content-center text-center\">\r\n                    <Col className=\"form-group\">\r\n                    <img style={{height:'110px', width: '160px'}} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                    <Button onClick={() => setImageLink('')} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n                    </Col>\r\n                </Row> :\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok sluzby. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(name && description && imageLink) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Pridat\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Pridat\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setServicePopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n        )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport Card from 'react-bootstrap/Card'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport AddService from './AddService'\r\nimport EditService from './EditService'\r\n\r\nimport {MdDateRange, MdLocationOn, MdDelete, MdEdit} from 'react-icons/md'\r\n\r\nexport default ({isOwner}) => {\r\n    const [servicesData, setServicesData] = useState([])\r\n    const [servicePopup, setServicePopup] = useState(false)\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [editing, setEditing] = useState('')\r\n\r\n    const handleEditing = (e) => {\r\n        const itemId = e.currentTarget.parentNode.id;\r\n        let editingObj = {}\r\n        editingObj[itemId] = true\r\n        setEditing({...editing, ...editingObj})\r\n    }\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n            return img;\r\n        } catch {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    const deleteCard = (serviceId) => {\r\n        axios.delete(`https://mas-vino.herokuapp.com/services/${serviceId}/`)\r\n            .then(() => setRefresh(!refresh))\r\n            .catch((err) => err && console.log(`Error ${err}`));\r\n    };\r\n\r\n    useEffect(() => {\r\n        axios.get(`https://mas-vino.herokuapp.com/services/`)\r\n            .then(res => {\r\n                const result = res.data\r\n                setServicesData(result)\r\n            })\r\n            .catch(err => err && console.log(err))\r\n    }, [refresh])\r\n\r\n    const handleSubmit = (passLink) => {\r\n        const win = window.open(passLink, \"_blank\");\r\n        win.focus();\r\n    }\r\n\r\n    const ShowServices = () => {\r\n        return servicesData.map(service => {\r\n            const { _id, name, link, description, imageLink, when, where } = service\r\n            return (\r\n                <Col key={_id} style={{maxWidth:'800px'}} className=\"mt-4\" md={12} lg={6}>\r\n                    <Card bg=\"dark\" text=\"white\" className=\"h-100\" id={_id}>\r\n                        {isOwner &&\r\n                            <Button\r\n                                onClick={() => deleteCard(_id)}\r\n                                style={{\r\n                                    width: \"40px\",\r\n                                    height: \"40px\",\r\n                                    marginBottom: \"-40px\",\r\n                                    zIndex: \"+5\"\r\n                                }}\r\n                                variant=\"outline-danger\"\r\n                                >\r\n                                <MdDelete style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n                            </Button>}\r\n                        {isOwner &&\r\n                        <Button\r\n                            onClick={(e) => handleEditing(e)}\r\n                            style={{\r\n                                width: \"40px\",\r\n                                height: \"40px\",\r\n                                marginBottom: \"-40px\",\r\n                                marginLeft: \"40px\",\r\n                                zIndex: \"+5\"\r\n                            }}\r\n                            variant=\"outline-warning\"\r\n                            >\r\n                            <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n                            </Button>}\r\n                            \r\n                        {editing &&\r\n                            <EditService refresh={refresh} setRefresh={setRefresh} setServicePopup={setEditing} servicePopup={editing[_id]} serviceData={service} />\r\n                        }\r\n                        <Card.Img variant=\"top\" style={{ height: '350px' }} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                        <Card.Body>\r\n                            <Card.Title>{name}<Button onClick={() => handleSubmit(link)} size=\"sm\" variant=\"outline-light\" style={{float: 'right', marginTop: '-5px'}}>Viac info</Button></Card.Title>\r\n                            <Card.Text>{description}</Card.Text>\r\n                        </Card.Body>\r\n                        {(when || where) &&\r\n                        <Card.Footer>\r\n                            <small className=\"text-muted\"><MdDateRange style={{fontSize: '130%'}} /> {when}<br /> <MdLocationOn style={{fontSize: '130%'}} /> {where}</small>\r\n                        </Card.Footer>}\r\n                    </Card>\r\n                </Col>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Container className=\"mb-4\">\r\n            {servicePopup &&\r\n                <AddService refresh={refresh} setRefresh={setRefresh} setServicePopup={setServicePopup} servicePopup={servicePopup} />\r\n            }\r\n            {isOwner &&\r\n            <Row className=\"justify-content-center\" >\r\n                <Button className=\"mt-4\" variant=\"dark\" onClick={() => setServicePopup(true)}>Pridat Sluzbu</Button>\r\n            </Row>}\r\n            <Row className=\"justify-content-center justify-content-md-start\" >\r\n                <ShowServices />\r\n            </Row>\r\n        </Container>\r\n    )\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { Route, Switch, BrowserRouter as Router } from \"react-router-dom\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport axios from \"axios\";\r\n\r\nimport \"./index.css\";\r\nimport \"react-dropzone-uploader/dist/styles.css\";\r\n\r\nimport Home from \"./components/Home/Home\";\r\nimport Vinarne from \"./components/Shop/Vinarne\";\r\nimport Login from \"./components/Login/Login\";\r\nimport ShopOnline from \"./components/Shop/shopOnline/ShopOnline\"\r\nimport ShoppingCart from \"./components/Cart/ShoppingCart\"\r\nimport PayGate from \"./components/Cart/PayGate\"\r\nimport Orders from \"./components/Payment/Orders\"\r\nimport SuccessPayment from \"./components/Payment/SuccessPayment\";\r\nimport RejectPayment from \"./components/Payment/RejectPayment\";\r\nimport Vinka from \"./components/Wines/Vinka\";\r\nimport Events from \"./components/Events/Events\";\r\nimport Services from \"./components/Services/Services\";\r\n\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\n// App.js\r\nexport default () => {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [userData, setUserData] = useState({});\r\n  const [loadingData, setLoadingData] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setLoadingData(true)\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/get-user-data`, {\r\n        withCredentials: true\r\n      })\r\n      .then((res) => {\r\n        if (res.data) {\r\n          const { _id, userName, fullName, email, shopId, isOwner } = res.data;\r\n          setUserData({ _id, userName, fullName, email, shopId, isOwner });\r\n          setIsLoggedIn(userName ? true : false);\r\n        } else {\r\n          setUserData({})\r\n        }\r\n      })\r\n      .catch((err) => err && console.log(\"Load Error \" + err))\r\n      .then(() => setLoadingData(false))\r\n  }, []);\r\n  const handleLogOut = () => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/logout`, {\r\n        withCredentials: true\r\n      })\r\n      .then(() => {\r\n        setUserData({});\r\n        setIsLoggedIn(false);\r\n      })\r\n      .catch((err) => console.log(`Error ${err}`))\r\n      .then(() => window.location.reload());\r\n  };\r\n  return (\r\n    <Router>\r\n      <link\r\n        rel=\"stylesheet\"\r\n        href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css\"\r\n        integrity=\"sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk\"\r\n        crossOrigin=\"anonymous\"\r\n      />\r\n      <div>\r\n        <Navbar userName={userData.fullName} isLoggedIn={isLoggedIn} handleLogOut={handleLogOut} />\r\n        {loadingData ? \r\n              <Spinner\r\n                style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n                animation=\"border\"\r\n              /> :\r\n        <div style={{marginTop: \"56px\"}}>\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <Home userId={userData._id} isOwner={userData.isOwner}  />\r\n            </Route>\r\n            <Route exact path=\"/vinarne\">\r\n              <Vinarne userData={userData} />\r\n            </Route>\r\n            <Route exact path=\"/vinka\">\r\n              <Vinka userData={userData} />\r\n            </Route>\r\n            <Route exact path=\"/login-page\">\r\n              {isLoggedIn ? <Home userId={userData._id} isOwner={userData.isOwner} /> : <Login />}\r\n            </Route>\r\n            <Route exact path=\"/cart-page\">\r\n              <ShoppingCart userId={userData._id} />\r\n            </Route>\r\n            <Route exact path={`/success-payment`}>\r\n              <SuccessPayment userId={userData._id} />\r\n            </Route>\r\n                <Route exact path={`/failed-payment`}>\r\n              <RejectPayment userId={userData._id} />\r\n            </Route>\r\n            <Route exact path={`/cancel-payment`}>\r\n              <RejectPayment userId={userData._id} />\r\n            </Route>\r\n            <Route exact path={`/objednavky`}>\r\n              <Orders userId={userData._id} isOwner={userData.isOwner} />\r\n            </Route>\r\n            <Route exact path={`/akcie`}>\r\n              <Events isOwner={userData.isOwner} />\r\n            </Route>\r\n            <Route exact path={`/sluzby`}>\r\n              <Services isOwner={userData.isOwner} />\r\n            </Route>\r\n            <Route exact path={`/:shopUrl`}>\r\n              <ShopOnline userId={userData._id} isOwner={userData.isOwner} />\r\n            </Route>\r\n            <Route exact path={`/shop/payment`}>\r\n              <PayGate />\r\n            </Route>\r\n          </Switch>\r\n        </div>}\r\n      </div>    \r\n    </Router>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}