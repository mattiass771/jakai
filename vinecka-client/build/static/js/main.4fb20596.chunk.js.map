{"version":3,"sources":["components/Cart/PayGate.js","../public/uploads/6014651360620a02d885ca30-unnamed.jpg","../public/uploads/60150cabc76e990c50481bec-Vina-Ane-Centenaria-600.png","../public/uploads/60150cabc76e990c50481bec-blurred-pastel-bokeh-lights-background-89245-17.jpg","../public/uploads/60150cabc76e990c50481bec-icone-st-joseph.jpg","../public/uploads/60150cabc76e990c50481bec-objednavka.JPG","../public/uploads/60150cabc76e990c50481bec-vinko.jpg","../public/uploads/60150cabc76e990c50481bec-weicher-pastell-und-gelb-der-abstrakten-unschaerfelichtsteigung-rosa-fuer-tapetenhintergrund-7636-1347.jpg","../public/uploads/601825a222ae9d2e6002e307-vinko.jpg","../public/uploads/601825a222ae9d2e6002e307-weicher-pastell-und-gelb-der-abstrakten-unschaerfelichtsteigung-rosa-fuer-tapetenhintergrund-7636-1347.jpg","../public/uploads/a-IMG-5218.jpg","../public/uploads/ahoj-udalost-svatyjozef.png","../public/uploads/homescreen-event-image-playa-del-carmen-fishingzone-82.png","../public/uploads/homescreen-service-image-playa-del-carmen-fishingzone-82.png","../public/uploads/silvia-gulačová-12-122485-inspirational-clip-art-wine-spilled-wine-clipart-clipart-wine-png.png","../public/uploads/silvia-gulačová-IMG-5218.jpg","../public/uploads/silvia-gulačová-aoe2.PNG","../public/uploads/silvia-gulačová-playa-del-carmen-fishingzone-82.png","../public/uploads/winter-bootcamp--2019-12-122485-inspirational-clip-art-wine-spilled-wine-clipart-clipart-wine-png.png","../public/uploads/winter-bootcamp--2019-playa-del-carmen-fishingzone-82.png","components/Navbar/Navbar.js","components/Shop/ViewShop/EditItems.js","components/Shop/ViewShop/ShowItem.js","components/Home/UpdateEvents.js","components/Home/UpdateServices.js","components/Home/UpdateDescription.js","config/options.js","components/Home/Home.js","components/Shop/CreateShop.js","components/Shop/ShopsOverview.js","components/Shop/Vinarne.js","components/Login/SignUp.js","components/Login/Login.js","components/Shop/ViewShop/AddItems.js","components/Shop/ViewShop/ShopItems.js","components/Shop/ViewShop/ShopJumbotron.js","components/Shop/ViewShop.js","components/Shop/shopOnline/ShopOnline.js","components/Cart/PlaceOrder.js","components/Cart/ShoppingCart.js","components/Payment/Orders.js","components/Payment/SuccessPayment.js","components/Payment/RejectPayment.js","components/Wines/WineOverview.js","components/Wines/Vinka.js","components/Events/AddEvent.js","components/Events/EditEvent.js","components/Events/Events.js","components/Services/AddService.js","components/Services/EditService.js","components/Services/Services.js","App.js","index.js","../public/uploads sync /^/.*$"],"names":["paymentPopup","setPaymentPopup","orderInfo","total","orderId","style","backgroundColor","show","onHide","padding","width","height","id","src","amount","reference","signature","key","message","encryptedKey","locutus","encryptedMessage","uint8arr","crypto","createHmac","update","digest","Buffer","from","buffer","reduce","str","byte","toString","padStart","toUpperCase","GetSignature","toFixed","constructOrder","position","right","top","cursor","onClick","module","exports","isLoggedIn","handleLogOut","userName","Navbar","fixed","bg","variant","expand","Brand","alt","className","Toggle","aria-controls","Collapse","Nav","to","showEditItems","setShowEditItems","shopId","itemId","itemDataProp","setShouldReload","shouldReload","useState","itemName","setItemName","price","setPrice","description","setDescription","imageLink","setImageLink","canSaveItem","setCanSaveItem","maxCount","setMaxCount","color","setColor","type","setType","taste","setTaste","itemData","setItemData","getImage","image","img","axios","get","replace","then","res","data","catch","err","useEffect","Modal","Header","closeButton","Title","Body","Row","Col","htmlFor","value","name","onChange","e","target","placeholder","InputGroup","maxLength","resize","minHeight","Button","newItemData","deleteFormerImage","size","maxFiles","multiple","canCancel","getUploadParams","meta","url","onChangeStatus","status","file","params","console","log","deleteFile","accept","inputContent","marginTop","classNames","dropzone","Footer","put","disabled","colMdSettings","colXsSettings","shopItems","userId","setShowAddedPopup","isOwner","count","setCount","isHovered","setIsHovered","clicked","setClicked","editing","setEditing","map","item","_id","passShopId","xs","md","lg","xl","Card","onMouseEnter","hoverObj","handleMouseOver","onMouseLeave","currentTarget","parentNode","post","deleteCard","marginBottom","zIndex","fontSize","margin","editingObj","handleEditing","marginLeft","EditItems","Img","Text","ImgOverlay","background","display","passCount","setTimeout","localShoppingCart","localStorage","getItem","removeItem","newShoppingCart","JSON","parse","setItem","stringify","addItemToCart","Container","Form","Control","as","countObj","handleCount","result","num","push","showCount","passId","dummy","document","createElement","body","appendChild","select","execCommand","removeChild","copyFunction","textDecoration","eventsPopup","setEventsPopup","forceRefresh","setForceRefresh","eventsImage","eventsText","require","descriptionEvents","imageLinkEvents","servicesPopup","setServicesPopup","servicesImage","servicesText","descriptionServices","imageLinkServices","descriptionsPopup","setDescriptionsPopup","descriptionsText","descriptionGeneral","MAX_HEIGHT_JUMBO","options","carouselData","setCarouselData","featuredWines","setFeaturedWines","loading","setLoading","showAddedPopup","featuredIds","setFeaturedIds","isIdAvail","setIsIdAvail","tempId","setTempId","eventsData","setEventsData","servicesData","setServicesData","setDescriptionGeneral","featured","events","services","response","newObj","prev","ShowEvents","ShowServices","ShowGeneral","handleFeaturedIds","i","newValue","newIdAvail","length","window","location","reload","handleSuccessFeatureChange","ShowUpdateFeaturedWines","sm","newTempIds","handleTempId","onBlur","Spinner","animation","Alert","onClose","dismissible","UpdateEvents","UpdateServices","UpdateDescription","Carousel","indicators","maxHeight","shop","shopName","owner","Item","Caption","ShowItem","rel","href","marginRight","userData","setShopName","fullName","ownerId","shortid","generate","shopData","showCreateShop","setShowCreateShop","CreateShop","overviewImage","handleMouseLeave","textAlign","setShopData","ShopsOverview","shoppingCart","handleLogin","firstName","setFirstName","middleName","setMiddleName","lastName","setLastName","email","setEmail","passwordFirst","setPasswordFirst","passwordSecond","setPasswordSecond","passwordsMatch","setPasswordsMatch","emailExists","setEmailExists","phone","setPhone","street","setStreet","postal","setPostal","city","setCity","checkIfPasswordMeetsCriteria","search","checkIfEmailMeetsCriteria","match","checkIfNameMeetsCriteria","checkIfCityMeetsCriteria","checkIfStreetMeetsCriteria","checkIfPhoneMeetsCriteria","checkIfPostalMeetsCriteria","substring","address","password","signUp","setSignUp","hideButton","setHideButton","action","method","SignUp","showAddItems","setShowAddItems","setShopItems","AddItems","border","history","useHistory","currentUrl","setCurrentUrl","newUrl","setNewUrl","isUrlAvailible","setIsUrlAvailible","editMode","setEditMode","error","setError","setOwner","setOverviewImage","showImageFromDb","localUploadingTitle","setLocalUploadingTitle","localUploadingOverview","setLocalUploadingOverview","handleError","Jumbotron","backgroundSize","fluid","ShopJumbotron","ShopItems","shopUrl","useParams","ViewShop","setUserInformation","handleSignUp","lastRef","useRef","shops","setShops","refresh","setRefresh","userInformation","login","setLogin","registration","setRegistration","shipmentOnly","setShipmentOnly","nanoid","passOrderInfo","setPassOrderInfo","executeScroll","current","scrollIntoView","behavior","block","sortItems","cartItems","sortShop","cartItem","itemsArr","findItem","find","el","undefined","index","findIndex","prevItems","isInCart","prevCount","Number","newShopId","parsedShoppingCart","a","addItemsToShoppingCartFromLocal","showItemData","data-id","Image","rounded","newLocalShoppingCart","filter","removeItemFromCart","paddingTop","PayGate","sort","justifyContent","getTotalPrice","Login","PlaceOrder","showTotalCartPrice","ref","createNewOrder","ordersData","setOrdersData","shippedObj","setShippedObj","expandedObj","setExpandedObj","validatedOrdersData","obj","ShowItemDataForOrder","passItemData","shopTotal","Fragment","order","ShowOrderDetails","passShops","ShowBuyerDetails","passUserInformation","buyerId","iban","span","offset","ShowOrders","createdAt","isShipped","statusColor","oldValue","handleExpanded","moment","format","float","paddingBottom","checked","stopPropagation","newVal","expandObj","handleShipping","colSpan","Table","striped","bordered","hover","query","URLSearchParams","useLocation","paymentId","paymentResultCode","ShowWines","WineOverview","eventPopup","setEventPopup","Date","startDate","setStartDate","setName","idFromName","setIdFromName","link","setLink","where","setWhere","when","setWhen","setNewId","toLowerCase","showTimeSelect","selected","date","eventData","valueOf","b","event","maxWidth","eventId","delete","EditEvent","passLink","open","focus","AddEvent","servicePopup","setServicePopup","serviceData","service","text","serviceId","EditService","AddService","setIsLoggedIn","setUserData","loadingData","setLoadingData","withCredentials","integrity","crossOrigin","exact","path","Home","Vinarne","Vinka","ShoppingCart","SuccessPayment","RejectPayment","Orders","Events","Services","ShopOnline","ReactDOM","render","App","getElementById","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve"],"mappings":"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","file":"static/js/main.4fb20596.chunk.js","sourcesContent":["import React, {useEffect, useState } from 'react'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport crypto from 'crypto'\r\nimport locutus from 'locutus/php/misc/pack'\r\n\r\nexport default ({paymentPopup, setPaymentPopup, orderInfo}) => {\r\n    const {total, orderId } = orderInfo\r\n\r\n    const toHexString = bytes => bytes.reduce((str, byte) => str + byte.toString(16).padStart(2, '0'), '');\r\n\r\n    const GetSignature = (key, message) => {\r\n        const encryptedKey = locutus('A*', key)\r\n        const encryptedMessage = locutus('A*', message)\r\n        const uint8arr = crypto.createHmac('sha256', encryptedKey).update(encryptedMessage).digest()\r\n        const converted = toHexString(Buffer.from(uint8arr.buffer))\r\n        return converted.toUpperCase()\r\n    }\r\n\r\n    const constructOrder = () => {\r\n        const baseUrl = \"https://playground.trustpay.eu/mapi5/wire/paypopup\";\r\n        const accountId = 2107205663;\r\n        const amount = total;\r\n        const currency = \"EUR\";\r\n        const reference = orderId;\r\n        const paymentType = 0;\r\n    \r\n        const secretKey = \"5FIwY8FAc15vKHD96B9XQLhPIZdK8lNr\";\r\n        const sigData = `${accountId}/${amount.toFixed(2)}/${currency}/${reference}/${paymentType}`;\r\n        const signature = GetSignature(secretKey, sigData); //eslint-disable-line\r\n    \r\n        const url = `${baseUrl}?AccountId=${accountId}&Amount=${amount}&Currency=${currency}&Reference=${reference}&PaymentType=${paymentType}&Signature=${signature}`\r\n        return url;\r\n    }\r\n\r\n    return (\r\n        <Modal style={{backgroundColor: 'rgba(255,255,255,0) !important'}} show={paymentPopup} onHide={() => setPaymentPopup(true)}>\r\n            <iframe style={{padding: \"-15px\", width:\"100%\", height: \"550px\"}} id=\"TrustPayFrame\" src={constructOrder()}></iframe>\r\n            <div style={{\r\n                position: 'absolute', \r\n                right: 15, \r\n                top: 15, \r\n                height: 50, \r\n                width: 50, \r\n                cursor: 'pointer'\r\n            }} onClick={() => setPaymentPopup(false)}></div>\r\n        </Modal>\r\n    )\r\n}","module.exports = __webpack_public_path__ + \"static/media/6014651360620a02d885ca30-unnamed.3f91fec2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/60150cabc76e990c50481bec-Vina-Ane-Centenaria-600.6a4628f6.png\";","module.exports = __webpack_public_path__ + \"static/media/60150cabc76e990c50481bec-blurred-pastel-bokeh-lights-background-89245-17.fbf6a8a1.jpg\";","module.exports = __webpack_public_path__ + \"static/media/60150cabc76e990c50481bec-icone-st-joseph.88ae7aad.jpg\";","module.exports = __webpack_public_path__ + \"static/media/60150cabc76e990c50481bec-objednavka.7f9a0a02.JPG\";","module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/60150cabc76e990c50481bec-weicher-pastell-und-gelb-der-abstrakten-unschaerfelichtsteigung-rosa-fuer-tapetenhintergrund-7636-1347.af63822b.jpg\";","module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/601825a222ae9d2e6002e307-weicher-pastell-und-gelb-der-abstrakten-unschaerfelichtsteigung-rosa-fuer-tapetenhintergrund-7636-1347.af63822b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/a-IMG-5218.ac4542c2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/ahoj-udalost-svatyjozef.f7a9ac09.png\";","module.exports = __webpack_public_path__ + \"static/media/homescreen-event-image-playa-del-carmen-fishingzone-82.96966ca1.png\";","module.exports = __webpack_public_path__ + \"static/media/homescreen-service-image-playa-del-carmen-fishingzone-82.96966ca1.png\";","module.exports = __webpack_public_path__ + \"static/media/silvia-gulačová-12-122485-inspirational-clip-art-wine-spilled-wine-clipart-clipart-wine-png.117f848b.png\";","module.exports = __webpack_public_path__ + \"static/media/silvia-gulačová-IMG-5218.ac4542c2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/silvia-gulačová-aoe2.a081637f.PNG\";","module.exports = __webpack_public_path__ + \"static/media/silvia-gulačová-playa-del-carmen-fishingzone-82.96966ca1.png\";","module.exports = __webpack_public_path__ + \"static/media/winter-bootcamp--2019-12-122485-inspirational-clip-art-wine-spilled-wine-clipart-clipart-wine-png.117f848b.png\";","module.exports = __webpack_public_path__ + \"static/media/winter-bootcamp--2019-playa-del-carmen-fishingzone-82.96966ca1.png\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\n\r\nimport {FiShoppingCart} from \"react-icons/fi\"\r\n\r\n// Navbar.js\r\nexport default ({ isLoggedIn, handleLogOut, userName }) => {\r\n  return (\r\n    <Navbar fixed=\"top\" bg=\"dark\" variant=\"dark\" expand=\"md\">\r\n      <Navbar.Brand>\r\n        <img\r\n          alt=\"\"\r\n          src=\"https://st2.depositphotos.com/8301258/11284/v/950/depositphotos_112842636-stock-illustration-logo-shop-bags-icon-symbol.jpg\"\r\n          width=\"30\"\r\n          height=\"30\"\r\n          className=\"d-inline-block align-top\"\r\n        />\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n      <Navbar.Collapse id=\"basic-navbar-nav\">\r\n        <Nav className=\"mr-auto\">\r\n          <Link className={`nav-elem`} to=\"/\">\r\n            Domov\r\n          </Link>\r\n\r\n          <Link className={`nav-elem`} to=\"/vinarne\">\r\n            Vinarne\r\n          </Link>\r\n\r\n          <Link className={`nav-elem`} to=\"/vinka\">\r\n            Vinka\r\n          </Link>\r\n\r\n          <Link className={`nav-elem`} to=\"/akcie\">\r\n            Akcie\r\n          </Link>\r\n\r\n          <Link className={`nav-elem`} to=\"/sluzby\">\r\n            Sluzby\r\n          </Link>\r\n        </Nav>\r\n        <Nav className=\"mr-sm-2\">\r\n            <Link className={`nav-elem`} to=\"/cart-page\">\r\n              <FiShoppingCart />\r\n            </Link>\r\n          {isLoggedIn ? (\r\n            <>\r\n              <Link className={`nav-elem`} to=\"/objednavky\">\r\n                Objednavky\r\n              </Link>\r\n              <Link className={`nav-elem`} onClick={handleLogOut} to=\"\">\r\n                Logout\r\n              </Link>\r\n            </>\r\n          ) : (\r\n            <Link className={`nav-elem`} to=\"/login-page\">\r\n              Login\r\n            </Link>\r\n          )}\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\"\r\n\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nexport default ({ showEditItems, setShowEditItems, shopId, itemId, itemDataProp, setShouldReload, shouldReload }) => {\r\n  const [itemName, setItemName] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [imageLink, setImageLink] = useState(\"\");\r\n  const [canSaveItem, setCanSaveItem] = useState(false);\r\n  const [maxCount, setMaxCount] = useState('')\r\n  const [color, setColor] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [taste, setTaste] = useState(\"\");\r\n\r\n  const [itemData, setItemData] = useState({...itemDataProp})\r\n\r\n  const resetPropsOnHide = () => {\r\n    setImageLink(\"\")\r\n    setItemName(\"\")\r\n    setPrice(\"\")\r\n    setDescription(\"\")\r\n    setCanSaveItem(false)\r\n    setShowEditItems('')\r\n  }\r\n\r\n  const getImage = (image) => {\r\n    try {\r\n      let img;\r\n      axios.get(`https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`)\r\n        .then(res => img = res.data).catch(err => img = null)\r\n      return img;\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleSaveItem = () => {\r\n    if (itemName) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/itemName/${itemName}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (price) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/price/${price}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (description) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/description/${description}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (imageLink) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/imageLink/${imageLink}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (maxCount) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/maxCount/${maxCount}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (color) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/color/${color}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (type) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/type/${type}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (taste) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/taste/${taste}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n  };\r\n\r\n  const deleteFile = (file) => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/deleteFile/${shopId}`, {\r\n        params: file\r\n      })\r\n      .then(() => \r\n        {return}\r\n      )\r\n      .catch((err) => err && console.log(err));\r\n  };\r\n  useEffect(() => {\r\n    const isAlready = getImage(imageLink) ? getImage(imageLink) : imageLink;\r\n    if (isAlready || imageLink || description || price || itemName || color || type || taste) {\r\n      setCanSaveItem(true);\r\n    }\r\n  }, [imageLink, description, price, itemName, color, type, taste]);\r\n\r\n  const getUploadParams = ({ meta }) => {\r\n    return { url: `https://mas-vino.herokuapp.com/fileUpload/${shopId}` };\r\n  };\r\n\r\n  const handleChangeStatus = ({ meta, file }, status) => {\r\n    if (status === \"removed\") {\r\n      deleteFile(meta);\r\n    }\r\n    if (status === \"done\") {\r\n      setImageLink(`${shopId}-${meta.name}`);\r\n    }\r\n  };\r\n\r\n  const deleteFormerImage = () => {\r\n    const newItemData = {...itemData, imageLink: ''}\r\n    setItemData(newItemData)\r\n  }\r\n\r\n  return (\r\n    <Modal show={showEditItems} onHide={() => resetPropsOnHide()}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Add an item to your shop.</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"shopName\">Name your item:</label>\r\n            <input\r\n              value={itemName || itemData.itemName}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"shopName\"\r\n              onChange={(e) => setItemName(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"price\">Price:</label>\r\n            <input\r\n              value={price || itemData.price}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"price\"\r\n              onChange={(e) => setPrice(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"color\">Farba:</label>\r\n            <input\r\n              value={color || itemData.color}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"color\"\r\n              placeholder=\"povinne\"\r\n              onChange={(e) => setColor(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"taste\">Chut:</label>\r\n            <input\r\n              value={taste || itemData.taste}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"taste\"\r\n              onChange={(e) => setTaste(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"type\">Druh:</label>\r\n            <input\r\n              value={type || itemData.type}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"type\"\r\n              onChange={(e) => setType(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col>\r\n            <label htmlFor=\"sizes\">Maximalny pocet flias v jednej objednavke:</label>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col className=\"form-group\">\r\n          <InputGroup>\r\n              <input\r\n                value={maxCount || itemData.maxCount || ''}\r\n                className=\"form-control\"\r\n                type=\"number\"\r\n                name=\"sizes\"\r\n                onChange={(e) => setMaxCount(e.target.value)}\r\n                placeholder={'Nechaj prazdne ak nieje hranica'}\r\n              />\r\n            </InputGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"description\">Description:</label>\r\n            <textarea\r\n              maxLength=\"230\"\r\n              value={description || itemData.description}\r\n              className=\"form-control\"\r\n              name=\"description\"\r\n              type=\"text\"\r\n              style={{ resize: \"none\", minHeight: \"100px\" }}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <br />\r\n        <SlideDown className={\"my-dropdown-slidedown\"}>\r\n        {itemData.imageLink ? \r\n        <Row className=\"justify-content-center text-center\">\r\n          <Col className=\"form-group\">\r\n            <img style={{height:'110px', width: '80px'}} src={getImage(itemData.imageLink) ? getImage(itemData.imageLink) : itemData.imageLink} />\r\n            <Button onClick={() => deleteFormerImage()} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n          </Col>\r\n        </Row> :\r\n        <Row>\r\n          <Col>\r\n            <Dropzone\r\n              maxFiles={1}\r\n              multiple={false}\r\n              canCancel={false}\r\n              getUploadParams={getUploadParams}\r\n              onChangeStatus={handleChangeStatus}\r\n              accept=\"image/*\"\r\n              inputContent={() => (\r\n                <p\r\n                  className=\"text-center\"\r\n                  key=\"label\"\r\n                  style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                >\r\n                  Drop or click to choose image.\r\n                  <br />\r\n                  <BsUpload />\r\n                </p>\r\n              )}\r\n              classNames={{\r\n                dropzone: \"dropzoning\"\r\n              }}\r\n            />\r\n          </Col>\r\n        </Row>}\r\n      </SlideDown>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        {canSaveItem ? (\r\n          <Button variant=\"dark\" onClick={handleSaveItem}>\r\n            Save Item\r\n          </Button>\r\n        ) : (\r\n          <Button disabled variant=\"dark\">\r\n            Save Item\r\n          </Button>\r\n        )}\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport { MdDelete, MdEdit } from \"react-icons/md\";\r\n\r\nimport EditItems from \"./EditItems\";\r\n\r\nexport default ({colMdSettings, colXsSettings, shopItems, shopId, userId, setShouldReload, shouldReload, setShowAddedPopup, isOwner, url}) => {\r\n    const [count, setCount] = useState(\"\")\r\n    const [isHovered, setIsHovered] = useState(\"\")\r\n    const [clicked, setClicked] = useState('')\r\n    const [editing, setEditing] = useState('')\r\n\r\n    const copyFunction = (passId) => {\r\n      const dummy = document.createElement(\"textarea\");\r\n      document.body.appendChild(dummy);\r\n      dummy.value = passId;\r\n      dummy.select();\r\n      document.execCommand(\"copy\");\r\n      document.body.removeChild(dummy);\r\n      setClicked('#333333')\r\n      setTimeout(() => setClicked(''),150)\r\n    }\r\n    \r\n    const getImage = (image) => {\r\n      try {\r\n          let img;\r\n      axios.get(`https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`)\r\n        .then(res => img = res.data).catch(err => img = null)\r\n          return img;\r\n      } catch {\r\n          return null;\r\n      }\r\n    };\r\n\r\n    const deleteCard = (e) => {\r\n      const itemId = e.currentTarget.parentNode.id;\r\n      axios\r\n          .post(\r\n          `https://mas-vino.herokuapp.com/shop/${shopId}/delete-item/${itemId}`,\r\n          {}\r\n          )\r\n          .then(() => setShouldReload(!shouldReload))\r\n          .catch((err) => err && console.log(`Error ${err}`));\r\n    };\r\n\r\n    return shopItems.map((item) => {\r\n      const { _id, itemName, price, description, imageLink, maxCount } = item;\r\n      const passShopId = shopId === 'home' ? item.shopId : shopId\r\n\r\n      const image = getImage(imageLink)\r\n        ? getImage(imageLink)\r\n        : imageLink;\r\n\r\n      const showCount = () => {\r\n        let result = []\r\n        for (let num = 1; num<= (maxCount ?? 200); num++) {\r\n          result.push(<option key={num} value={num}>{num}</option>)\r\n        }\r\n        \r\n        return result\r\n      }\r\n\r\n      const handleCount = (e) => {\r\n        let countObj = {}\r\n        countObj[_id] = e.target.value\r\n        setCount({...count, ...countObj})\r\n      }\r\n\r\n      const handleEditing = (e) => {\r\n        const itemId = e.currentTarget.parentNode.id;\r\n        let editingObj = {}\r\n        editingObj[itemId] = true\r\n        setEditing({...editing, ...editingObj})\r\n      }\r\n\r\n      const handleMouseOver = () => {\r\n        let hoverObj = {}\r\n        hoverObj[_id] = 'block'\r\n        setIsHovered({...isHovered, ...hoverObj})\r\n      }\r\n\r\n      const handleMouseLeave = () => {\r\n        setIsHovered(\"\")\r\n      }\r\n\r\n      const addItemToCart = (e) => {\r\n        const itemId = e.currentTarget.parentNode.parentNode.parentNode.id;\r\n        const passCount = count[_id] || 1\r\n        if (userId) {\r\n          axios\r\n            .post(`https://mas-vino.herokuapp.com/users/${userId}/cart/add-cart-item/${passShopId}/${itemId}`, {\r\n            shopId: passShopId, itemId, count: passCount\r\n            })\r\n            .then(() => setShowAddedPopup(true))\r\n            .catch(err => err && console.log(err))\r\n            .then(() => setTimeout(() => setShowAddedPopup(false), 5000))\r\n        } else {\r\n          const localShoppingCart = localStorage.getItem('shoppingCart')\r\n          localStorage.removeItem('shoppingCart')\r\n          const newShoppingCart = localShoppingCart ? [...JSON.parse(localShoppingCart), {shopId: passShopId, itemId, count: passCount}] : [{shopId: passShopId, itemId, count: passCount}]\r\n          localStorage.setItem('shoppingCart', JSON.stringify(newShoppingCart))\r\n          setShowAddedPopup(true)\r\n          setTimeout(() => setShowAddedPopup(false), 5000)\r\n        }\r\n      }\r\n      return (\r\n        <Col className=\"mt-2 mb-2\" style={{color: \"whitesmoke\"}} xs={colXsSettings ?? 6} md={colMdSettings ?? 6} lg={colMdSettings ?? 4} xl={colMdSettings ?? 3} key={_id}>\r\n          <Card onMouseEnter={() => handleMouseOver()} onMouseLeave={() => handleMouseLeave()} style={{height: \"410px\" }} id={_id} >\r\n            {isOwner &&\r\n            <Button\r\n              onClick={(e) => deleteCard(e)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                zIndex: \"+5\"\r\n              }}\r\n              variant=\"outline-danger\"\r\n            >\r\n              <MdDelete style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n            {isOwner &&\r\n            <Button\r\n              onClick={(e) => handleEditing(e)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                marginLeft: \"40px\",\r\n                zIndex: \"+5\"\r\n              }}\r\n              variant=\"outline-warning\"\r\n            >\r\n              <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n            {editing[_id] && <EditItems shouldReload={shouldReload} setShouldReload={setShouldReload} itemDataProp={item} showEditItems={editing[_id]} setShowEditItems={setEditing} shopId={passShopId} itemId={_id} />}\r\n            <Card.Img className=\"shop-item-img mt-4\" variant=\"top\" src={image} />\r\n            <Card.Body style={{color: \"Black\"}}>\r\n              <Card.Title>{itemName}</Card.Title>\r\n              <Card.Text>{price} €</Card.Text>\r\n            </Card.Body>\r\n            <Card.ImgOverlay style={{ background: \"rgba(52,58,64,0.7)\", display: `${isHovered[_id] === 'block' ? 'block' : 'none'}`}} >\r\n              <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                <Button style={{width: \"100%\"}} onClick={(e) => addItemToCart(e)} variant=\"dark\">Add to shopping cart.</Button>\r\n                <Container>\r\n                  <Row className=\"mt-2\">\r\n                    <Col>\r\n                      <Form.Control\r\n                        as=\"select\"\r\n                        value={count[_id]}\r\n                        onChange={(e) => handleCount(e)}\r\n                      >\r\n                        {showCount()}\r\n                      </Form.Control>\r\n                    </Col>\r\n                  </Row>\r\n                  {isOwner &&\r\n                  <Row>\r\n                    <Col><a onClick={() => copyFunction(_id)} style={{textDecoration: 'none', cursor: 'pointer', color: clicked}}><strong>copy my id!</strong></a></Col>\r\n                  </Row>}\r\n                  <Row style={{height: '240px', marginTop: '5px', marginBottom: '5px'}}>\r\n                    <Col>{description}</Col>\r\n                  </Row>\r\n                  {url && \r\n                    <Link to={`/${url}`}>\r\n                      <Button style={{width: \"100%\"}} variant=\"dark\">Visit shop.</Button>\r\n                    </Link>\r\n                  }\r\n                </Container>\r\n              </SlideDown>\r\n            </Card.ImgOverlay>\r\n          </Card>\r\n        </Col>\r\n      );\r\n    });\r\n  };","import React, {useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nconst IMAGE_PREFIX = 'homescreen-event-image'\r\n\r\nexport default ({eventsPopup, setEventsPopup, forceRefresh, setForceRefresh, eventsImage, eventsText}) => {\r\n    const [description, setDescription] = useState(eventsText)\r\n    const [imageLink, setImageLink] = useState(eventsImage)\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            console.log(image)\r\n          const img = require(`../../../public/uploads/${image.replace(/_/g, '-')}`);\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${IMAGE_PREFIX}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${IMAGE_PREFIX}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${IMAGE_PREFIX}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        axios.put(`https://mas-vino.herokuapp.com/home/events-description`, { descriptionEvents: description, imageLinkEvents: imageLink })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setForceRefresh(!forceRefresh)\r\n                setEventsPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n\r\n    return (\r\n        <Modal show={eventsPopup} onHide={() => setEventsPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"400px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {\r\n                imageLink ? \r\n                <Row className=\"justify-content-center text-center\">\r\n                    <Col className=\"form-group\">\r\n                    <img style={{height:'110px', width: '160px'}} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                    <Button onClick={() => setImageLink('')} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n                    </Col>\r\n                </Row> :\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok udalosti. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(description && imageLink) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Upravit\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Upravit\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setEventsPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, {useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nconst IMAGE_PREFIX = 'homescreen-service-image'\r\n\r\nexport default ({servicesPopup, setServicesPopup, forceRefresh, setForceRefresh, servicesImage, servicesText}) => {\r\n    const [description, setDescription] = useState(servicesText)\r\n    const [imageLink, setImageLink] = useState(servicesImage)\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            console.log(image)\r\n          const img = require(`../../../public/uploads/${image.replace(/_/g, '-')}`);\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${IMAGE_PREFIX}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${IMAGE_PREFIX}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${IMAGE_PREFIX}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        axios.put(`https://mas-vino.herokuapp.com/home/services-description`, { descriptionServices: description, imageLinkServices: imageLink })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setForceRefresh(!forceRefresh)\r\n                setServicesPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n\r\n    return (\r\n        <Modal show={servicesPopup} onHide={() => setServicesPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"400px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {\r\n                imageLink ? \r\n                <Row className=\"justify-content-center text-center\">\r\n                    <Col className=\"form-group\">\r\n                    <img style={{height:'110px', width: '160px'}} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                    <Button onClick={() => setImageLink('')} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n                    </Col>\r\n                </Row> :\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok udalosti. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(description && imageLink) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Upravit\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Upravit\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setServicesPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, {useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nexport default ({descriptionsPopup, setDescriptionsPopup, forceRefresh, setForceRefresh, descriptionsText}) => {\r\n    const [description, setDescription] = useState(descriptionsText)\r\n\r\n    const handleSave = () => {\r\n        axios.put(`https://mas-vino.herokuapp.com/home/general-description`, { descriptionGeneral: description })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setForceRefresh(!forceRefresh)\r\n                setDescriptionsPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n\r\n    return (\r\n        <Modal show={descriptionsPopup} onHide={() => setDescriptionsPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"400px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n            <br />\r\n            {description ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Upravit\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Upravit\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setDescriptionsPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","export default {\r\n    MAX_HEIGHT_JUMBO: 320\r\n}","import React, {useState, useEffect} from \"react\";\r\nimport axios from 'axios';\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport ShowItem from '../Shop/ViewShop/ShowItem';\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Carousel from \"react-bootstrap/Carousel\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport UpdateEvents from './UpdateEvents';\r\nimport UpdateServices from './UpdateServices';\r\nimport UpdateDescription from './UpdateDescription';\r\n\r\nimport options from '../../config/options';\r\n\r\nimport { MdEdit,MdMailOutline } from \"react-icons/md\";\r\nimport { BiCodeAlt } from \"react-icons/bi\";\r\nimport { FaFacebookF,FaInstagram } from \"react-icons/fa\";\r\n\r\nconst {MAX_HEIGHT_JUMBO} = options\r\n\r\n//Home.js\r\nexport default ({userId, isOwner}) => {\r\n  const [carouselData, setCarouselData] = useState('')\r\n  const [featuredWines, setFeaturedWines] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [showAddedPopup, setShowAddedPopup] = useState(false)\r\n  const [featuredIds, setFeaturedIds] = useState([])\r\n  const [isIdAvail, setIsIdAvail] = useState(['','','',''])\r\n  const [tempId, setTempId] = useState([])\r\n\r\n  const [eventsData, setEventsData] = useState([])\r\n  const [servicesData, setServicesData] = useState([])\r\n  const [descriptionGeneral, setDescriptionGeneral] = useState('')\r\n\r\n  const [eventsPopup, setEventsPopup] = useState(false)\r\n  const [servicesPopup, setServicesPopup] = useState(false)\r\n  const [descriptionsPopup, setDescriptionsPopup] = useState(false)\r\n\r\n  const [forceRefresh, setForceRefresh] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    axios.get(`https://mas-vino.herokuapp.com/home/`)\r\n      .then(res => {\r\n        const featured = res.data.featuredWines\r\n        const events = [res.data.descriptionEvents, res.data.imageLinkEvents]\r\n        const services = [res.data.descriptionServices, res.data.imageLinkServices]\r\n        const description = res.data.descriptionGeneral\r\n        setEventsData(events)\r\n        setServicesData(services)\r\n        setDescriptionGeneral(description)\r\n        setFeaturedIds(featured)\r\n        setTempId(featured)\r\n        setFeaturedWines([])\r\n        featured.map(item => {\r\n          axios.get(`https://mas-vino.herokuapp.com/shop/find-item-by-id/${item}`)\r\n            .then(res => {\r\n              const response = res.data\r\n              const newObj = {...response[0], shopId: response[1]}\r\n              return setFeaturedWines(prev => [...prev, newObj])\r\n            })\r\n            .catch(err => err && console.log('Error while setting full featured wines, ', err))\r\n        })\r\n      })\r\n      .catch(err => err && console.log('Error while fetching featured wines, ', err))\r\n    axios.get(`https://mas-vino.herokuapp.com/shop/`)\r\n      .then(res => setCarouselData(res.data))\r\n      .catch(err => err && console.log('Error while fetching shops for carousel, ', err))\r\n      .then(() => setLoading(false))  \r\n  }, [forceRefresh])\r\n\r\n  const getImage = (image) => {\r\n    try {\r\n        const img = require(`../../../public/uploads/${image.replace(/_/g, '-')}`);\r\n        return img;\r\n    } catch {\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const ShowEvents = () => {\r\n    return (\r\n      <Row className=\"mt-4 mb-4\">\r\n        <Col className=\"mt-4 mb-4\">\r\n          {eventsData[0]} <br/>\r\n          <Link to=\"/akcie\"><Button variant=\"dark\">Zoznam akcii</Button></Link>\r\n        </Col>\r\n        <Col className=\"mt-4 mb-4\">\r\n          {isOwner &&\r\n            <Button\r\n              onClick={() => setEventsPopup(true)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                zIndex: \"+1\",\r\n                position:'absolute'\r\n              }}\r\n              variant=\"outline-warning\"\r\n            >\r\n              <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n          <img className=\"w-100\" src={getImage(eventsData[1]) ? getImage(eventsData[1]) : eventsData[1]} /> \r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n\r\n  const ShowServices = () => {\r\n    return (\r\n      <Row className=\"mt-4 mb-4 pt-4 pb-4\">\r\n        <Col className=\"mt-4 mb-4\">\r\n          {isOwner &&\r\n            <Button\r\n              onClick={() => setServicesPopup(true)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                zIndex: \"+1\",\r\n                position:'absolute'\r\n              }}\r\n              variant=\"outline-warning\"\r\n            >\r\n              <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n          <img className=\"w-100\" src={getImage(servicesData[1]) ? getImage(servicesData[1]) : servicesData[1]} /> \r\n        </Col>\r\n        <Col className=\"mt-4 mb-4\">\r\n          {servicesData[0]} <br/>\r\n          <Link to=\"/sluzby\"><Button variant=\"dark\">Zoznam sluzieb</Button></Link>\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n\r\n  const ShowGeneral = () => {\r\n    return (\r\n      <Row className=\"text-center mt-4 mb-4\">\r\n        <Col className=\"mt-4 mb-4\">\r\n          {isOwner &&\r\n            <Button\r\n              onClick={() => setDescriptionsPopup(true)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                zIndex: \"+1\",\r\n                position:'absolute'\r\n              }}\r\n              variant=\"outline-warning\"\r\n            >\r\n              <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n          {descriptionGeneral}\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n\r\n  const showCarouselWithData = () => {\r\n    return carouselData.map(shop => {\r\n      const {shopName, owner, url, imageLink} = shop\r\n      const image = getImage(imageLink)\r\n        ? getImage(imageLink)\r\n        : imageLink;\r\n      return (\r\n        <Carousel.Item key={`id-${image}`} style={{maxHeight: MAX_HEIGHT_JUMBO}}>\r\n            <Link to={`/${url}`}>\r\n            <img\r\n              className=\"d-block w-100\"\r\n              src={image}\r\n              alt={`Carousel-${imageLink}`}\r\n            />\r\n            <Carousel.Caption>\r\n              <h3>{shopName}</h3>\r\n              <p>{owner}</p>\r\n            </Carousel.Caption>\r\n          </Link>\r\n        </Carousel.Item>\r\n      )\r\n    })\r\n  }\r\n\r\n  const handleSuccessFeatureChange = () => {\r\n    for (let i = 0; i<featuredIds.length; i++) {\r\n      if (featuredIds[i] !== tempId[i]) {\r\n        setFeaturedIds(tempId)\r\n        axios.post(`https://mas-vino.herokuapp.com/home/featured-wines`, {featuredWines: tempId})\r\n          .then(res => window.location.reload())\r\n          .catch(err => err && console.log(err))\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleFeaturedIds = (e, i) => {\r\n    const newValue = tempId[i]\r\n    let newIdAvail = [...isIdAvail]\r\n    axios.get(`https://mas-vino.herokuapp.com/shop/find-item-by-id/${newValue}`)\r\n      .then(res => {\r\n        if (res.data[0]) {\r\n          newIdAvail[i] = ''\r\n          setIsIdAvail(newIdAvail)\r\n          handleSuccessFeatureChange()\r\n        } else {\r\n          newIdAvail[i] = 'invalid-input'\r\n          setIsIdAvail(newIdAvail)\r\n        }\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  const handleTempId = (e, i) => {\r\n    const newValue = e.target.value\r\n    let newTempIds = [...tempId]\r\n    newTempIds[i] = newValue\r\n    setTempId(newTempIds)\r\n  }\r\n\r\n  const ShowUpdateFeaturedWines = () => {\r\n    return tempId.map((featured, i) => {\r\n      return (\r\n        <Col key={`featuerd-${i}`} sm={6} md={3} className={`text-center mt-1`}>\r\n          <input\r\n            className={`form-control text-center ${isIdAvail[i]}`}\r\n            type=\"text\"\r\n            name={`featured-${i}`}\r\n            value={featured}\r\n            onChange={(e) => handleTempId(e, i)}\r\n            onBlur={(e) => handleFeaturedIds(e, i)}\r\n          />\r\n        </Col>\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    loading ? \r\n    <Spinner\r\n      style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n      animation=\"border\"\r\n    />\r\n    :\r\n    <>\r\n      {showAddedPopup &&\r\n          <Alert style={{position: \"fixed\", zIndex: '9', top:56, right:0}} variant=\"success\" onClose={() => setShowAddedPopup(false)} dismissible>\r\n            <p>Item added to cart!</p>\r\n          </Alert>\r\n      }\r\n      {eventsPopup &&\r\n        <UpdateEvents eventsText={eventsData[0]} eventsImage={eventsData[1]} eventsPopup={eventsPopup} setEventsPopup={setEventsPopup} forceRefresh={forceRefresh} setForceRefresh={setForceRefresh} />\r\n      }\r\n      {servicesPopup &&\r\n        <UpdateServices servicesText={servicesData[0]} servicesImage={servicesData[1]} servicesPopup={servicesPopup} setServicesPopup={setServicesPopup} forceRefresh={forceRefresh} setForceRefresh={setForceRefresh} />\r\n      }\r\n      {descriptionsPopup &&\r\n        <UpdateDescription descriptionsText={descriptionGeneral} descriptionsPopup={descriptionsPopup} setDescriptionsPopup={setDescriptionsPopup} forceRefresh={forceRefresh} setForceRefresh={setForceRefresh} />\r\n      }\r\n      <Carousel indicators={false} style={{maxHeight: MAX_HEIGHT_JUMBO}}>\r\n        {carouselData && showCarouselWithData()}  \r\n      </Carousel>\r\n      <div>\r\n        <Container>\r\n          <ShowGeneral />\r\n        </Container>\r\n      </div>\r\n      <div style={{background: 'rgba(52,58,64, 0.2)'}}>\r\n        <Container className=\"pt-3 pb-3\">\r\n          {isOwner &&\r\n          <Row>\r\n            <ShowUpdateFeaturedWines />\r\n          </Row>}\r\n          <Row className=\"text-center pt-4 pb-4\">\r\n            <ShowItem colXsSettings={6} colMdSettings={3} shopItems={featuredWines} shopId={'home'} userId={userId} setShouldReload={false} shouldReload={false} setShowAddedPopup={setShowAddedPopup} isOwner={false} />\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n      <div>\r\n        <Container>\r\n          <ShowEvents />\r\n        </Container>\r\n      </div>\r\n      <div style={{background: 'rgba(52,58,64, 0.2)'}}>\r\n        <Container>\r\n          <ShowServices />\r\n        </Container>\r\n      </div>\r\n      <div>\r\n        <Container>\r\n          <Row className=\"text-center pt-4 pb-4 mb-4\">\r\n            <Col>\r\n              <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://github.com/mattiass771\" style={{textDecoration: 'none', color: '#333333'}}>\r\n                <BiCodeAlt style={{fontSize: '150%', marginTop: '-2px'}} /> by <strong>MZ</strong>\r\n              </a>\r\n            </Col>\r\n            <Col>\r\n              <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://facebook.com\" style={{textDecoration: 'none', color: '#333333'}}>\r\n                <FaFacebookF style={{fontSize: '130%', marginTop: '-2px', marginRight: '-4px'}} />acebook.com<strong>/masvino</strong>\r\n              </a>\r\n            </Col>\r\n            <Col>\r\n              <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://instagram.com\" style={{textDecoration: 'none', color: '#333333'}}>\r\n                <FaInstagram style={{fontSize: '150%', marginTop: '-2px'}} /><strong>#masvino</strong>\r\n              </a>\r\n            </Col>\r\n            <Col>\r\n              <MdMailOutline style={{fontSize: '150%', marginTop: '-2px'}} /><strong style={{color: '#333333'}}>masvino@mail.com</strong>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport shortid from 'shortid';\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\n// CreateShop.js\r\nexport default ({ userData }) => {\r\n  const [shopName, setShopName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  const owner = userData.fullName;\r\n  const ownerId = userData._id;\r\n\r\n  const handleOpenShop = () => {\r\n    console.log(owner, shopName, ownerId, description, shortid.generate())\r\n    axios\r\n      .post(`https://mas-vino.herokuapp.com/shop/add`, {\r\n        shopName,\r\n        owner,\r\n        ownerId,\r\n        description,\r\n        url: shortid.generate()\r\n      })\r\n      .then((res) => console.log(res.data))\r\n      .catch((err) => err && console.log(`Error catched: ${err}`))\r\n      .then(() => window.location.reload());\r\n  };\r\n\r\n  return (\r\n    <SlideDown className={\"my-dropdown-slidedown\"}>\r\n      <Container>\r\n        <br />\r\n        <Row>\r\n          <Col className=\"text-center\">\r\n            <h1>Create new shop!</h1>\r\n            <p>\r\n              Please fill out the form below and shortly after, your very own shop\r\n              will be generated.\r\n            </p>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"form-group\">\r\n            <label htmlFor=\"shopName\">Name your shop:</label>\r\n            <input\r\n              value={shopName}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"shopName\"\r\n              onChange={(e) => setShopName(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"form-group\">\r\n            <label htmlFor=\"setDescription\">\r\n              Add a brief description to your shop:\r\n            </label>\r\n            <textarea\r\n              value={description}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"setDescription\"\r\n              onChange={(e) => setDescription(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center\">\r\n            <Button variant=\"dark\" onClick={handleOpenShop}>\r\n              Open Shop!\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      <hr />\r\n    </SlideDown>\r\n  );\r\n};\r\n","import React, {useState} from 'react';\r\nimport CreateShop from \"./CreateShop\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Card from \"react-bootstrap/Card\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default ({userData, shopData}) => {\r\n    const [showCreateShop, setShowCreateShop] = useState(false)\r\n    const [isHovered, setIsHovered] = useState(\"\")\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n          const img = require(`../../../public/uploads/${image.replace(/_/g, '-')}`);\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n      };\r\n\r\n    const showShops = () => {\r\n        return shopData.map(shop => {\r\n            const { _id, shopName, description, url, overviewImage } = shop\r\n            const handleMouseOver = () => {\r\n                let hoverObj = {}\r\n                hoverObj[_id] = 'none'\r\n                setIsHovered({...isHovered, ...hoverObj})\r\n            }\r\n            const handleMouseLeave = () => {\r\n                let hoverObj = {}\r\n                hoverObj[_id] = 'block'\r\n                setIsHovered({...isHovered, ...hoverObj})\r\n            }\r\n            return (\r\n                <Col className=\"mt-2 mb-2\" md={4} key={_id} >\r\n                    <Link to={`/${url}`}>\r\n                        <Card className=\"h-100\" onMouseEnter={() => handleMouseOver()} onMouseLeave={() => handleMouseLeave()} style={{ textAlign:\"center\", color: \"whitesmoke\" }} id={_id} >\r\n                            <Card.Img className=\"h-100\" src={getImage(overviewImage) ? getImage(overviewImage) : `https://miro.medium.com/max/295/1*i5iqn7xB-l0kLwsJJBYEWQ.jpeg`} />\r\n                            <Card.ImgOverlay className={`${isHovered[_id] === 'none' ? 'fade-out' : 'fade-in'}`} style={{ background: \"rgba(52,58,64,0.4)\"}} >\r\n                                    <Card.Title>\r\n                                        {shopName}\r\n                                    </Card.Title>\r\n                                    <Card.Text>\r\n                                        {description}\r\n                                    </Card.Text>\r\n                            </Card.ImgOverlay>\r\n                        </Card>\r\n                    </Link>\r\n                </Col>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Row>\r\n                {userData.isOwner && \r\n                <Col className=\"text-center\">\r\n                    {showCreateShop ? \r\n                    <CreateShop userData={userData} /> :\r\n                    <Button style={{marginTop: \"20px\"}} variant=\"dark\" onClick={() => setShowCreateShop(true)}>New Shop</Button>\r\n                    }\r\n                </Col>}\r\n            </Row>\r\n            <Row className=\"mt-4\">\r\n                {showShops()}\r\n            </Row>\r\n        </Container>\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport ShopsOverview from \"./ShopsOverview\";\r\n\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\n//Shop.js\r\nexport default ({ userData }) => {\r\n  const [shopData, setShopData] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/shop/`)\r\n      .then((res) => setShopData(res.data ? res.data : {}))\r\n      .catch((err) => {\r\n        if (err) return console.log(`Fetch error: ${err}`);\r\n      })\r\n      .then(() => setLoading(false));\r\n  }, []); //eslint-disable-line\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <Spinner\r\n          style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n          animation=\"border\"\r\n        />\r\n      ) : <ShopsOverview userData={userData} shopData={shopData} />}\r\n    </>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\n// Login.js\r\nexport default ({shoppingCart = false, handleLogin}) => {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [middleName, setMiddleName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [passwordFirst, setPasswordFirst] = useState(\"\");\r\n  const [passwordSecond, setPasswordSecond] = useState(\"\");\r\n  const [passwordsMatch, setPasswordsMatch] = useState(false);\r\n  const [emailExists, setEmailExists] = useState(null);\r\n  const [phone, setPhone] = useState(\"\")\r\n\r\n  const [street, setStreet] = useState(\"\")\r\n  const [postal, setPostal] = useState(\"\")\r\n  const [city, setCity] = useState(\"\")\r\n\r\n  const handleSignUp = () => {\r\n    const fullName = middleName\r\n      ? firstName + \" \" + middleName + \" \" + lastName\r\n      : firstName + \" \" + lastName;\r\n    const address = `${street},${postal.toString()},${city}`\r\n    console.log(typeof phone, phone, typeof address, address )\r\n    axios\r\n      .post(`https://mas-vino.herokuapp.com/users/add-user`, {\r\n        userName: email,\r\n        password: passwordSecond,\r\n        fullName: fullName,\r\n        email: email,\r\n        phone: phone,\r\n        address: address\r\n      })\r\n      .then((res) => console.log(res.data))\r\n      .catch((err) => err && console.log(`Error: ${err}`))\r\n      .then(() => shoppingCart ? handleLogin() : window.location.reload());\r\n  };\r\n\r\n  const checkIfPasswordMeetsCriteria = () => {\r\n    if (\r\n      passwordFirst.search(/[0-9]/) !== -1 &&\r\n      passwordFirst.search(/[a-z]/) !== -1 &&\r\n      passwordFirst.search(/[A-Z]/) !== -1 &&\r\n      passwordFirst &&\r\n      passwordFirst.length > 7\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  const checkIfEmailInDatabase = () => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/users/email/${email}`)\r\n      .then((res) => setEmailExists(res.data))\r\n      .catch((err) => err && console.log(`Error: ${err}`));\r\n  };\r\n\r\n  const checkIfEmailMeetsCriteria = () => {\r\n    if (\r\n      email &&\r\n      emailExists === null &&\r\n      email.match(/[a-z]+[.]?[a-z]*[@][a-z]+[.][a-z]{1,5}/gi)\r\n    )\r\n      return \"\";\r\n    else if (email && email.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfNameMeetsCriteria = (name) => {\r\n    if (name && name.match(/^[a-z]+$/i)) return \"\";\r\n    else if (name && name.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfCityMeetsCriteria = () => {\r\n    if (city && city.match(/^[a-z]+$/i)) return \"\";\r\n    else if (city && city.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfStreetMeetsCriteria = () => {\r\n    if (street && street.match(/^[a-z ]+[0-9 ]+[/]{0,1}[a-z0-9 ]*$/i)) return \"\";\r\n    else if (street && street.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfPhoneMeetsCriteria = () => {\r\n    if (phone && phone.match(/^[+]?[0-9]{6,14}[0-9]$/)) return \"\";\r\n    else if (phone && phone.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfPostalMeetsCriteria = () => {\r\n    if (postal && postal.match(/^[0-9]{5}$/)) return \"\";\r\n    else if (postal && postal.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (passwordFirst && passwordSecond && passwordFirst === passwordSecond) setPasswordsMatch(true);\r\n    else setPasswordsMatch(false);\r\n  }, [passwordSecond]); //eslint-disable-line\r\n\r\n  return (\r\n    <SlideDown className={\"my-dropdown-slidedown\"}>\r\n      <Container>\r\n        <br />\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <h2>Sign up!</h2>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"firstName\">First Name:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                firstName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"firstName\"\r\n              value={firstName}\r\n              onChange={(e) =>\r\n                setFirstName(\r\n                  e.target.value &&\r\n                    e.target.value[0].toUpperCase() +\r\n                      e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"middleName\">Middle Name (Optional):</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                middleName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"middleName\"\r\n              value={middleName}\r\n              onChange={(e) =>\r\n                setMiddleName(\r\n                  e.target.value &&\r\n                    e.target.value[0].toUpperCase() +\r\n                      e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"lastName\">Last Name:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                lastName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"lastName\"\r\n              value={lastName}\r\n              onChange={(e) =>\r\n                setLastName(\r\n                  e.target.value &&\r\n                  e.target.value[0].toUpperCase() +\r\n                  e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"email\">E-mail:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfEmailMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              onBlur={checkIfEmailInDatabase}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"phone\">Phone:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfPhoneMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"phone\"\r\n              value={phone}\r\n              onChange={(e) => setPhone(e.target.value &&\r\n                (e.target.value).substring(0,16)\r\n                )}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"street\">Street and house no.:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfStreetMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"street\"\r\n              value={street}\r\n              onChange={(e) => setStreet(\r\n                e.target.value &&\r\n                e.target.value[0].toUpperCase() +\r\n                e.target.value.substring(1)\r\n              )}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"postal\">Postal:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfPostalMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"postal\"\r\n              value={postal}\r\n              onChange={(e) => setPostal(e.target.value && (e.target.value).substring(0,5))}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"city\">City:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfCityMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"city\"\r\n              value={city}\r\n              onChange={(e) => setCity(e.target.value)}\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"passwordFirst\">New Password:</label>\r\n            <input\r\n              className={`form-control text-center ${\r\n                !checkIfPasswordMeetsCriteria() && passwordFirst.length > 0\r\n                  ? \"invalid-input\"\r\n                  : \"\"\r\n              }`}\r\n              type=\"password\"\r\n              name=\"passwordFirst\"\r\n              value={passwordFirst}\r\n              onChange={(e) => setPasswordFirst(e.target.value)}\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"passwordSecond\">Repeat Password:</label>\r\n            <input\r\n              className=\"form-control text-center\"\r\n              type=\"password\"\r\n              name=\"passwordSecond\"\r\n              value={passwordSecond}\r\n              onChange={(e) => setPasswordSecond(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        {checkIfPasswordMeetsCriteria() ? null : (\r\n          <Row className=\"justify-content-md-center\">\r\n            <Col md={6} className=\"text-center mt-3\">\r\n              <em style={{ color: \"#7b1818\" }}>\r\n                Password must be at least 8 characters long and must contain one\r\n                lowercase, one uppercase character and one number.\r\n              </em>\r\n            </Col>\r\n          </Row>\r\n        )}\r\n\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-3\">\r\n            {emailExists && (\r\n              <>\r\n                <em style={{ color: \"#7b1818\" }}>\r\n                  This e-mail is already registered in our system!\r\n                </em>\r\n                <br />\r\n                <br />\r\n              </>\r\n            )}\r\n            {checkIfPasswordMeetsCriteria() && !passwordsMatch && (\r\n              <>\r\n                <em style={{ color: \"#7b1818\" }}>Passwords must match!</em>\r\n              </>\r\n            )}\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-3\">\r\n            {checkIfEmailMeetsCriteria() === \"\" &&\r\n            checkIfNameMeetsCriteria(firstName) === \"\" &&\r\n            checkIfNameMeetsCriteria(lastName) === \"\" &&\r\n            checkIfPasswordMeetsCriteria() &&\r\n            checkIfPhoneMeetsCriteria() === \"\" &&\r\n            checkIfStreetMeetsCriteria() === \"\" &&\r\n            checkIfPostalMeetsCriteria() === \"\" &&\r\n            checkIfCityMeetsCriteria() === \"\" &&\r\n            passwordsMatch &&\r\n            emailExists === null ? (\r\n              <Button onClick={handleSignUp} variant=\"dark\">\r\n                Sign up!\r\n              </Button>\r\n            ) : (\r\n              <Button disabled variant=\"dark\">\r\n                Sign up!\r\n              </Button>\r\n            )}\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </SlideDown>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport SignUp from \"./SignUp\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\n// Login.js\r\nexport default ({shoppingCart = false}) => {\r\n  const [signUp, setSignUp] = useState(\"display-none\");\r\n  const [hideButton, setHideButton] = useState(\"\");\r\n\r\n  const showSignUp = () => {\r\n    setSignUp(\"\");\r\n    setHideButton(\"display-none\");\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n        <SlideDown className={\"my-dropdown-slidedown\"}>\r\n        <br />\r\n        <Row>\r\n          <Col className=\"text-center\">\r\n            <h2>Sign in!</h2>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <form action={shoppingCart ? 'https://mas-vino.herokuapp.com/login?shopping=cart' : 'https://mas-vino.herokuapp.com/login'} method=\"post\">\r\n              <input\r\n                className=\"form-control text-center\"\r\n                type=\"text\"\r\n                placeholder=\"username\"\r\n                name=\"username\"\r\n              />\r\n              <br />\r\n              <input\r\n                className=\"form-control text-center\"\r\n                type=\"password\"\r\n                placeholder=\"password\"\r\n                name=\"password\"\r\n              />\r\n              <br />\r\n              <input\r\n                className=\"btn btn-dark\"\r\n                id=\"sub\"\r\n                type=\"submit\"\r\n                value=\"Sign in!\"\r\n              ></input>\r\n            </form>\r\n          </Col>\r\n        </Row>\r\n        <hr />\r\n        {!shoppingCart &&\r\n        <>\r\n          <div className={`${hideButton}`}>\r\n            <Row className={`justify-content-md-center`}>\r\n              <Col md={6} className=\"text-center mt-1\">\r\n                <Button onClick={showSignUp} variant=\"dark\">\r\n                  Hey, I am new here!\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n          <div className={`${signUp}`}>\r\n            <SignUp />\r\n          </div>\r\n        </>}\r\n      </SlideDown>\r\n    </Container>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\"\r\n\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nexport default ({ showAddItems, setShowAddItems, shopData }) => {\r\n  const [itemName, setItemName] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [imageLink, setImageLink] = useState(\"\");\r\n  const [canSaveItem, setCanSaveItem] = useState(false);\r\n  const [maxCount, setMaxCount] = useState('')\r\n  const [color, setColor] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [taste, setTaste] = useState(\"\");\r\n\r\n  const shopId = shopData._id;\r\n\r\n  const resetPropsOnHide = () => {\r\n    setImageLink(\"\")\r\n    setItemName(\"\")\r\n    setPrice(\"\")\r\n    setDescription(\"\")\r\n    setCanSaveItem(false)\r\n    setShowAddItems(false)\r\n  }\r\n\r\n  const getImage = (image) => {\r\n    try {\r\n      let img;\r\n      axios.get(`https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`)\r\n        .then(res => img = res.data).catch(err => img = null)\r\n      return img;\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleSaveItem = () => {\r\n    if (imageLink && description && price && itemName && color) {\r\n      axios\r\n        .post(`https://mas-vino.herokuapp.com/shop/${shopId}/add-item`, {\r\n          itemName,\r\n          price,\r\n          description,\r\n          imageLink,\r\n          maxCount: maxCount,\r\n          color,\r\n          type,\r\n          taste\r\n        })\r\n        .then(() => setShowAddItems(false))\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n  };\r\n\r\n  const deleteFile = (file) => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/deleteFile/${shopId}`, {\r\n        params: file\r\n      })\r\n      .then(() => \r\n        {return}\r\n      )\r\n      .catch((err) => err && console.log(err));\r\n  };\r\n  useEffect(() => {\r\n    const isAlready = getImage(imageLink) ? getImage(imageLink) : imageLink;\r\n    if (isAlready && imageLink && description && price && itemName && color) {\r\n      setCanSaveItem(true);\r\n    }\r\n  }, [imageLink, description, price, itemName, color]);\r\n\r\n  // specify upload params and url for your files\r\n  const getUploadParams = ({ meta }) => {\r\n    return { url: `https://mas-vino.herokuapp.com/fileUpload/${shopId}` };\r\n  };\r\n\r\n  // called every time a file's `status` changes\r\n  const handleChangeStatus = ({ meta, file }, status) => {\r\n    if (status === \"removed\") {\r\n      deleteFile(meta);\r\n    }\r\n    if (status === \"done\") {\r\n      setImageLink(`${shopId}-${meta.name}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal show={showAddItems} onHide={() => resetPropsOnHide()}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Add an item to your shop.</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"shopName\">Name your item:</label>\r\n            <input\r\n              value={itemName}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"shopName\"\r\n              onChange={(e) => setItemName(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"price\">Price:</label>\r\n            <input\r\n              value={price}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"price\"\r\n              onChange={(e) => setPrice(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"color\">Farba:</label>\r\n            <input\r\n              value={color}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"color\"\r\n              placeholder=\"povinne\"\r\n              onChange={(e) => setColor(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"taste\">Chut:</label>\r\n            <input\r\n              value={taste}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"taste\"\r\n              onChange={(e) => setTaste(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"type\">Druh:</label>\r\n            <input\r\n              value={type}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"type\"\r\n              onChange={(e) => setType(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col>\r\n            <label htmlFor=\"sizes\">Maximalny pocet flias v jednej objednavke:</label>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col className=\"form-group\">\r\n          <InputGroup>\r\n              <input\r\n                value={maxCount}\r\n                className=\"form-control\"\r\n                type=\"number\"\r\n                name=\"sizes\"\r\n                onChange={(e) => setMaxCount(e.target.value)}\r\n                placeholder=\"Nechaj prazdne ak nieje hranica\"\r\n              />\r\n            </InputGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"description\">Description:</label>\r\n            <textarea\r\n              maxLength=\"230\"\r\n              value={description}\r\n              className=\"form-control\"\r\n              name=\"description\"\r\n              type=\"text\"\r\n              style={{ resize: \"none\", minHeight: \"100px\" }}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <br />\r\n        <SlideDown className={\"my-dropdown-slidedown\"}>\r\n        <Row>\r\n          <Col>\r\n            <Dropzone\r\n              maxFiles={1}\r\n              multiple={false}\r\n              canCancel={false}\r\n              getUploadParams={getUploadParams}\r\n              onChangeStatus={handleChangeStatus}\r\n              accept=\"image/*\"\r\n              inputContent={() => (\r\n                <p\r\n                  className=\"text-center\"\r\n                  key=\"label\"\r\n                  style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                >\r\n                  Drop or click to choose image.\r\n                  <br />\r\n                  <BsUpload />\r\n                </p>\r\n              )}\r\n              classNames={{\r\n                dropzone: \"dropzoning\"\r\n              }}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </SlideDown>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        {canSaveItem ? (\r\n          <Button variant=\"dark\" onClick={handleSaveItem}>\r\n            Save Item\r\n          </Button>\r\n        ) : (\r\n          <Button disabled variant=\"dark\">\r\n            Save Item\r\n          </Button>\r\n        )}\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Alert from \"react-bootstrap/Alert\"\r\n\r\nimport axios from \"axios\";\r\n\r\nimport AddItems from \"./AddItems\";\r\n\r\nimport { FiPlusSquare } from \"react-icons/fi\";\r\n\r\nimport ShowItem from './ShowItem'\r\n\r\nexport default ({ shopData, isOwner, userId }) => {\r\n  const [showAddItems, setShowAddItems] = useState(false);\r\n  const [shopItems, setShopItems] = useState(shopData.shopItems);\r\n  const [shouldReload, setShouldReload] = useState(false);\r\n  const [showAddedPopup, setShowAddedPopup] = useState(false)\r\n\r\n  const shopId = shopData._id\r\n\r\n  useEffect(() => {\r\n    if (!showAddItems) {\r\n      setShouldReload(!shouldReload);\r\n    }\r\n  }, [showAddItems]); //eslint-disable-line\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/shop/${shopId}`)\r\n      .then((res) => setShopItems(res.data.shopItems))\r\n      .catch((err) => err && console.log(err.data))\r\n      .then(() => {\r\n        return;\r\n      });\r\n  }, [shouldReload]); //eslint-disable-line\r\n\r\n  return (\r\n    <Container className=\"text-center\">\r\n      {showAddedPopup &&\r\n        <Alert style={{position: \"fixed\", top:56, right:0}} variant=\"success\" onClose={() => setShowAddedPopup(false)} dismissible>\r\n          <p>Item added to cart!</p>\r\n        </Alert>\r\n      }\r\n      {isOwner &&\r\n        <AddItems\r\n          shopData={shopData}\r\n          showAddItems={showAddItems}\r\n          setShowAddItems={setShowAddItems}\r\n        />}\r\n      <Row>\r\n        <ShowItem \r\n          shopItems={shopItems} \r\n          userId={userId} \r\n          shopId={shopId} \r\n          setShouldReload={setShouldReload}\r\n          shouldReload={shouldReload}\r\n          setShowAddedPopup={setShowAddedPopup}\r\n          isOwner={isOwner}\r\n          />\r\n        {isOwner && \r\n        <Col className=\"mt-2 mb-2\" md={6} lg={4} xl={3}>\r\n          <Card style={{height: '400px'}}>\r\n            <Button\r\n              variant=\"outline-dark\"\r\n              style={{ border: '0px', height: '100%'}}\r\n              onClick={() => setShowAddItems(true)}\r\n            >\r\n              <FiPlusSquare\r\n                style={{\r\n                  margin: \"0 auto\",\r\n                  fontSize: \"400%\"\r\n                }}\r\n              />\r\n            </Button>\r\n          </Card>\r\n        </Col>}\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\"\r\nimport Button from \"react-bootstrap/Button\"\r\nimport Alert from \"react-bootstrap/Alert\"\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\n\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport options from '../../../config/options';\r\nconst {MAX_HEIGHT_JUMBO} = options\r\n\r\n// CreateShop.js\r\nexport default ({ shopData, isOwner }) => {\r\n  let history = useHistory();\r\n  const url = shopData.url;\r\n  const [currentUrl, setCurrentUrl] = useState(url)\r\n  const [newUrl, setNewUrl] = useState(url)\r\n  const [isUrlAvailible, setIsUrlAvailible] = useState(true)\r\n  const [editMode, setEditMode] = useState(false)\r\n  const [shopName, setShopName] = useState(shopData.shopName)\r\n  const [error, setError] = useState('')\r\n  const [description, setDescription] = useState(shopData.description)\r\n  const [owner, setOwner] = useState(shopData.owner)\r\n  const [imageLink, setImageLink] = useState('');\r\n  const [overviewImage, setOverviewImage] = useState('');\r\n  const [showImageFromDb, setShowImageFromDb] = useState(shopData.imageLink ? shopData.imageLink : '')\r\n  const [localUploadingTitle, setLocalUploadingTitle] = useState(false)\r\n  const [localUploadingOverview, setLocalUploadingOverview] = useState(false)\r\n\r\n  const getImage = (image) => {\r\n    try {\r\n      let img;\r\n      axios.get(`https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`)\r\n        .then(res => img = res.data).catch(err => img = null)\r\n      return img;\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // specify upload params and url for your files\r\n  const getUploadParams = ({ meta }) => {\r\n    return { url: `https://mas-vino.herokuapp.com/fileUpload/${shopData._id}` };\r\n  };\r\n\r\n  const deleteFile = (file) => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/deleteFile/${shopData._id}`, {\r\n        params: file\r\n      })\r\n      .then(() => \r\n        {return}\r\n      )\r\n      .catch((err) => err && console.log(err));\r\n  };\r\n\r\n  // called every time a file's `status` changes\r\n  const handleChangeStatus = ({ meta, file }, status) => {\r\n    if (status === \"removed\") {\r\n      deleteFile(meta);\r\n    }\r\n    if (status === \"done\") {\r\n      if (localUploadingTitle) {\r\n        setImageLink(`${shopData._id}-${meta.name.replace(/_/g,'-')}`);\r\n      } else if (localUploadingOverview) {\r\n        setOverviewImage(`${shopData._id}-${meta.name.replace(/_/g,'-')}`);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (imageLink) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/imageLink/${imageLink}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    } \r\n  }, [imageLink])\r\n\r\n  useEffect(() => {\r\n    if (overviewImage) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/overviewImage/${overviewImage}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    } \r\n  }, [overviewImage])\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/shop/link/${currentUrl}`)\r\n      .then((res) => {\r\n        if (res.data && currentUrl !== newUrl) setIsUrlAvailible(false)\r\n        else setIsUrlAvailible(true)\r\n      })\r\n      .catch((err) => err && console.log(err))\r\n  }, [currentUrl])\r\n\r\n  const handleError = (error) => {\r\n    console.log('Error connecting to the database: ', error)\r\n    setError('Chyba pri aktualizacii dat, data neboli upravene v databaze.')\r\n    return setTimeout(() => setError(''), 5000)\r\n  }\r\n\r\n  const handleUrlChange = () => {\r\n    if (isUrlAvailible) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/url/${currentUrl}`\r\n      )\r\n      .then((res) => {\r\n        return setNewUrl(currentUrl);\r\n      })\r\n      .catch((err) => err && handleError(err))\r\n      .then(() => history.push(`/${currentUrl}`))\r\n    }\r\n  }\r\n\r\n  const handleShopNameChange = () => {\r\n    if (shopName) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/shopName/${shopName}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    }\r\n  }\r\n\r\n  const handleDescriptionChange = () => {\r\n    if (description) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/description/${description}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    }\r\n  }\r\n\r\n  const handleOwnerChange = () => {\r\n    if (owner) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/owner/${owner}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    }\r\n  }\r\n\r\n  const handleLocalUploadingOverview = () => {\r\n    setLocalUploadingTitle(false)\r\n    setLocalUploadingOverview(true)\r\n  }\r\n\r\n  const handleLocalUploadingTitle = () => {\r\n    setLocalUploadingOverview(false)\r\n    setLocalUploadingTitle(true)\r\n  }\r\n\r\n  return (\r\n    <Jumbotron style={{background: `url(${getImage(showImageFromDb) ? getImage(showImageFromDb) : ''}) no-repeat`, backgroundSize: 'cover' }} fluid>\r\n      <Container className=\"text-center\">\r\n      {!editMode ?\r\n        <Row>\r\n          <Col>\r\n            <h2>{shopName}</h2>\r\n            <p>{description}</p>\r\n            <p>{owner}</p>\r\n            <p><a className=\"link-no-deco\" href={`https://mas-vino.herokuapp.com/${currentUrl}`}>www.vimko.sk/{currentUrl}</a></p>\r\n          </Col>\r\n        </Row>\r\n        :\r\n        <>\r\n          <Row className=\"justify-content-center\">\r\n            <Col xs={8}>\r\n              <input \r\n                className={'form-control text-center'}\r\n                value={shopName} \r\n                onChange={(e) => setShopName(e.target.value)} \r\n                onBlur={handleShopNameChange}\r\n                name=\"shopName\"\r\n                placeholder=\"Nazov\"\r\n              />\r\n              <textarea \r\n                style={{minHeight: '100px'}}\r\n                className={'form-control text-center'}\r\n                value={description} \r\n                onChange={(e) => setDescription(e.target.value)} \r\n                onBlur={handleDescriptionChange}\r\n                name=\"description\"\r\n                placeholder=\"Popis\"\r\n              />\r\n              <input \r\n                className={'form-control text-center'}\r\n                value={owner} \r\n                onChange={(e) => setOwner(e.target.value)} \r\n                onBlur={handleOwnerChange}\r\n                name=\"owner\"\r\n                placeholder=\"Majitel\"\r\n              />\r\n              <div>\r\n                <InputGroup>\r\n              <p style={{marginRight: 10, marginTop: 5}}>www.vimko.sk/</p>\r\n                  <input \r\n                    className={isUrlAvailible ? 'form-control text-center' : 'text-center form-control invalid-input'}\r\n                    value={currentUrl} \r\n                    onChange={(e) => setCurrentUrl(e.target.value)} \r\n                    name=\"currentUrl\"\r\n                    onBlur={handleUrlChange}\r\n                  />\r\n                </InputGroup>\r\n                {!isUrlAvailible && <p style={{color: \"red\"}}>Adresa uz existuje, vyberte prosim inu.</p>}\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"justify-content-md-center\">\r\n            <Col className=\"text-center\">\r\n              <Button variant=\"dark\" onClick={() => handleLocalUploadingTitle()}>Upload title image</Button>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;\r\n              <Button variant=\"dark\" onClick={() => handleLocalUploadingOverview()}>Upload overview image</Button>\r\n            </Col>\r\n          </Row>\r\n        </>\r\n        }\r\n        {((localUploadingTitle || localUploadingOverview) && editMode) ? \r\n        <SlideDown className={\"my-dropdown-slidedown\"}>\r\n        <Row>\r\n          <Col>\r\n            <Dropzone\r\n              maxFiles={1}\r\n              multiple={false}\r\n              canCancel={false}\r\n              getUploadParams={getUploadParams}\r\n              onChangeStatus={handleChangeStatus}\r\n              accept=\"image/*\"\r\n              inputContent={() => (\r\n                <p\r\n                  className=\"text-center\"\r\n                  key=\"label\"\r\n                  style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                >\r\n                  Drop or click to choose {localUploadingTitle ? 'title' : 'overview'} image.\r\n                  <br />\r\n                  <BsUpload />\r\n                </p>\r\n              )}\r\n              classNames={{\r\n                dropzone: \"dropzoning\"\r\n              }}\r\n            />\r\n          </Col>\r\n        </Row></SlideDown> : null\r\n        }\r\n        {isOwner &&\r\n        <Row className=\"mt-4\">\r\n          <Col>\r\n            <Alert style={{display: `${error ? 'block' : 'none'}`}} variant=\"danger\">{error}</Alert>\r\n            {isUrlAvailible ? \r\n            <Button onClick={() => setEditMode(editMode ? false : true)} variant=\"dark\">{editMode ? 'Hotovo' : 'Upravit'}</Button> :\r\n            <Button disabled onClick={() => setEditMode(editMode ? false : true)} variant=\"dark\">{editMode ? 'Hotovo' : 'Upravit'}</Button>}\r\n          </Col>\r\n        </Row>}\r\n      </Container>\r\n    </Jumbotron>\r\n  );\r\n};","import React from \"react\";\r\n\r\nimport ShopItems from \"./ViewShop/ShopItems\";\r\nimport ShopJumbotron from \"./ViewShop/ShopJumbotron\";\r\n\r\n// CreateShop.js\r\nexport default ({ shopData, isOwner, userId }) => {\r\n  return (\r\n    <>\r\n      <ShopJumbotron shopData={shopData} isOwner={isOwner} />\r\n      <ShopItems shopData={shopData} isOwner={isOwner} userId={userId} />\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\"\r\n\r\nimport ViewShop from \"../ViewShop\"\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\nexport default ({userId, isOwner}) => {\r\n    const {shopUrl} = useParams()\r\n    const [isUrlAvailible, setIsUrlAvailible] = useState(true)\r\n    const [shopData, setShopData] = useState({})\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        axios.get(`https://mas-vino.herokuapp.com/shop/link/${shopUrl}`)\r\n            .then((res) => res.data ? setShopData(res.data) : setShopData({}))\r\n            .catch((err) => err && console.log(err))\r\n            .then(() => {\r\n                if (shopData._id) setIsUrlAvailible(false)\r\n                setLoading(false)\r\n            })\r\n    }, [])\r\n\r\n    return (\r\n        loading ? \r\n        <Spinner\r\n          style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n          animation=\"border\"\r\n        /> :\r\n        isUrlAvailible && shopData._id ? \r\n        <ViewShop shopData={shopData} isOwner={isOwner} userId={userId} /> :\r\n        <h5 style={{ marginTop: \"20%\" }} className=\"text-center\">No shop found. The url https://mas-vino.herokuapp.com/{shopUrl} is still available.</h5>\r\n        \r\n    )\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\n// Login.js\r\nexport default ({setUserInformation}) => {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [middleName, setMiddleName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\")\r\n\r\n  const [street, setStreet] = useState(\"\")\r\n  const [postal, setPostal] = useState(\"\")\r\n  const [city, setCity] = useState(\"\")\r\n\r\n  const handleSignUp = () => {\r\n    const fullName = middleName\r\n      ? firstName + \" \" + middleName + \" \" + lastName\r\n      : firstName + \" \" + lastName;\r\n    const address = `${street},${postal.toString()},${city}`\r\n    return setUserInformation({ fullName, email, phone, address })\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log('check')\r\n    if (\r\n      checkIfEmailMeetsCriteria() === \"\" &&\r\n      checkIfNameMeetsCriteria(firstName) === \"\" &&\r\n      checkIfNameMeetsCriteria(lastName) === \"\" &&\r\n      checkIfPhoneMeetsCriteria() === \"\" &&\r\n      checkIfStreetMeetsCriteria() === \"\" &&\r\n      checkIfPostalMeetsCriteria() === \"\" &&\r\n      checkIfCityMeetsCriteria() === \"\"\r\n    ) {\r\n      handleSignUp()\r\n    } else {\r\n      setUserInformation('')\r\n    }\r\n  }, [firstName, lastName, email, street, city, postal, phone])\r\n\r\n  const checkIfEmailMeetsCriteria = () => {\r\n    if (\r\n      email &&\r\n      email.match(/[a-z]+[.]?[a-z]*[@][a-z]+[.][a-z]{1,5}/gi)\r\n    )\r\n      return \"\";\r\n    else if (email && email.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfNameMeetsCriteria = (name) => {\r\n    if (name && name.match(/^[a-z]+$/i)) return \"\";\r\n    else if (name && name.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfCityMeetsCriteria = () => {\r\n    if (city && city.match(/^[a-z]+$/i)) return \"\";\r\n    else if (city && city.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfStreetMeetsCriteria = () => {\r\n    if (street && street.match(/^[a-z ]+[0-9 ]+[/]{0,1}[a-z0-9 ]*$/i)) return \"\";\r\n    else if (street && street.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfPhoneMeetsCriteria = () => {\r\n    if (phone && phone.match(/^[+]?[0-9]{6,14}[0-9]$/)) return \"\";\r\n    else if (phone && phone.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfPostalMeetsCriteria = () => {\r\n    if (postal && postal.match(/^[0-9]{5}$/)) return \"\";\r\n    else if (postal && postal.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  return (\r\n    <SlideDown className={\"my-dropdown-slidedown\"}>\r\n      <Container>\r\n        <br />\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"firstName\">First Name:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                firstName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"firstName\"\r\n              value={firstName}\r\n              onChange={(e) =>\r\n                setFirstName(\r\n                  e.target.value &&\r\n                    e.target.value[0].toUpperCase() +\r\n                      e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"middleName\">Middle Name (Optional):</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                middleName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"middleName\"\r\n              value={middleName}\r\n              onChange={(e) =>\r\n                setMiddleName(\r\n                  e.target.value &&\r\n                    e.target.value[0].toUpperCase() +\r\n                      e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"lastName\">Last Name:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                lastName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"lastName\"\r\n              value={lastName}\r\n              onChange={(e) =>\r\n                setLastName(\r\n                  e.target.value &&\r\n                  e.target.value[0].toUpperCase() +\r\n                  e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"email\">E-mail:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfEmailMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"phone\">Phone:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfPhoneMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"phone\"\r\n              value={phone}\r\n              onChange={(e) => setPhone(e.target.value &&\r\n                (e.target.value).substring(0,16)\r\n                )}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"street\">Street and house no.:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfStreetMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"street\"\r\n              value={street}\r\n              onChange={(e) => setStreet(\r\n                e.target.value &&\r\n                e.target.value[0].toUpperCase() +\r\n                e.target.value.substring(1)\r\n              )}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"postal\">Postal:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfPostalMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"postal\"\r\n              value={postal}\r\n              onChange={(e) => setPostal(e.target.value && (e.target.value).substring(0,5))}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"city\">City:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfCityMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"city\"\r\n              value={city}\r\n              onChange={(e) => setCity(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-3\">\r\n            \r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </SlideDown>\r\n  );\r\n};\r\n","import React, { useEffect, useState, useRef } from \"react\"\r\nimport axios from 'axios'\r\nimport { nanoid } from 'nanoid'\r\n\r\nimport Row from 'react-bootstrap/Row'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Image from 'react-bootstrap/Image'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\nimport PlaceOrder from './PlaceOrder'\r\nimport SignUp from '../Login/SignUp'\r\nimport Login from '../Login/Login'\r\nimport PayGate from './PayGate'\r\n\r\nexport default ({userId}) => {\r\n    const lastRef = useRef(null)\r\n    const [shops, setShops] = useState('')\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [userInformation, setUserInformation] = useState('')\r\n    const [login, setLogin] = useState(false)\r\n    const [registration, setRegistration] = useState(false)\r\n    const [shipmentOnly, setShipmentOnly] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n    const [orderId, setOrderId] = useState(nanoid())\r\n    const [passOrderInfo, setPassOrderInfo] = useState({})\r\n    const [paymentPopup, setPaymentPopup] = useState(false)\r\n\r\n    const executeScroll = () => lastRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' })   \r\n \r\n    const sortItems = (cartItems) => {\r\n        let sortShop = []\r\n        for (let cartItem of cartItems) {\r\n            axios.get(`https://mas-vino.herokuapp.com/shop/${cartItem.shopId}`)\r\n                .then((res) => {\r\n                    const { shopName, owner } = res.data\r\n                    const itemsArr = res.data.shopItems\r\n                    const { count, itemId } = cartItem\r\n                    const findItem = itemsArr.find(el => el._id === cartItem.itemId)\r\n                    if (findItem === undefined) {\r\n                        axios.post(`https://mas-vino.herokuapp.com/users/${userId}/cart/delete-cart-item/${cartItem.shopId}/${cartItem.itemId}`)\r\n                            .then((res) => console.log(res))\r\n                            .catch(err => err && console.log('could not delete item', err))\r\n                    } else {\r\n                        const { itemName, price, imageLink } = findItem\r\n                        const index = sortShop.findIndex(el => el.shopId === cartItem.shopId)\r\n                        if (index >= 0) {\r\n                            const prevItems = sortShop[index].itemData\r\n                            const isInCart = prevItems.findIndex(el => el.itemId === itemId)\r\n                            if (isInCart !== -1) {\r\n                                const prevCount = sortShop[index].itemData[isInCart].count\r\n                                sortShop[index].itemData[isInCart].count = Number(count) + Number(prevCount)\r\n                            } else {\r\n                                sortShop[index].itemData = [...prevItems, {itemId, itemName, price, imageLink, count}]\r\n                            }\r\n                        } else {\r\n                            const newShopId = cartItem.shopId\r\n                            sortShop = [...sortShop, {shopId: newShopId, shopName, owner, itemData: [{itemId, itemName, price, imageLink, count}]}]\r\n                        }\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    if (err) return console.log(err)\r\n                })\r\n                .then(() => setShops([...sortShop]))\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setLoading(true)\r\n        const localShoppingCart = localStorage.getItem('shoppingCart')\r\n        if (userId) {\r\n            const parsedShoppingCart = localShoppingCart ? JSON.parse(localShoppingCart) : []\r\n            if (parsedShoppingCart.length !== 0) {\r\n                const addItemsToShoppingCartFromLocal = async () => {\r\n                    for (let cartItem of parsedShoppingCart) {\r\n                        const {shopId, itemId, count} = cartItem\r\n                        console.log('importing item ', itemId)\r\n                        await axios\r\n                            .post(`https://mas-vino.herokuapp.com/users/${userId}/cart/add-cart-item/${shopId}/${itemId}`, {\r\n                                shopId, itemId, count\r\n                            })\r\n                            .then((res) => console.log(res))\r\n                            .catch(err => err && console.log(err))\r\n                    }\r\n                    localStorage.removeItem('shoppingCart')\r\n                    console.log('Importing done.')\r\n                }\r\n                addItemsToShoppingCartFromLocal()\r\n            }\r\n            axios\r\n                .get(`https://mas-vino.herokuapp.com/users/${userId}`)\r\n                .then((res) => {\r\n                    if (res.data) {\r\n                        const {shoppingCart, fullName, email, phone, address} = res.data\r\n                        sortItems([...shoppingCart, ...parsedShoppingCart])\r\n                        setUserInformation({ fullName, email, phone, address })\r\n                    }\r\n                })\r\n                .catch(err => err && console.log(err))\r\n        } else {\r\n            const localShoppingCart = localStorage.getItem('shoppingCart')\r\n            localShoppingCart && sortItems(JSON.parse(localShoppingCart))\r\n        }\r\n        setLoading(false)\r\n    }, [refresh])\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n          const img = require(`../../../public/uploads/${image.replace(/_/g, '-')}`);\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    const removeItemFromCart = (e, itemId, shopId) => {\r\n        if (userId) {\r\n            axios.post(`https://mas-vino.herokuapp.com/users/${userId}/cart/delete-cart-item/${shopId}/${itemId}`)\r\n                .then((res) => console.log(res))\r\n                .catch(err => err && console.log('could not delete item', err))\r\n                .then(() => setRefresh(!refresh)) \r\n            if (shops.length === 1) setShops('')\r\n        } else {\r\n            const localShoppingCart = JSON.parse(localStorage.getItem('shoppingCart'))\r\n            const newLocalShoppingCart = localShoppingCart.filter(item => item.itemId !== itemId)\r\n            localStorage.removeItem('shoppingCart')\r\n            console.log(newLocalShoppingCart, shops)\r\n            if (newLocalShoppingCart.length !== 0) {\r\n                localStorage.setItem('shoppingCart', JSON.stringify(newLocalShoppingCart))\r\n            } else {\r\n                setShops('')\r\n            }\r\n            setRefresh(!refresh)\r\n        }\r\n    }\r\n\r\n    const showItemData = (itemData, shopId) => {\r\n        const outputData = itemData.map((item, i) => {\r\n            return (\r\n                <Col data-id={`${item.itemId}`} md={3} xs={6} lg={2} key={`${item.itemId}`} style={{textAlign: \"center\"}}>\r\n                    <Image src={getImage(item.imageLink) ? getImage(item.imageLink) : ''} rounded style={{height:75}} />\r\n                    <h6>{item.itemName}</h6>\r\n                    <p>\r\n                    Count: {item.count}<br />\r\n                    {item.price} €</p>\r\n                    <Button style={{position: 'absolute', right: \"20%\", top: 0}} onClick={(e) => removeItemFromCart(e, item.itemId, shopId)} variant=\"danger\" size=\"sm\">X</Button>\r\n                </Col>\r\n            )\r\n        })\r\n        return outputData\r\n    }\r\n\r\n    const getTotalPrice = (itemData) => {\r\n        let total = 0\r\n        for (let item of itemData) {\r\n            total += Number((item.price).replace(/,/g,\".\"))*item.count\r\n        }\r\n        return total\r\n    }\r\n\r\n    const showCartItems = () => {\r\n        return shops.sort().map(shop => {\r\n            return (\r\n                <Row key={shop.shopId} style={{marginBottom: \"15px\"}}>\r\n                    <Col style={{marginBottom: \"50px\"}} xs={12}>\r\n                        <hr />\r\n                        <div style={{display: \"flex\", justifyContent:\"space-between\"}}>\r\n                            <div>\r\n                                <h4>{shop.shopName}</h4>\r\n                            </div>\r\n                            <div className=\"text-right\">\r\n                                <h5>Suma: {(getTotalPrice(shop.itemData)).toFixed(2).toString().replace(/\\./g,',')} €</h5>\r\n                            </div>\r\n                        </div>\r\n                    </Col>\r\n                    {showItemData(shop.itemData, shop.shopId)}\r\n                </Row>\r\n            )\r\n        })\r\n    }\r\n\r\n    const createNewOrder = () => {\r\n        let result = 0\r\n        shops.map(shop => (shop.itemData).map(item => result += (Number((item.price).replace(/,/g,\".\"))*item.count)))\r\n        console.log(shops, userId, result, nanoid(), userInformation)\r\n        const total = result\r\n        const status = 'vytvorena'\r\n        setPassOrderInfo({ orderId, userInformation, userId, shops, total, status })\r\n        setPaymentPopup(true)\r\n        axios.post(`https://mas-vino.herokuapp.com/orders/add`, { orderId, userInformation, userId, shops, total, status })\r\n            .then(res => {\r\n                return\r\n            })\r\n            .catch(err => err && console.log(err))\r\n    }\r\n\r\n    const handleRegistration = () => {\r\n        setTimeout(() => executeScroll(),500)\r\n        setLogin(false)\r\n        setShipmentOnly(false)\r\n        setRegistration(true)\r\n    }\r\n\r\n    const handleShipmentOnly = () => {\r\n        setTimeout(() => executeScroll(),500)\r\n        setLogin(false)\r\n        setRegistration(false)\r\n        setShipmentOnly(true)\r\n    }\r\n\r\n    const handleLogin = () => {\r\n        setTimeout(() => executeScroll(),500)\r\n        setRegistration(false)\r\n        setShipmentOnly(false)\r\n        setLogin(true)\r\n    }\r\n\r\n\r\n    const showTotalCartPrice = () => {\r\n        let result = 0\r\n        shops.map(shop => (shop.itemData).map(item => result += (Number((item.price).replace(/,/g,\".\"))*item.count)))\r\n        return (\r\n            <Col>\r\n                <h3>Finalna suma: {result.toFixed(2).toString().replace(/\\./g,',')} €</h3>\r\n            </Col>\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n        return console.log(userInformation)\r\n    }, [userInformation])\r\n\r\n    return (\r\n        <Container style={{paddingTop: \"50px\"}}>\r\n            { passOrderInfo && paymentPopup &&\r\n                <PayGate orderInfo={passOrderInfo} setPaymentPopup={setPaymentPopup} paymentPopup={paymentPopup} />\r\n            }\r\n            {loading ? \r\n                <Spinner\r\n                    style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n                    animation=\"border\"\r\n                /> : \r\n            (shops && showCartItems())}\r\n            <Row className=\"text-center\">\r\n                <Col>\r\n                    {(!userInformation && shops ) &&\r\n                        <p>\r\n                            <Button onClick={() => handleRegistration()} variant=\"dark\">Dorucovacie udaje s registraciou</Button>\r\n                            &nbsp;&nbsp;\r\n                            <Button onClick={() => handleLogin()} variant=\"dark\">Mam ucet a chcem sa prihlasit</Button>\r\n                            &nbsp;&nbsp;\r\n                            <Button onClick={() => handleShipmentOnly()} variant=\"dark\">Dorucovacie udaje bez registracie</Button>\r\n                        </p>\r\n                    }\r\n                </Col>\r\n            </Row>\r\n            <Row className=\"text-center\">\r\n                {login && <Login shoppingCart={true} />}\r\n                {registration && <SignUp shoppingCart={true} handleLogin={handleLogin} />}\r\n                {shipmentOnly && <PlaceOrder setUserInformation={setUserInformation} />}\r\n            </Row>\r\n            <Row className=\"text-center\">\r\n                <br />\r\n                <br />\r\n                {shops && showTotalCartPrice()}\r\n            </Row>\r\n            <Row className=\"text-center\">\r\n                <Col>\r\n                    {userInformation && shops ?\r\n                        <Button ref={lastRef} onClick={() => createNewOrder()} variant=\"dark\">Prejst k platbe</Button>\r\n                    :\r\n                    <>  \r\n                        {!shops && \r\n                            <>\r\n                                <h4>Nakupny kosik je momentalne prazdny.</h4>\r\n                                <br />\r\n                                <br />\r\n                            </>\r\n                        }\r\n                        <Button disabled variant=\"dark\">Prejst k platbe</Button>\r\n                    </>\r\n                }\r\n                </Col>\r\n            </Row>\r\n            <br />\r\n            <div ref={lastRef}></div>\r\n        </Container>\r\n    )\r\n}","import React, {useEffect, useState} from 'react';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\n\r\nimport Table from 'react-bootstrap/Table'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\n\r\nexport default ({userId, isOwner}) => {\r\n    const [ordersData, setOrdersData] = useState([])\r\n    const [shippedObj, setShippedObj] = useState({})\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [expandedObj, setExpandedObj] = useState({})\r\n\r\n    // TODO: pridat moznost znovu zaplatit pri rejected order\r\n\r\n    useEffect(() => {\r\n        axios.get(`https://mas-vino.herokuapp.com/orders`)\r\n            .then(res => {\r\n                const result = res.data\r\n                const validatedOrdersData = isOwner ? result : result.filter(obj => obj.userId === userId)\r\n                setOrdersData(validatedOrdersData)\r\n            })\r\n            .catch(err => err && console.log(err.data))\r\n    }, [])\r\n\r\n    const handleShipping = (e, _id) => {\r\n        e.stopPropagation()\r\n        const newVal = e.target.checked\r\n        let newObj = {}\r\n        let expandObj = {}\r\n\r\n        newObj[_id] = newVal\r\n        setShippedObj({...shippedObj, ...newObj})\r\n\r\n        const oldValue = expandedObj[_id] ?? false\r\n        expandObj[_id] = oldValue\r\n        setExpandedObj({...expandedObj, ...expandObj})\r\n\r\n        axios.put(`https://mas-vino.herokuapp.com/orders/${_id}/update-shipped/`, {isShipped: newVal})\r\n            .then(res => console.log(res.data))\r\n            .catch(err => err && console.log(err))\r\n            .then(() => setRefresh(!refresh))\r\n    }\r\n\r\n    const handleExpanded = (_id) => {\r\n        let newObj = {}\r\n        const oldValue = expandedObj[_id] ?? false\r\n        newObj[_id] = !oldValue\r\n        setExpandedObj({...expandedObj, ...newObj})\r\n    }\r\n\r\n    const ShowItemDataForOrder = ({passItemData}) => {\r\n        let shopTotal = 0\r\n        return passItemData.map((item, i) => {\r\n            const { itemName, price, count, itemId } = item\r\n            shopTotal += (count * Number(price.replace(/,/g, '.')))\r\n            return (\r\n                <React.Fragment key={itemId}>\r\n                    <Col style={{border: '1px solid #cccccc'}} md={3}>\r\n                        ({count}) <strong>{itemName}</strong>, {price}€\r\n                    </Col>\r\n                    {!passItemData[i+1] && \r\n                        <Col className=\"text-center\" style={{border: '1px solid #cccccc', backgroundColor: \"rgb(245, 245, 245)\"}} md={2} order={12}>\r\n                            <h6 >spolu: <strong>{shopTotal.toFixed(2).toString().replace(/\\./g, ',')} €</strong></h6>\r\n                        </Col>\r\n                    }\r\n                </React.Fragment>\r\n            )\r\n        })\r\n    }\r\n\r\n\r\n    const ShowOrderDetails = ({passShops}) => {\r\n        return passShops.map((shop, i) => {\r\n            const { shopName, itemData, shopId } = shop\r\n            return (\r\n                <Container key={shopId} fluid>\r\n                    <Row>\r\n                        <Col md={2}><h5>{shopName}:</h5></Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <ShowItemDataForOrder passItemData={itemData} />\r\n                    </Row>\r\n                    {passShops[i+1] && \r\n                    <hr />}\r\n                </Container>\r\n            )\r\n        })\r\n    }\r\n\r\n    const ShowBuyerDetails = ({passUserInformation, buyerId}) => {\r\n        const { fullName, email, phone, address, iban } = passUserInformation\r\n        return (\r\n            <div className=\"text-center\" key={buyerId}>\r\n                <Row>\r\n                    <Col md={{span: 2, offset: 1}}><strong>{fullName}</strong></Col>\r\n                    <Col md={2}><strong>{phone}</strong></Col>\r\n                    <Col md={3}><strong>{address}</strong></Col>\r\n                    <Col md={{span: 3}}><strong>{iban ?? 'IBAN NENAJDENY'}</strong></Col>\r\n                </Row>\r\n                <hr />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const ShowOrders = () => {\r\n        return ordersData.map(order => {\r\n            const { _id, orderId, userInformation, createdAt, status, shops, isShipped, total, userId: buyerId } = order\r\n            const { email } = userInformation\r\n            const statusColor = status === 'vytvorena' ? 'orange' : status === 'zaplatena' ? 'green' : status === 'odmietnuta' ? 'red' : 'black';\r\n            return (\r\n                <tbody key={orderId}>\r\n                    <tr onClick={() => handleExpanded(_id)}>\r\n                        <td>{orderId}</td>\r\n                        <td>{email}</td>\r\n                        <td>{moment(createdAt).format(\"DD MMM YYYY, HH:mm:ss\")}</td>\r\n                        <td>{total.toFixed(2).toString().replace(/\\./g,',')} €</td>\r\n                        <td style={{color: statusColor}}>{(shippedObj[_id] ?? isShipped) ? <em style={{color: 'blue', float:'left'}}>odoslana</em> : status}\r\n                            {status === 'zaplatena' && isOwner &&\r\n                            <input \r\n                                style={{\r\n                                    float: 'right', \r\n                                    cursor: 'pointer',\r\n                                    paddingBottom: '-50px'\r\n                                }}\r\n                                type='checkbox'\r\n                                name='checkShipping'\r\n                                checked={shippedObj[_id] ?? isShipped}\r\n                                onChange={(e) => handleShipping(e, _id)}\r\n                            />}\r\n                        </td>\r\n                    </tr>\r\n                    {expandedObj[_id] &&\r\n                    <tr style={{backgroundColor: status === 'zaplatena' ? '#f4fff4' : status === 'odmietnuta' ? '#ffecec' : 'rgb(250, 250, 250)' }}>\r\n                        <td colSpan=\"5\">\r\n                            <ShowBuyerDetails passUserInformation={userInformation} buyerId={buyerId} />\r\n                            <ShowOrderDetails passShops={shops} />\r\n                        </td>    \r\n                    </tr>}\r\n                </tbody>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Table striped bordered hover>\r\n            <thead>\r\n                <tr>\r\n                    <th>ID</th>\r\n                    <th>Email</th>\r\n                    <th>Datum</th>\r\n                    <th>Total</th>\r\n                    <th>Stav</th>\r\n                </tr>\r\n            </thead>\r\n            <ShowOrders />\r\n        </Table>    \r\n    )\r\n}","import React, {useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\n\r\nconst useQuery = () => {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default ({userId}) => {\r\n    let query = useQuery();\r\n    const orderId = query.get('Reference')\r\n    const result = query.get('ResultCode')\r\n    const paymentId = query.get('PaymentRequestId')\r\n\r\n    useEffect(() => {\r\n        if (orderId.length !== 0) {\r\n            axios.post(`https://mas-vino.herokuapp.com/orders/${orderId}/process-payment/`, {paymentResultCode: result, paymentId})\r\n                .then(res => console.log(res.data))\r\n                .catch(err => err && console.log(err))\r\n                .then(() => {\r\n                    if (userId) {\r\n                        axios.get(`https://mas-vino.herokuapp.com/users/${userId}/cart/clear-cart`)\r\n                            .then(res => console.log(res.data))\r\n                            .catch(error => error && console.log(error))\r\n                    }\r\n                    localStorage.removeItem('shoppingCart')\r\n                })\r\n            \r\n        }\r\n    }, [])\r\n    \r\n    return (\r\n        <p className=\"text-center\">Platba za objednavku cislo {orderId} bola prijata. <br/>Cislo platby {paymentId}</p>\r\n    )\r\n}","import React, {useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst useQuery = () => {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default ({userId}) => {\r\n    let query = useQuery();\r\n    const orderId = query.get('Reference')\r\n    const paymentId = query.get('PaymentRequestId')\r\n    \r\n    return (\r\n        <p className=\"text-center\" style={{color:'red'}}>Platba za objednavku cislo {orderId} nepresla. <br/>Referencne cislo platby {paymentId}</p>\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\n\r\nimport ShowItem from '../Shop/ViewShop/ShowItem';\r\n\r\nimport Row from 'react-bootstrap/Row'\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\n//Shop.js\r\nexport default ({ userData, shopData }) => {\r\n  const [showAddedPopup, setShowAddedPopup] = useState(false)\r\n  const {userId} = userData\r\n\r\n  const ShowWines = () => {\r\n    return shopData.map((shop,i) => {\r\n      const {shopItems, url, shopId} = shop\r\n      return (\r\n        <ShowItem key={`${shopId}-${i}`} shopItems={shopItems} url={url} shopId={shopId} userId={userId} setShouldReload={false} shouldReload={false} setShowAddedPopup={setShowAddedPopup} isOwner={false} />\r\n      )\r\n    })\r\n  }\r\n  \r\n  return (\r\n    <Container>\r\n      <Row className=\"text-center\">\r\n        <ShowWines />\r\n      </Row>\r\n    </Container>\r\n  );\r\n};","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport WineOverview from \"./WineOverview\";\r\n\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\n//Shop.js\r\nexport default ({ userData }) => {\r\n  const [shopData, setShopData] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/shop/`)\r\n      .then((res) => setShopData(res.data ? res.data : {}))\r\n      .catch((err) => {\r\n        if (err) return console.log(`Fetch error: ${err}`);\r\n      })\r\n      .then(() => setLoading(false));\r\n  }, []); //eslint-disable-line\r\n  return (\r\n    <><br/>\r\n      {loading ? (\r\n        <Spinner\r\n          style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n          animation=\"border\"\r\n        />\r\n      ) : <WineOverview userData={userData} shopData={shopData} />}\r\n    </>\r\n  );\r\n};","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nexport default ({eventPopup, setEventPopup, refresh, setRefresh}) => {\r\n    const [startDate, setStartDate] = useState(new Date());\r\n\r\n    const [name, setName] = useState('')\r\n    const [idFromName, setIdFromName] = useState('')\r\n    const [link, setLink] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [imageLink, setImageLink] = useState('')\r\n    const [where, setWhere] = useState('')\r\n    const [when, setWhen] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (name) {\r\n            const setNewId = name.replace(/\\s/g, '-').toLowerCase()\r\n            setIdFromName(setNewId)\r\n        }\r\n    }, [name])\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${idFromName}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${idFromName}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${idFromName}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setWhen(moment(startDate).format('DD.MM.YYYY, HH:mm'))\r\n    },[startDate])\r\n\r\n    const handleSave = () => {\r\n        axios.post(`https://mas-vino.herokuapp.com/events/add`, {name, link, description, imageLink, where, when})\r\n            .then(res => {\r\n                setRefresh(!refresh)\r\n                setEventPopup(false)\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n    \r\n    return (\r\n        <Modal show={eventPopup} onHide={() => setEventPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"name\">Nazov udalosti:</label>\r\n                        <input \r\n                            name=\"name\"\r\n                            className=\"form-control text-center\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"povinne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"where\">Miesto udalosti:</label>\r\n                        <input \r\n                            name=\"where\"\r\n                            className=\"form-control text-center\"\r\n                            value={where}\r\n                            onChange={(e) => setWhere(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"link\">Externy link udalosti:</label>\r\n                        <input \r\n                            name=\"link\"\r\n                            className=\"form-control text-center\"\r\n                            value={link}\r\n                            onChange={(e) => setLink(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        Cas a datum udalosti (povinne): <strong>{when}</strong>\r\n                        <br /><br />\r\n                        Vyber: <DatePicker showTimeSelect selected={startDate} onChange={date => setStartDate(date)} />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"200px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {name &&\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok udalosti. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(name && description && imageLink && when) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Pridat\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Pridat\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setEventPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n        )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nexport default ({eventPopup, setEventPopup, refresh, setRefresh, eventData}) => {\r\n    const [startDate, setStartDate] = useState(moment(eventData.when, 'DD.MM.YYYY, HH:mm').valueOf());\r\n\r\n    const [name, setName] = useState(eventData.name)\r\n    const [idFromName, setIdFromName] = useState(eventData.idFromName)\r\n    const [link, setLink] = useState(eventData.link)\r\n    const [description, setDescription] = useState(eventData.description)\r\n    const [imageLink, setImageLink] = useState(eventData.imageLink)\r\n    const [where, setWhere] = useState(eventData.where)\r\n    const [when, setWhen] = useState(eventData.when)\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            console.log(image)\r\n          const img = require(`../../../public/uploads/${image.replace(/_/g, '-')}`);\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (name) {\r\n            const setNewId = name.replace(/\\s/g, '-').toLowerCase()\r\n            setIdFromName(setNewId)\r\n        }\r\n    }, [name])\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${idFromName}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${idFromName}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${idFromName}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setWhen(moment(startDate).format('DD.MM.YYYY, HH:mm'))\r\n    },[startDate])\r\n\r\n    const handleSave = () => {\r\n        axios.post(`https://mas-vino.herokuapp.com/events/update-event/${eventData._id}`, {name, link, description, imageLink, where, when})\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setRefresh(!refresh)\r\n                setEventPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n    \r\n    return (\r\n        <Modal show={eventPopup} onHide={() => setEventPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"name\">Nazov udalosti:</label>\r\n                        <input \r\n                            name=\"name\"\r\n                            className=\"form-control text-center\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"povinne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"where\">Miesto udalosti:</label>\r\n                        <input \r\n                            name=\"where\"\r\n                            className=\"form-control text-center\"\r\n                            value={where}\r\n                            onChange={(e) => setWhere(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"link\">Externy link udalosti:</label>\r\n                        <input \r\n                            name=\"link\"\r\n                            className=\"form-control text-center\"\r\n                            value={link}\r\n                            onChange={(e) => setLink(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        Cas a datum udalosti (povinne): <strong>{when}</strong>\r\n                        <br /><br />\r\n                        Vyber: <DatePicker showTimeSelect selected={startDate} onChange={date => setStartDate(date)} />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"200px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {\r\n                (name && imageLink) ? \r\n                <Row className=\"justify-content-center text-center\">\r\n                    <Col className=\"form-group\">\r\n                    <img style={{height:'110px', width: '160px'}} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                    <Button onClick={() => setImageLink('')} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n                    </Col>\r\n                </Row> :\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok udalosti. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(name && description && imageLink && when) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Pridat\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Pridat\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setEventPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n        )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nimport Card from 'react-bootstrap/Card'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport AddEvent from './AddEvent'\r\nimport EditEvent from './EditEvent'\r\n\r\nimport {MdDateRange, MdLocationOn, MdDelete, MdEdit} from 'react-icons/md'\r\n\r\nexport default ({isOwner}) => {\r\n    const [eventsData, setEventsData] = useState([])\r\n    const [eventPopup, setEventPopup] = useState(false)\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [editing, setEditing] = useState('')\r\n\r\n    const handleEditing = (e) => {\r\n        const itemId = e.currentTarget.parentNode.id;\r\n        let editingObj = {}\r\n        editingObj[itemId] = true\r\n        setEditing({...editing, ...editingObj})\r\n    }\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            const img = require(`../../../public/uploads/${image.replace(/_/g, '-')}`);\r\n            return img;\r\n        } catch {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    const deleteCard = (eventId) => {\r\n        axios.delete(`https://mas-vino.herokuapp.com/events/${eventId}/`)\r\n            .then(() => setRefresh(!refresh))\r\n            .catch((err) => err && console.log(`Error ${err}`));\r\n    };\r\n\r\n    const sortEventsData = (data) => {\r\n        return data.sort((a, b) => (a.when < b.when) ? 1 : -1)\r\n    }\r\n\r\n    useEffect(() => {\r\n        axios.get(`https://mas-vino.herokuapp.com/events/`)\r\n            .then(res => {\r\n                const events = res.data\r\n                const result = sortEventsData(events)\r\n                setEventsData(result)\r\n            })\r\n            .catch(err => err && console.log(err))\r\n    }, [refresh])\r\n\r\n    const handleSubmit = (passLink) => {\r\n        const win = window.open(passLink, \"_blank\");\r\n        win.focus();\r\n    }\r\n\r\n    const ShowEvents = () => {\r\n        return eventsData.map(event => {\r\n            const { _id, name, link, description, imageLink, when, where } = event\r\n            return (\r\n                <Col key={_id} style={{maxWidth:'800px'}} className=\"mt-4\" md={12} lg={6}>\r\n                    <Card className=\"h-100\" id={_id}>\r\n                        {isOwner &&\r\n                            <Button\r\n                                onClick={() => deleteCard(_id)}\r\n                                style={{\r\n                                    width: \"40px\",\r\n                                    height: \"40px\",\r\n                                    marginBottom: \"-40px\",\r\n                                    zIndex: \"+5\"\r\n                                }}\r\n                                variant=\"outline-danger\"\r\n                                >\r\n                                <MdDelete style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n                            </Button>}\r\n                        {isOwner &&\r\n                        <Button\r\n                            onClick={(e) => handleEditing(e)}\r\n                            style={{\r\n                                width: \"40px\",\r\n                                height: \"40px\",\r\n                                marginBottom: \"-40px\",\r\n                                marginLeft: \"40px\",\r\n                                zIndex: \"+5\"\r\n                            }}\r\n                            variant=\"outline-warning\"\r\n                            >\r\n                            <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n                            </Button>}\r\n                            \r\n                        {editing &&\r\n                            <EditEvent refresh={refresh} setRefresh={setRefresh} setEventPopup={setEditing} eventPopup={editing[_id]} eventData={event} />\r\n                        }\r\n                        <Card.Img variant=\"top\" style={{ height: '350px' }} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                        <Card.Body>\r\n                            <Card.Title>{name}<Button onClick={() => handleSubmit(link)} size=\"sm\" variant=\"dark\" style={{float: 'right', marginTop: '-5px'}}>Viac info</Button></Card.Title>\r\n                            <Card.Text>{description}</Card.Text>\r\n                        </Card.Body>\r\n                        {(when || where) &&\r\n                        <Card.Footer>\r\n                            <small className=\"text-muted\"><MdDateRange style={{fontSize: '130%'}} /> {when}<br /> <MdLocationOn style={{fontSize: '130%'}} /> {where}</small>\r\n                        </Card.Footer>}\r\n                    </Card>\r\n                </Col>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Container className=\"mb-4\">\r\n            {eventPopup &&\r\n                <AddEvent refresh={refresh} setRefresh={setRefresh} setEventPopup={setEventPopup} eventPopup={eventPopup} />\r\n            }\r\n            {isOwner &&\r\n            <Row className=\"justify-content-center\" >\r\n                <Button className=\"mt-4\" variant=\"dark\" onClick={() => setEventPopup(true)}>Pridat Event</Button>\r\n            </Row>}\r\n            <Row className=\"justify-content-center justify-content-md-start\" >\r\n                <ShowEvents />\r\n            </Row>\r\n        </Container>\r\n    )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nexport default ({servicePopup, setServicePopup, refresh, setRefresh}) => {\r\n    const [name, setName] = useState('')\r\n    const [idFromName, setIdFromName] = useState('')\r\n    const [link, setLink] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [imageLink, setImageLink] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (name) {\r\n            const setNewId = name.replace(/\\s/g, '-').toLowerCase()\r\n            setIdFromName(setNewId)\r\n        }\r\n    }, [name])\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${idFromName}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${idFromName}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${idFromName}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        axios.post(`https://mas-vino.herokuapp.com/services/add`, {name, link, description, imageLink})\r\n            .then(res => {\r\n                setRefresh(!refresh)\r\n                setServicePopup(false)\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n    \r\n    return (\r\n        <Modal show={servicePopup} onHide={() => setServicePopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"name\">Nazov sluzby:</label>\r\n                        <input \r\n                            name=\"name\"\r\n                            className=\"form-control text-center\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"povinne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"link\">Externy link sluzby:</label>\r\n                        <input \r\n                            name=\"link\"\r\n                            className=\"form-control text-center\"\r\n                            value={link}\r\n                            onChange={(e) => setLink(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"200px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {name &&\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok sluzby. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(name && description && imageLink) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Pridat\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Pridat\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setServicePopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n        )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nexport default ({servicePopup, setServicePopup, refresh, setRefresh, serviceData}) => {\r\n    const [name, setName] = useState(serviceData.name)\r\n    const [idFromName, setIdFromName] = useState(serviceData.idFromName)\r\n    const [link, setLink] = useState(serviceData.link)\r\n    const [description, setDescription] = useState(serviceData.description)\r\n    const [imageLink, setImageLink] = useState(serviceData.imageLink)\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            console.log(image)\r\n          const img = require(`../../../public/uploads/${image.replace(/_/g, '-')}`);\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (name) {\r\n            const setNewId = name.replace(/\\s/g, '-').toLowerCase()\r\n            setIdFromName(setNewId)\r\n        }\r\n    }, [name])\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${idFromName}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${idFromName}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${idFromName}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        console.log(serviceData)\r\n        axios.post(`https://mas-vino.herokuapp.com/services/update-service/${serviceData._id}`, {name, link, description, imageLink})\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setRefresh(!refresh)\r\n                setServicePopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n    \r\n    return (\r\n        <Modal show={servicePopup} onHide={() => setServicePopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"name\">Nazov sluzby:</label>\r\n                        <input \r\n                            name=\"name\"\r\n                            className=\"form-control text-center\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"povinne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"link\">Externy link sluzby:</label>\r\n                        <input \r\n                            name=\"link\"\r\n                            className=\"form-control text-center\"\r\n                            value={link}\r\n                            onChange={(e) => setLink(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"200px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {\r\n                (name && imageLink) ? \r\n                <Row className=\"justify-content-center text-center\">\r\n                    <Col className=\"form-group\">\r\n                    <img style={{height:'110px', width: '160px'}} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                    <Button onClick={() => setImageLink('')} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n                    </Col>\r\n                </Row> :\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok sluzby. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(name && description && imageLink) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Pridat\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Pridat\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setServicePopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n        )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport Card from 'react-bootstrap/Card'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport AddService from './AddService'\r\nimport EditService from './EditService'\r\n\r\nimport {MdDateRange, MdLocationOn, MdDelete, MdEdit} from 'react-icons/md'\r\n\r\nexport default ({isOwner}) => {\r\n    const [servicesData, setServicesData] = useState([])\r\n    const [servicePopup, setServicePopup] = useState(false)\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [editing, setEditing] = useState('')\r\n\r\n    const handleEditing = (e) => {\r\n        const itemId = e.currentTarget.parentNode.id;\r\n        let editingObj = {}\r\n        editingObj[itemId] = true\r\n        setEditing({...editing, ...editingObj})\r\n    }\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            const img = require(`../../../public/uploads/${image.replace(/_/g, '-')}`);\r\n            return img;\r\n        } catch {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    const deleteCard = (serviceId) => {\r\n        axios.delete(`https://mas-vino.herokuapp.com/services/${serviceId}/`)\r\n            .then(() => setRefresh(!refresh))\r\n            .catch((err) => err && console.log(`Error ${err}`));\r\n    };\r\n\r\n    useEffect(() => {\r\n        axios.get(`https://mas-vino.herokuapp.com/services/`)\r\n            .then(res => {\r\n                const result = res.data\r\n                setServicesData(result)\r\n            })\r\n            .catch(err => err && console.log(err))\r\n    }, [refresh])\r\n\r\n    const handleSubmit = (passLink) => {\r\n        const win = window.open(passLink, \"_blank\");\r\n        win.focus();\r\n    }\r\n\r\n    const ShowServices = () => {\r\n        return servicesData.map(service => {\r\n            const { _id, name, link, description, imageLink, when, where } = service\r\n            return (\r\n                <Col key={_id} style={{maxWidth:'800px'}} className=\"mt-4\" md={12} lg={6}>\r\n                    <Card bg=\"dark\" text=\"white\" className=\"h-100\" id={_id}>\r\n                        {isOwner &&\r\n                            <Button\r\n                                onClick={() => deleteCard(_id)}\r\n                                style={{\r\n                                    width: \"40px\",\r\n                                    height: \"40px\",\r\n                                    marginBottom: \"-40px\",\r\n                                    zIndex: \"+5\"\r\n                                }}\r\n                                variant=\"outline-danger\"\r\n                                >\r\n                                <MdDelete style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n                            </Button>}\r\n                        {isOwner &&\r\n                        <Button\r\n                            onClick={(e) => handleEditing(e)}\r\n                            style={{\r\n                                width: \"40px\",\r\n                                height: \"40px\",\r\n                                marginBottom: \"-40px\",\r\n                                marginLeft: \"40px\",\r\n                                zIndex: \"+5\"\r\n                            }}\r\n                            variant=\"outline-warning\"\r\n                            >\r\n                            <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n                            </Button>}\r\n                            \r\n                        {editing &&\r\n                            <EditService refresh={refresh} setRefresh={setRefresh} setServicePopup={setEditing} servicePopup={editing[_id]} serviceData={service} />\r\n                        }\r\n                        <Card.Img variant=\"top\" style={{ height: '350px' }} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                        <Card.Body>\r\n                            <Card.Title>{name}<Button onClick={() => handleSubmit(link)} size=\"sm\" variant=\"outline-light\" style={{float: 'right', marginTop: '-5px'}}>Viac info</Button></Card.Title>\r\n                            <Card.Text>{description}</Card.Text>\r\n                        </Card.Body>\r\n                        {(when || where) &&\r\n                        <Card.Footer>\r\n                            <small className=\"text-muted\"><MdDateRange style={{fontSize: '130%'}} /> {when}<br /> <MdLocationOn style={{fontSize: '130%'}} /> {where}</small>\r\n                        </Card.Footer>}\r\n                    </Card>\r\n                </Col>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Container className=\"mb-4\">\r\n            {servicePopup &&\r\n                <AddService refresh={refresh} setRefresh={setRefresh} setServicePopup={setServicePopup} servicePopup={servicePopup} />\r\n            }\r\n            {isOwner &&\r\n            <Row className=\"justify-content-center\" >\r\n                <Button className=\"mt-4\" variant=\"dark\" onClick={() => setServicePopup(true)}>Pridat Sluzbu</Button>\r\n            </Row>}\r\n            <Row className=\"justify-content-center justify-content-md-start\" >\r\n                <ShowServices />\r\n            </Row>\r\n        </Container>\r\n    )\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { Route, Switch, BrowserRouter as Router } from \"react-router-dom\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport axios from \"axios\";\r\n\r\nimport \"./index.css\";\r\nimport \"react-dropzone-uploader/dist/styles.css\";\r\n\r\nimport Home from \"./components/Home/Home\";\r\nimport Vinarne from \"./components/Shop/Vinarne\";\r\nimport Login from \"./components/Login/Login\";\r\nimport ShopOnline from \"./components/Shop/shopOnline/ShopOnline\"\r\nimport ShoppingCart from \"./components/Cart/ShoppingCart\"\r\nimport PayGate from \"./components/Cart/PayGate\"\r\nimport Orders from \"./components/Payment/Orders\"\r\nimport SuccessPayment from \"./components/Payment/SuccessPayment\";\r\nimport RejectPayment from \"./components/Payment/RejectPayment\";\r\nimport Vinka from \"./components/Wines/Vinka\";\r\nimport Events from \"./components/Events/Events\";\r\nimport Services from \"./components/Services/Services\";\r\n\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\n// App.js\r\nexport default () => {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [userData, setUserData] = useState({});\r\n  const [loadingData, setLoadingData] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setLoadingData(true)\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/get-user-data`, {\r\n        withCredentials: true\r\n      })\r\n      .then((res) => {\r\n        if (res.data) {\r\n          const { _id, userName, fullName, email, shopId, isOwner } = res.data;\r\n          setUserData({ _id, userName, fullName, email, shopId, isOwner });\r\n          setIsLoggedIn(userName ? true : false);\r\n        } else {\r\n          setUserData({})\r\n        }\r\n      })\r\n      .catch((err) => err && console.log(\"Load Error \" + err))\r\n      .then(() => setLoadingData(false))\r\n  }, []);\r\n  const handleLogOut = () => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/logout`, {\r\n        withCredentials: true\r\n      })\r\n      .then(() => {\r\n        setUserData({});\r\n        setIsLoggedIn(false);\r\n      })\r\n      .catch((err) => console.log(`Error ${err}`))\r\n      .then(() => window.location.reload());\r\n  };\r\n  return (\r\n    <Router>\r\n      <link\r\n        rel=\"stylesheet\"\r\n        href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css\"\r\n        integrity=\"sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk\"\r\n        crossOrigin=\"anonymous\"\r\n      />\r\n      <div>\r\n        <Navbar userName={userData.fullName} isLoggedIn={isLoggedIn} handleLogOut={handleLogOut} />\r\n        {loadingData ? \r\n              <Spinner\r\n                style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n                animation=\"border\"\r\n              /> :\r\n        <div style={{marginTop: \"56px\"}}>\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <Home userId={userData._id} isOwner={userData.isOwner}  />\r\n            </Route>\r\n            <Route exact path=\"/vinarne\">\r\n              <Vinarne userData={userData} />\r\n            </Route>\r\n            <Route exact path=\"/vinka\">\r\n              <Vinka userData={userData} />\r\n            </Route>\r\n            <Route exact path=\"/login-page\">\r\n              {isLoggedIn ? <Home userId={userData._id} isOwner={userData.isOwner} /> : <Login />}\r\n            </Route>\r\n            <Route exact path=\"/cart-page\">\r\n              <ShoppingCart userId={userData._id} />\r\n            </Route>\r\n            <Route exact path={`/success-payment`}>\r\n              <SuccessPayment userId={userData._id} />\r\n            </Route>\r\n                <Route exact path={`/failed-payment`}>\r\n              <RejectPayment userId={userData._id} />\r\n            </Route>\r\n            <Route exact path={`/cancel-payment`}>\r\n              <RejectPayment userId={userData._id} />\r\n            </Route>\r\n            <Route exact path={`/objednavky`}>\r\n              <Orders userId={userData._id} isOwner={userData.isOwner} />\r\n            </Route>\r\n            <Route exact path={`/akcie`}>\r\n              <Events isOwner={userData.isOwner} />\r\n            </Route>\r\n            <Route exact path={`/sluzby`}>\r\n              <Services isOwner={userData.isOwner} />\r\n            </Route>\r\n            <Route exact path={`/:shopUrl`}>\r\n              <ShopOnline userId={userData._id} isOwner={userData.isOwner} />\r\n            </Route>\r\n            <Route exact path={`/shop/payment`}>\r\n              <PayGate />\r\n            </Route>\r\n          </Switch>\r\n        </div>}\r\n      </div>    \r\n    </Router>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById(\"root\")\r\n);\r\n","var map = {\n\t\"./6014651360620a02d885ca30-unnamed.jpg\": 278,\n\t\"./60150cabc76e990c50481bec-Vina-Ane-Centenaria-600.png\": 279,\n\t\"./60150cabc76e990c50481bec-blurred-pastel-bokeh-lights-background-89245-17.jpg\": 280,\n\t\"./60150cabc76e990c50481bec-icone-st-joseph.jpg\": 281,\n\t\"./60150cabc76e990c50481bec-objednavka.JPG\": 282,\n\t\"./60150cabc76e990c50481bec-vinko.jpg\": 283,\n\t\"./60150cabc76e990c50481bec-weicher-pastell-und-gelb-der-abstrakten-unschaerfelichtsteigung-rosa-fuer-tapetenhintergrund-7636-1347.jpg\": 284,\n\t\"./601825a222ae9d2e6002e307-vinko.jpg\": 285,\n\t\"./601825a222ae9d2e6002e307-weicher-pastell-und-gelb-der-abstrakten-unschaerfelichtsteigung-rosa-fuer-tapetenhintergrund-7636-1347.jpg\": 286,\n\t\"./a-IMG-5218.jpg\": 287,\n\t\"./ahoj-udalost-svatyjozef.png\": 288,\n\t\"./homescreen-event-image-playa-del-carmen-fishingzone-82.png\": 289,\n\t\"./homescreen-service-image-playa-del-carmen-fishingzone-82.png\": 290,\n\t\"./silvia-gulačová-12-122485-inspirational-clip-art-wine-spilled-wine-clipart-clipart-wine-png.png\": 291,\n\t\"./silvia-gulačová-IMG-5218.jpg\": 292,\n\t\"./silvia-gulačová-aoe2.PNG\": 293,\n\t\"./silvia-gulačová-playa-del-carmen-fishingzone-82.png\": 294,\n\t\"./winter-bootcamp--2019-12-122485-inspirational-clip-art-wine-spilled-wine-clipart-clipart-wine-png.png\": 295,\n\t\"./winter-bootcamp--2019-playa-del-carmen-fishingzone-82.png\": 296\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 49;"],"sourceRoot":""}