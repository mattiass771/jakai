{"version":3,"sources":["components/Cart/PayGate.js","../../src/uploads/6014651360620a02d885ca30-unnamed.jpg","../../src/uploads/60150cabc76e990c50481bec-Vina-Ane-Centenaria-600.png","../../src/uploads/60150cabc76e990c50481bec-blurred-pastel-bokeh-lights-background-89245-17.jpg","../../src/uploads/60150cabc76e990c50481bec-icone-st-joseph.jpg","../../src/uploads/60150cabc76e990c50481bec-objednavka.JPG","../../src/uploads/60150cabc76e990c50481bec-vinko.jpg","../../src/uploads/60150cabc76e990c50481bec-weicher-pastell-und-gelb-der-abstrakten-unschaerfelichtsteigung-rosa-fuer-tapetenhintergrund-7636-1347.jpg","../../src/uploads/601825a222ae9d2e6002e307-vinko.jpg","../../src/uploads/601825a222ae9d2e6002e307-weicher-pastell-und-gelb-der-abstrakten-unschaerfelichtsteigung-rosa-fuer-tapetenhintergrund-7636-1347.jpg","../../src/uploads/a-IMG-5218.jpg","../../src/uploads/ahoj-udalost-svatyjozef.png","../../src/uploads/homescreen-event-image-playa-del-carmen-fishingzone-82.png","../../src/uploads/homescreen-service-image-playa-del-carmen-fishingzone-82.png","../../src/uploads/silvia-gulačová-12-122485-inspirational-clip-art-wine-spilled-wine-clipart-clipart-wine-png.png","../../src/uploads/silvia-gulačová-IMG-5218.jpg","../../src/uploads/silvia-gulačová-aoe2.PNG","../../src/uploads/silvia-gulačová-playa-del-carmen-fishingzone-82.png","../../src/uploads/winter-bootcamp--2019-12-122485-inspirational-clip-art-wine-spilled-wine-clipart-clipart-wine-png.png","../../src/uploads/winter-bootcamp--2019-playa-del-carmen-fishingzone-82.png","../../src/uploads sync /^/.*$","components/Navbar/Navbar.js","components/Shop/ViewShop/EditItems.js","components/Shop/ViewShop/ShowItem.js","components/Home/UpdateEvents.js","components/Home/UpdateServices.js","components/Home/UpdateDescription.js","config/options.js","components/Home/Home.js","components/Shop/CreateShop.js","components/Shop/ShopsOverview.js","components/Shop/Vinarne.js","components/Login/SignUp.js","components/Login/Login.js","components/Shop/ViewShop/AddItems.js","components/Shop/ViewShop/ShopItems.js","components/Shop/ViewShop/ShopJumbotron.js","components/Shop/ViewShop.js","components/Shop/shopOnline/ShopOnline.js","components/Cart/PlaceOrder.js","components/Cart/ShoppingCart.js","components/Payment/Orders.js","components/Payment/SuccessPayment.js","components/Payment/RejectPayment.js","components/Wines/WineOverview.js","components/Wines/Vinka.js","components/Events/AddEvent.js","components/Events/EditEvent.js","components/Events/Events.js","components/Services/AddService.js","components/Services/EditService.js","components/Services/Services.js","App.js","index.js"],"names":["paymentPopup","setPaymentPopup","orderInfo","total","orderId","style","backgroundColor","show","onHide","padding","width","height","id","src","amount","reference","signature","key","message","encryptedKey","locutus","encryptedMessage","uint8arr","crypto","createHmac","update","digest","Buffer","from","buffer","reduce","str","byte","toString","padStart","toUpperCase","GetSignature","toFixed","constructOrder","position","right","top","cursor","onClick","module","exports","map","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","isLoggedIn","handleLogOut","userName","Navbar","fixed","bg","variant","expand","Brand","alt","className","Toggle","aria-controls","Collapse","Nav","to","showEditItems","setShowEditItems","shopId","itemId","itemDataProp","setShouldReload","shouldReload","useState","itemName","setItemName","price","setPrice","description","setDescription","imageLink","setImageLink","canSaveItem","setCanSaveItem","maxCount","setMaxCount","color","setColor","type","setType","taste","setTaste","itemData","setItemData","getImage","image","require","replace","useEffect","Modal","Header","closeButton","Title","Body","Row","Col","htmlFor","value","name","onChange","target","placeholder","InputGroup","maxLength","resize","minHeight","Button","newItemData","deleteFormerImage","size","maxFiles","multiple","canCancel","getUploadParams","meta","url","onChangeStatus","status","file","axios","get","params","then","catch","err","console","log","deleteFile","accept","inputContent","marginTop","classNames","dropzone","Footer","put","disabled","colMdSettings","colXsSettings","shopItems","userId","setShowAddedPopup","isOwner","count","setCount","isHovered","setIsHovered","clicked","setClicked","editing","setEditing","item","_id","passShopId","xs","md","lg","xl","Card","onMouseEnter","hoverObj","handleMouseOver","onMouseLeave","currentTarget","parentNode","post","deleteCard","marginBottom","zIndex","fontSize","margin","editingObj","handleEditing","marginLeft","EditItems","Img","Text","ImgOverlay","background","display","passCount","setTimeout","localShoppingCart","localStorage","getItem","removeItem","newShoppingCart","JSON","parse","setItem","stringify","addItemToCart","Container","Form","Control","as","countObj","handleCount","result","num","push","showCount","passId","dummy","document","createElement","body","appendChild","select","execCommand","removeChild","copyFunction","textDecoration","eventsPopup","setEventsPopup","forceRefresh","setForceRefresh","eventsImage","eventsText","descriptionEvents","imageLinkEvents","res","data","servicesPopup","setServicesPopup","servicesImage","servicesText","descriptionServices","imageLinkServices","descriptionsPopup","setDescriptionsPopup","descriptionsText","descriptionGeneral","MAX_HEIGHT_JUMBO","options","carouselData","setCarouselData","featuredWines","setFeaturedWines","loading","setLoading","showAddedPopup","featuredIds","setFeaturedIds","isIdAvail","setIsIdAvail","tempId","setTempId","eventsData","setEventsData","servicesData","setServicesData","setDescriptionGeneral","featured","events","services","response","newObj","prev","ShowEvents","ShowServices","ShowGeneral","handleFeaturedIds","i","newValue","newIdAvail","length","window","location","reload","handleSuccessFeatureChange","ShowUpdateFeaturedWines","sm","newTempIds","handleTempId","onBlur","Spinner","animation","Alert","onClose","dismissible","UpdateEvents","UpdateServices","UpdateDescription","Carousel","indicators","maxHeight","shop","shopName","owner","Item","Caption","ShowItem","rel","href","marginRight","userData","setShopName","fullName","ownerId","shortid","generate","shopData","showCreateShop","setShowCreateShop","CreateShop","overviewImage","handleMouseLeave","textAlign","setShopData","ShopsOverview","shoppingCart","handleLogin","firstName","setFirstName","middleName","setMiddleName","lastName","setLastName","email","setEmail","passwordFirst","setPasswordFirst","passwordSecond","setPasswordSecond","passwordsMatch","setPasswordsMatch","emailExists","setEmailExists","phone","setPhone","street","setStreet","postal","setPostal","city","setCity","checkIfPasswordMeetsCriteria","search","checkIfEmailMeetsCriteria","match","checkIfNameMeetsCriteria","checkIfCityMeetsCriteria","checkIfStreetMeetsCriteria","checkIfPhoneMeetsCriteria","checkIfPostalMeetsCriteria","substring","address","password","signUp","setSignUp","hideButton","setHideButton","action","method","SignUp","showAddItems","setShowAddItems","setShopItems","AddItems","border","history","useHistory","currentUrl","setCurrentUrl","newUrl","setNewUrl","isUrlAvailible","setIsUrlAvailible","editMode","setEditMode","error","setError","setOwner","setOverviewImage","showImageFromDb","localUploadingTitle","setLocalUploadingTitle","localUploadingOverview","setLocalUploadingOverview","handleError","Jumbotron","backgroundSize","fluid","ShopJumbotron","ShopItems","shopUrl","useParams","ViewShop","setUserInformation","handleSignUp","lastRef","useRef","shops","setShops","refresh","setRefresh","userInformation","login","setLogin","registration","setRegistration","shipmentOnly","setShipmentOnly","nanoid","passOrderInfo","setPassOrderInfo","executeScroll","current","scrollIntoView","behavior","block","sortItems","cartItems","sortShop","cartItem","itemsArr","findItem","find","el","undefined","index","findIndex","prevItems","isInCart","prevCount","Number","newShopId","parsedShoppingCart","a","addItemsToShoppingCartFromLocal","showItemData","data-id","Image","rounded","newLocalShoppingCart","filter","removeItemFromCart","paddingTop","PayGate","sort","justifyContent","getTotalPrice","Login","PlaceOrder","showTotalCartPrice","ref","createNewOrder","ordersData","setOrdersData","shippedObj","setShippedObj","expandedObj","setExpandedObj","validatedOrdersData","obj","ShowItemDataForOrder","passItemData","shopTotal","Fragment","order","ShowOrderDetails","passShops","ShowBuyerDetails","passUserInformation","buyerId","iban","span","offset","ShowOrders","createdAt","isShipped","statusColor","oldValue","handleExpanded","moment","format","float","paddingBottom","checked","stopPropagation","newVal","expandObj","handleShipping","colSpan","Table","striped","bordered","hover","query","URLSearchParams","useLocation","paymentId","paymentResultCode","ShowWines","WineOverview","eventPopup","setEventPopup","Date","startDate","setStartDate","setName","idFromName","setIdFromName","link","setLink","where","setWhere","when","setWhen","setNewId","toLowerCase","showTimeSelect","selected","date","eventData","valueOf","b","event","maxWidth","eventId","delete","EditEvent","passLink","open","focus","AddEvent","servicePopup","setServicePopup","serviceData","service","text","serviceId","EditService","AddService","setIsLoggedIn","setUserData","loadingData","setLoadingData","withCredentials","exact","path","Home","Vinarne","Vinka","ShoppingCart","SuccessPayment","RejectPayment","Orders","Events","Services","ShopOnline","ReactDOM","render","App","getElementById"],"mappings":"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","file":"static/js/main.832be4c3.chunk.js","sourcesContent":["import React, {useEffect, useState } from 'react'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport crypto from 'crypto'\r\nimport locutus from 'locutus/php/misc/pack'\r\n\r\nexport default ({paymentPopup, setPaymentPopup, orderInfo}) => {\r\n    const {total, orderId } = orderInfo\r\n\r\n    const toHexString = bytes => bytes.reduce((str, byte) => str + byte.toString(16).padStart(2, '0'), '');\r\n\r\n    const GetSignature = (key, message) => {\r\n        const encryptedKey = locutus('A*', key)\r\n        const encryptedMessage = locutus('A*', message)\r\n        const uint8arr = crypto.createHmac('sha256', encryptedKey).update(encryptedMessage).digest()\r\n        const converted = toHexString(Buffer.from(uint8arr.buffer))\r\n        return converted.toUpperCase()\r\n    }\r\n\r\n    const constructOrder = () => {\r\n        const baseUrl = \"https://playground.trustpay.eu/mapi5/wire/paypopup\";\r\n        const accountId = 2107205663;\r\n        const amount = total;\r\n        const currency = \"EUR\";\r\n        const reference = orderId;\r\n        const paymentType = 0;\r\n    \r\n        const secretKey = \"5FIwY8FAc15vKHD96B9XQLhPIZdK8lNr\";\r\n        const sigData = `${accountId}/${amount.toFixed(2)}/${currency}/${reference}/${paymentType}`;\r\n        const signature = GetSignature(secretKey, sigData); //eslint-disable-line\r\n    \r\n        const url = `${baseUrl}?AccountId=${accountId}&Amount=${amount}&Currency=${currency}&Reference=${reference}&PaymentType=${paymentType}&Signature=${signature}`\r\n        return url;\r\n    }\r\n\r\n    return (\r\n        <Modal style={{backgroundColor: 'rgba(255,255,255,0) !important'}} show={paymentPopup} onHide={() => setPaymentPopup(true)}>\r\n            <iframe style={{padding: \"-15px\", width:\"100%\", height: \"550px\"}} id=\"TrustPayFrame\" src={constructOrder()}></iframe>\r\n            <div style={{\r\n                position: 'absolute', \r\n                right: 15, \r\n                top: 15, \r\n                height: 50, \r\n                width: 50, \r\n                cursor: 'pointer'\r\n            }} onClick={() => setPaymentPopup(false)}></div>\r\n        </Modal>\r\n    )\r\n}","module.exports = __webpack_public_path__ + \"static/media/6014651360620a02d885ca30-unnamed.3f91fec2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/60150cabc76e990c50481bec-Vina-Ane-Centenaria-600.6a4628f6.png\";","module.exports = __webpack_public_path__ + \"static/media/60150cabc76e990c50481bec-blurred-pastel-bokeh-lights-background-89245-17.fbf6a8a1.jpg\";","module.exports = __webpack_public_path__ + \"static/media/60150cabc76e990c50481bec-icone-st-joseph.88ae7aad.jpg\";","module.exports = __webpack_public_path__ + \"static/media/60150cabc76e990c50481bec-objednavka.7f9a0a02.JPG\";","module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxIHEBEPBxASFhAPDQ8NFBAYERcSEQ8PFhEXFxURFxckHCkgGB0lGxQVITIiKzUvMC8uFx8/PTcsNyg5LisBCgoKDQ0OGBAQFzcgHR8rLS0rKy4uMi0tLisrLS0tNystLTEtMystKy0rLSsrKy0tLSstOCs3MSsrKys3Ky0tK//AABEIAOAA4AMBIgACEQEDEQH/xAAbAAEAAgMBAQAAAAAAAAAAAAAABQcDBAYIAv/EAEQQAAICAQEEBAwDBAcJAAAAAAABAgMEEQUGBzESIVF0EyIyNEFhcXKRsbKzFIGhMzVSgghCU3OSweEVIyRUYmOTosP/xAAZAQEBAQEBAQAAAAAAAAAAAAAAAQIDBQT/xAAkEQEBAAECBgEFAAAAAAAAAAAAAQIDEQQSITGBwTIiQVGCsf/aAAwDAQACEQMRAD8AvEAAAAAAAAAAAAAAAFd8bNp2bPw6FhWWVytzFFyhNwbgqptxbT1ab06vUUz/ALVts/atSfbJav4ltceot4uI0nosyWr9C/3MimInDU7vY4Dph0dvuPgR23kKvJnOCcJSTr0jLVLqWrTO64TZVjs2hjZFts1TZTKHTsdihGXhFotX1eR6Dj+FXnkPcn8jq+FUX+N2o9Ho3jLX0aqV2q1/NfExp36p5dOO64Z7/aY/1ZYAPqeGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK944fuyHfqfosKKiXrxw/dkO/U/RYUVE4and6/AfHysPhUv+Jfd7fpOw4P8tod9X0HIcKfOZd3t+k6/g/y2h32P0GdP5Tz6b4745/r7WIAD6XigAAAAAAAAAAAAAAAAAAAAAAAAAAAACveOH7sh36n6LCiol7cbo9LZsEv+ep+iwoucHUtZ8l6TjqY2vT4HVwxm2V2WFwp85l3e36Tr+D/LaHfY/QcZwivjkZjqpknN410tOvktE3r7ZL4nW8F8hXraXQ18XP6Htaj1mdPG806flvjdXCzKS778vtZQAPoeSAAAAAAAAAAAAAAAAAAAAAAAAAAAAchxE34r3QpSglPLuT8DRr1djts7IL9X1L0tBy3Hbb9dVePgVtO2dyypr+zqjGSjr2OUpdXqgynM3I6cGu1r56mPaGTbtK2zI2hNzuum7JzfNy/ySSSS5JJI1ZprmVnu6jhpvPXunmvIzIOUJ41uO5LVyrbcZxkl6dZVxT9vq6+t4BbwRxsjIwsxpTy+jkVvl0rop+Eh7XFpr3JFTn3TbLHlGzHk4zhONkZp6ShOL1jJP0NNJhXskHC8Md/ob2VeBzXGOdTDWcOSugurw0F2ctV6G+xo7oigAAAAAAAAAAAAAAAAAAAAAAAAAAjd49s17vYt2Xm+RTW5aLypy5Rrj65SaS9p5i2ttC3bl9uXtKWt10uk/wCGuH9WqPZGK6v9WWzx7z2qsLDi+q/IsyJLtjTFaJ/zWJ/ylT9A1IzlWm6zXyK9Fr2Em6zWyq/El7NS2JKi29OZbNXCKWVsirIp6S2k4PJ8G34llclrHHafkyUdOv8AibT6uVTNa9TPTHCXeSW8mzoSy5dK/Gm8W2T5zcUnCb9bhKOr7UzLTzjs7Ot2VdXfgycLqLOnGWmjjNdTi12c012No9Ubm7wR3nwqcylaOyLU4a6+Dui+jOHsUk9O1aFCcZNjx2Rta10LSGVXDNSS0SnNyjYvznBy/nOz/o8bQcoZ2LJ9ULKcmPtnGUJfaj8SKuIAAAAAAAAAAAAAAAAAAAAAAAAAAUzx168zZ/qxst/+1ZXhZfG7AtyMnCsx6pyhCjJjKUYuSg3KDWunLkytNTeLnl3DBlx8SfuS+RnMWX+zn7kvkaZiBJ/dnfHM3XjZDYtkYK6UZz1rjNuUVomteXUQAObqld4d4sreScbNtXeEnXFwg+hCHRi3q0lGK16+0sT+jv5znd2x/uTKlckub5/qXJwA2ddi3ZlmVTZCFlFEYynXKCm1ObfR1S15rrAukAEUAAAAAAAAAAAAAAAAAAAAAAABzW9dHhZ1OM5xkoSScZetf1WnF/miAyNk/i/OoY13Z4Snoz/8i1/SJ0u8vl1+7L5oj6jNHOWbmY1vXZgtP/tZUn+k+ijXt4eYuQnF0bQipJrxbsV6fGTO3qN2onNTlit8fhPhLy6Npy9t+JFfpJMlMXhfg06OvZ3Sa/t8639Yw6UX7CwaTMZ5quzlcTduGzE/wFeLj6+mjFjG387Ja9L/AAmfduDqy8mLnOS/D40/Gm5eM53JtLlHXorqSS6iXyuRF7C89ye64v3LzWJXRgA2gAAAAAAAAAAAAAAAAAAAAAAACA3l8uv3ZfNEfUSG8vl1+7L5oj6jFG5UbtRpVG7UZVu0mYw0mYitPK5EXsLz3J7ri/cvJTK5EXsLz3J7ri/cvNYpXRgA6IAAAAAAAAAAAAAAAAAAAAAAAAgN5fLr92XzRH1EhvL5dfuy+aI+oxRuVG7UaVRu1GVbtJmMNJmIrTyuRF7C89ye64v3LyUyuRF7C89ye64v3LzWKV0YAOiAAAAAAAAAAAAAAAAAAAAAAAAIDeXy6/dl80R9RIby+XX7svmiPqMUblRu1GlUbtRlW7SZjDSZiK08rkRewvPcnuuL9y8lMrkRewvPcnuuL9y81ildGADogAAAAAAAAAAAAAAAAAAAAAAACA3l8uv3ZfNEfUSG8vl1+7L5oj6jFG5UbtRpVG7UZVu0mYw0mYitPK5EXsLz3J7ri/cvJTK5EXsLz3J7ri/cvNYpXRgA6IAAAAAAAAAAAAAAAAAAAAAAAA5zea6MbaoSlFSlCbUdUpSSa10XpNOo5fjNvBdsXIw446rnVZTe7KbIKcJuM69H2p9b+PpIHZPEHHeiylkY75voyWTT7NJJzivVFIlhutKo3ajjtnb1U5On4fNwbG+UZTliS+EnJ/odBjZtti8Wuh+7ldJfHwaMWKnqTMyG/HXVLV1469/LcP8A5Mitob40Yfne0sCvTyq4N5Vunq0knr/KybG7o8nrIjd6yNuZlOqSaWPjQbT1Smp3Nxb7V0l1etHAbc4m4aTjiQysyWj0drWPjtN8nWorpfzQ/MkeEW81+8OVlrM8HGurHp8HTXDowrTnP2t9SXq6uSN442JutMAGgAAAAAAAAAAAAAAAAAAAAAAABSv9IDzjB/uMn66yqS1+P37fB/uMj66yqtDUZr5a15nx4GL5xXwRl0GgGHwEf4Y/BH2lpyPvQaAfOhanADznN7vR9cyrdC1OAPnGb3ej65ikXUADLQAAAAAAAAAAAAAAAAAAAAAAACpOPezZzjiZUE3Ct248/wDpc+jKDfYvEkvbp2lPaHrPaODXtOqdGdBTqti4Sg+TX+T9OvoaKi27watrcpbByIThrqqrdYTiuxWJNS/NIsqWKp0Gh0W0dx9pbO84wbmk+dcVevb4jlp+ZC34VuP5xVZD3q5Q+aKjX0GhkhU59UItvsSbZIYm7uZmtLFw8mWvpVE1H85NaICL0LY4BY0vCZtunieDoq6Xoc9Zya/Jaf4kQuxuE+0M9p5yrx4N9bnNWWJdqhFtP2NoundrYNO7eNDG2en0Y6ylJ+XZY/Ksk+1/oklyRKRKgAjQAAAAAAAAAAP/2Q==\"","module.exports = __webpack_public_path__ + \"static/media/60150cabc76e990c50481bec-weicher-pastell-und-gelb-der-abstrakten-unschaerfelichtsteigung-rosa-fuer-tapetenhintergrund-7636-1347.af63822b.jpg\";","module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/601825a222ae9d2e6002e307-weicher-pastell-und-gelb-der-abstrakten-unschaerfelichtsteigung-rosa-fuer-tapetenhintergrund-7636-1347.af63822b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/a-IMG-5218.ac4542c2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/ahoj-udalost-svatyjozef.f7a9ac09.png\";","module.exports = __webpack_public_path__ + \"static/media/homescreen-event-image-playa-del-carmen-fishingzone-82.96966ca1.png\";","module.exports = __webpack_public_path__ + \"static/media/homescreen-service-image-playa-del-carmen-fishingzone-82.96966ca1.png\";","module.exports = __webpack_public_path__ + \"static/media/silvia-gulačová-12-122485-inspirational-clip-art-wine-spilled-wine-clipart-clipart-wine-png.117f848b.png\";","module.exports = __webpack_public_path__ + \"static/media/silvia-gulačová-IMG-5218.ac4542c2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/silvia-gulačová-aoe2.a081637f.PNG\";","module.exports = __webpack_public_path__ + \"static/media/silvia-gulačová-playa-del-carmen-fishingzone-82.96966ca1.png\";","module.exports = __webpack_public_path__ + \"static/media/winter-bootcamp--2019-12-122485-inspirational-clip-art-wine-spilled-wine-clipart-clipart-wine-png.117f848b.png\";","module.exports = __webpack_public_path__ + \"static/media/winter-bootcamp--2019-playa-del-carmen-fishingzone-82.96966ca1.png\";","var map = {\n\t\"./6014651360620a02d885ca30-unnamed.jpg\": 277,\n\t\"./60150cabc76e990c50481bec-Vina-Ane-Centenaria-600.png\": 278,\n\t\"./60150cabc76e990c50481bec-blurred-pastel-bokeh-lights-background-89245-17.jpg\": 279,\n\t\"./60150cabc76e990c50481bec-icone-st-joseph.jpg\": 280,\n\t\"./60150cabc76e990c50481bec-objednavka.JPG\": 281,\n\t\"./60150cabc76e990c50481bec-vinko.jpg\": 282,\n\t\"./60150cabc76e990c50481bec-weicher-pastell-und-gelb-der-abstrakten-unschaerfelichtsteigung-rosa-fuer-tapetenhintergrund-7636-1347.jpg\": 283,\n\t\"./601825a222ae9d2e6002e307-vinko.jpg\": 284,\n\t\"./601825a222ae9d2e6002e307-weicher-pastell-und-gelb-der-abstrakten-unschaerfelichtsteigung-rosa-fuer-tapetenhintergrund-7636-1347.jpg\": 285,\n\t\"./a-IMG-5218.jpg\": 286,\n\t\"./ahoj-udalost-svatyjozef.png\": 287,\n\t\"./homescreen-event-image-playa-del-carmen-fishingzone-82.png\": 288,\n\t\"./homescreen-service-image-playa-del-carmen-fishingzone-82.png\": 289,\n\t\"./silvia-gulačová-12-122485-inspirational-clip-art-wine-spilled-wine-clipart-clipart-wine-png.png\": 290,\n\t\"./silvia-gulačová-IMG-5218.jpg\": 291,\n\t\"./silvia-gulačová-aoe2.PNG\": 292,\n\t\"./silvia-gulačová-playa-del-carmen-fishingzone-82.png\": 293,\n\t\"./winter-bootcamp--2019-12-122485-inspirational-clip-art-wine-spilled-wine-clipart-clipart-wine-png.png\": 294,\n\t\"./winter-bootcamp--2019-playa-del-carmen-fishingzone-82.png\": 295\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 37;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\n\r\nimport {FiShoppingCart} from \"react-icons/fi\"\r\n\r\n// Navbar.js\r\nexport default ({ isLoggedIn, handleLogOut, userName }) => {\r\n  return (\r\n    <Navbar fixed=\"top\" bg=\"dark\" variant=\"dark\" expand=\"md\">\r\n      <Navbar.Brand>\r\n        <img\r\n          alt=\"\"\r\n          src=\"https://st2.depositphotos.com/8301258/11284/v/950/depositphotos_112842636-stock-illustration-logo-shop-bags-icon-symbol.jpg\"\r\n          width=\"30\"\r\n          height=\"30\"\r\n          className=\"d-inline-block align-top\"\r\n        />\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n      <Navbar.Collapse id=\"basic-navbar-nav\">\r\n        <Nav className=\"mr-auto\">\r\n          <Link className={`nav-elem`} to=\"/\">\r\n            Domov\r\n          </Link>\r\n\r\n          <Link className={`nav-elem`} to=\"/vinarne\">\r\n            Vinarne\r\n          </Link>\r\n\r\n          <Link className={`nav-elem`} to=\"/vinka\">\r\n            Vinka\r\n          </Link>\r\n\r\n          <Link className={`nav-elem`} to=\"/akcie\">\r\n            Akcie\r\n          </Link>\r\n\r\n          <Link className={`nav-elem`} to=\"/sluzby\">\r\n            Sluzby\r\n          </Link>\r\n        </Nav>\r\n        <Nav className=\"mr-sm-2\">\r\n            <Link className={`nav-elem`} to=\"/cart-page\">\r\n              <FiShoppingCart />\r\n            </Link>\r\n          {isLoggedIn ? (\r\n            <>\r\n              <Link className={`nav-elem`} to=\"/objednavky\">\r\n                Objednavky\r\n              </Link>\r\n              <Link className={`nav-elem`} onClick={handleLogOut} to=\"\">\r\n                Logout\r\n              </Link>\r\n            </>\r\n          ) : (\r\n            <Link className={`nav-elem`} to=\"/login-page\">\r\n              Login\r\n            </Link>\r\n          )}\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\"\r\n\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nexport default ({ showEditItems, setShowEditItems, shopId, itemId, itemDataProp, setShouldReload, shouldReload }) => {\r\n  const [itemName, setItemName] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [imageLink, setImageLink] = useState(\"\");\r\n  const [canSaveItem, setCanSaveItem] = useState(false);\r\n  const [maxCount, setMaxCount] = useState('')\r\n  const [color, setColor] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [taste, setTaste] = useState(\"\");\r\n\r\n  const [itemData, setItemData] = useState({...itemDataProp})\r\n\r\n  const resetPropsOnHide = () => {\r\n    setImageLink(\"\")\r\n    setItemName(\"\")\r\n    setPrice(\"\")\r\n    setDescription(\"\")\r\n    setCanSaveItem(false)\r\n    setShowEditItems('')\r\n  }\r\n\r\n  const getImage = (image) => {\r\n    try {\r\n      const img = require(`../../../../../src/uploads/${image.replace(/_/g, '-')}`);\r\n      return img;\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleSaveItem = () => {\r\n    if (itemName) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/itemName/${itemName}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (price) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/price/${price}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (description) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/description/${description}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (imageLink) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/imageLink/${imageLink}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (maxCount) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/maxCount/${maxCount}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (color) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/color/${color}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (type) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/type/${type}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (taste) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/taste/${taste}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n  };\r\n\r\n  const deleteFile = (file) => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/deleteFile/${shopId}`, {\r\n        params: file\r\n      })\r\n      .then(() => \r\n        {return}\r\n      )\r\n      .catch((err) => err && console.log(err));\r\n  };\r\n  useEffect(() => {\r\n    const isAlready = getImage(imageLink) ? getImage(imageLink) : imageLink;\r\n    if (isAlready || imageLink || description || price || itemName || color || type || taste) {\r\n      setCanSaveItem(true);\r\n    }\r\n  }, [imageLink, description, price, itemName, color, type, taste]);\r\n\r\n  const getUploadParams = ({ meta }) => {\r\n    return { url: `https://mas-vino.herokuapp.com/fileUpload/${shopId}` };\r\n  };\r\n\r\n  const handleChangeStatus = ({ meta, file }, status) => {\r\n    if (status === \"removed\") {\r\n      deleteFile(meta);\r\n    }\r\n    if (status === \"done\") {\r\n      setImageLink(`${shopId}-${meta.name}`);\r\n    }\r\n  };\r\n\r\n  const deleteFormerImage = () => {\r\n    const newItemData = {...itemData, imageLink: ''}\r\n    setItemData(newItemData)\r\n  }\r\n\r\n  return (\r\n    <Modal show={showEditItems} onHide={() => resetPropsOnHide()}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Add an item to your shop.</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"shopName\">Name your item:</label>\r\n            <input\r\n              value={itemName || itemData.itemName}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"shopName\"\r\n              onChange={(e) => setItemName(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"price\">Price:</label>\r\n            <input\r\n              value={price || itemData.price}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"price\"\r\n              onChange={(e) => setPrice(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"color\">Farba:</label>\r\n            <input\r\n              value={color || itemData.color}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"color\"\r\n              placeholder=\"povinne\"\r\n              onChange={(e) => setColor(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"taste\">Chut:</label>\r\n            <input\r\n              value={taste || itemData.taste}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"taste\"\r\n              onChange={(e) => setTaste(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"type\">Druh:</label>\r\n            <input\r\n              value={type || itemData.type}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"type\"\r\n              onChange={(e) => setType(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col>\r\n            <label htmlFor=\"sizes\">Maximalny pocet flias v jednej objednavke:</label>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col className=\"form-group\">\r\n          <InputGroup>\r\n              <input\r\n                value={maxCount || itemData.maxCount || ''}\r\n                className=\"form-control\"\r\n                type=\"number\"\r\n                name=\"sizes\"\r\n                onChange={(e) => setMaxCount(e.target.value)}\r\n                placeholder={'Nechaj prazdne ak nieje hranica'}\r\n              />\r\n            </InputGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"description\">Description:</label>\r\n            <textarea\r\n              maxLength=\"230\"\r\n              value={description || itemData.description}\r\n              className=\"form-control\"\r\n              name=\"description\"\r\n              type=\"text\"\r\n              style={{ resize: \"none\", minHeight: \"100px\" }}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <br />\r\n        <SlideDown className={\"my-dropdown-slidedown\"}>\r\n        {itemData.imageLink ? \r\n        <Row className=\"justify-content-center text-center\">\r\n          <Col className=\"form-group\">\r\n            <img style={{height:'110px', width: '80px'}} src={getImage(itemData.imageLink) ? getImage(itemData.imageLink) : itemData.imageLink} />\r\n            <Button onClick={() => deleteFormerImage()} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n          </Col>\r\n        </Row> :\r\n        <Row>\r\n          <Col>\r\n            <Dropzone\r\n              maxFiles={1}\r\n              multiple={false}\r\n              canCancel={false}\r\n              getUploadParams={getUploadParams}\r\n              onChangeStatus={handleChangeStatus}\r\n              accept=\"image/*\"\r\n              inputContent={() => (\r\n                <p\r\n                  className=\"text-center\"\r\n                  key=\"label\"\r\n                  style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                >\r\n                  Drop or click to choose image.\r\n                  <br />\r\n                  <BsUpload />\r\n                </p>\r\n              )}\r\n              classNames={{\r\n                dropzone: \"dropzoning\"\r\n              }}\r\n            />\r\n          </Col>\r\n        </Row>}\r\n      </SlideDown>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        {canSaveItem ? (\r\n          <Button variant=\"dark\" onClick={handleSaveItem}>\r\n            Save Item\r\n          </Button>\r\n        ) : (\r\n          <Button disabled variant=\"dark\">\r\n            Save Item\r\n          </Button>\r\n        )}\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport { MdDelete, MdEdit } from \"react-icons/md\";\r\n\r\nimport EditItems from \"./EditItems\";\r\n\r\nexport default ({colMdSettings, colXsSettings, shopItems, shopId, userId, setShouldReload, shouldReload, setShowAddedPopup, isOwner, url}) => {\r\n    const [count, setCount] = useState(\"\")\r\n    const [isHovered, setIsHovered] = useState(\"\")\r\n    const [clicked, setClicked] = useState('')\r\n    const [editing, setEditing] = useState('')\r\n\r\n    const copyFunction = (passId) => {\r\n      const dummy = document.createElement(\"textarea\");\r\n      document.body.appendChild(dummy);\r\n      dummy.value = passId;\r\n      dummy.select();\r\n      document.execCommand(\"copy\");\r\n      document.body.removeChild(dummy);\r\n      setClicked('#333333')\r\n      setTimeout(() => setClicked(''),150)\r\n    }\r\n    \r\n    const getImage = (image) => {\r\n      try {\r\n          const img = require(`../../../../../src/uploads/${image.replace(/_/g, '-')}`);\r\n          return img;\r\n      } catch {\r\n          return null;\r\n      }\r\n    };\r\n\r\n    const deleteCard = (e) => {\r\n      const itemId = e.currentTarget.parentNode.id;\r\n      axios\r\n          .post(\r\n          `https://mas-vino.herokuapp.com/shop/${shopId}/delete-item/${itemId}`,\r\n          {}\r\n          )\r\n          .then(() => setShouldReload(!shouldReload))\r\n          .catch((err) => err && console.log(`Error ${err}`));\r\n    };\r\n\r\n    return shopItems.map((item) => {\r\n      const { _id, itemName, price, description, imageLink, maxCount } = item;\r\n      const passShopId = shopId === 'home' ? item.shopId : shopId\r\n\r\n      const image = getImage(imageLink)\r\n        ? getImage(imageLink)\r\n        : imageLink;\r\n\r\n      const showCount = () => {\r\n        let result = []\r\n        for (let num = 1; num<= (maxCount ?? 200); num++) {\r\n          result.push(<option key={num} value={num}>{num}</option>)\r\n        }\r\n        \r\n        return result\r\n      }\r\n\r\n      const handleCount = (e) => {\r\n        let countObj = {}\r\n        countObj[_id] = e.target.value\r\n        setCount({...count, ...countObj})\r\n      }\r\n\r\n      const handleEditing = (e) => {\r\n        const itemId = e.currentTarget.parentNode.id;\r\n        let editingObj = {}\r\n        editingObj[itemId] = true\r\n        setEditing({...editing, ...editingObj})\r\n      }\r\n\r\n      const handleMouseOver = () => {\r\n        let hoverObj = {}\r\n        hoverObj[_id] = 'block'\r\n        setIsHovered({...isHovered, ...hoverObj})\r\n      }\r\n\r\n      const handleMouseLeave = () => {\r\n        setIsHovered(\"\")\r\n      }\r\n\r\n      const addItemToCart = (e) => {\r\n        const itemId = e.currentTarget.parentNode.parentNode.parentNode.id;\r\n        const passCount = count[_id] || 1\r\n        if (userId) {\r\n          axios\r\n            .post(`https://mas-vino.herokuapp.com/users/${userId}/cart/add-cart-item/${passShopId}/${itemId}`, {\r\n            shopId: passShopId, itemId, count: passCount\r\n            })\r\n            .then(() => setShowAddedPopup(true))\r\n            .catch(err => err && console.log(err))\r\n            .then(() => setTimeout(() => setShowAddedPopup(false), 5000))\r\n        } else {\r\n          const localShoppingCart = localStorage.getItem('shoppingCart')\r\n          localStorage.removeItem('shoppingCart')\r\n          const newShoppingCart = localShoppingCart ? [...JSON.parse(localShoppingCart), {shopId: passShopId, itemId, count: passCount}] : [{shopId: passShopId, itemId, count: passCount}]\r\n          localStorage.setItem('shoppingCart', JSON.stringify(newShoppingCart))\r\n          setShowAddedPopup(true)\r\n          setTimeout(() => setShowAddedPopup(false), 5000)\r\n        }\r\n      }\r\n      return (\r\n        <Col className=\"mt-2 mb-2\" style={{color: \"whitesmoke\"}} xs={colXsSettings ?? 6} md={colMdSettings ?? 6} lg={colMdSettings ?? 4} xl={colMdSettings ?? 3} key={_id}>\r\n          <Card onMouseEnter={() => handleMouseOver()} onMouseLeave={() => handleMouseLeave()} style={{height: \"410px\" }} id={_id} >\r\n            {isOwner &&\r\n            <Button\r\n              onClick={(e) => deleteCard(e)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                zIndex: \"+5\"\r\n              }}\r\n              variant=\"outline-danger\"\r\n            >\r\n              <MdDelete style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n            {isOwner &&\r\n            <Button\r\n              onClick={(e) => handleEditing(e)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                marginLeft: \"40px\",\r\n                zIndex: \"+5\"\r\n              }}\r\n              variant=\"outline-warning\"\r\n            >\r\n              <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n            {editing[_id] && <EditItems shouldReload={shouldReload} setShouldReload={setShouldReload} itemDataProp={item} showEditItems={editing[_id]} setShowEditItems={setEditing} shopId={passShopId} itemId={_id} />}\r\n            <Card.Img className=\"shop-item-img mt-4\" variant=\"top\" src={image} />\r\n            <Card.Body style={{color: \"Black\"}}>\r\n              <Card.Title>{itemName}</Card.Title>\r\n              <Card.Text>{price} €</Card.Text>\r\n            </Card.Body>\r\n            <Card.ImgOverlay style={{ background: \"rgba(52,58,64,0.7)\", display: `${isHovered[_id] === 'block' ? 'block' : 'none'}`}} >\r\n              <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                <Button style={{width: \"100%\"}} onClick={(e) => addItemToCart(e)} variant=\"dark\">Add to shopping cart.</Button>\r\n                <Container>\r\n                  <Row className=\"mt-2\">\r\n                    <Col>\r\n                      <Form.Control\r\n                        as=\"select\"\r\n                        value={count[_id]}\r\n                        onChange={(e) => handleCount(e)}\r\n                      >\r\n                        {showCount()}\r\n                      </Form.Control>\r\n                    </Col>\r\n                  </Row>\r\n                  {isOwner &&\r\n                  <Row>\r\n                    <Col><a onClick={() => copyFunction(_id)} style={{textDecoration: 'none', cursor: 'pointer', color: clicked}}><strong>copy my id!</strong></a></Col>\r\n                  </Row>}\r\n                  <Row style={{height: '240px', marginTop: '5px', marginBottom: '5px'}}>\r\n                    <Col>{description}</Col>\r\n                  </Row>\r\n                  {url && \r\n                    <Link to={`/${url}`}>\r\n                      <Button style={{width: \"100%\"}} variant=\"dark\">Visit shop.</Button>\r\n                    </Link>\r\n                  }\r\n                </Container>\r\n              </SlideDown>\r\n            </Card.ImgOverlay>\r\n          </Card>\r\n        </Col>\r\n      );\r\n    });\r\n  };","import React, {useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nconst IMAGE_PREFIX = 'homescreen-event-image'\r\n\r\nexport default ({eventsPopup, setEventsPopup, forceRefresh, setForceRefresh, eventsImage, eventsText}) => {\r\n    const [description, setDescription] = useState(eventsText)\r\n    const [imageLink, setImageLink] = useState(eventsImage)\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            console.log(image)\r\n          const img = require(`../../../../src/uploads/${image.replace(/_/g, '-')}`);\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${IMAGE_PREFIX}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${IMAGE_PREFIX}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${IMAGE_PREFIX}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        axios.put(`https://mas-vino.herokuapp.com/home/events-description`, { descriptionEvents: description, imageLinkEvents: imageLink })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setForceRefresh(!forceRefresh)\r\n                setEventsPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n\r\n    return (\r\n        <Modal show={eventsPopup} onHide={() => setEventsPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"400px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {\r\n                imageLink ? \r\n                <Row className=\"justify-content-center text-center\">\r\n                    <Col className=\"form-group\">\r\n                    <img style={{height:'110px', width: '160px'}} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                    <Button onClick={() => setImageLink('')} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n                    </Col>\r\n                </Row> :\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok udalosti. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(description && imageLink) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Upravit\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Upravit\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setEventsPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, {useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nconst IMAGE_PREFIX = 'homescreen-service-image'\r\n\r\nexport default ({servicesPopup, setServicesPopup, forceRefresh, setForceRefresh, servicesImage, servicesText}) => {\r\n    const [description, setDescription] = useState(servicesText)\r\n    const [imageLink, setImageLink] = useState(servicesImage)\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            console.log(image)\r\n          const img = require(`../../../../src/uploads/${image.replace(/_/g, '-')}`);\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${IMAGE_PREFIX}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${IMAGE_PREFIX}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${IMAGE_PREFIX}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        axios.put(`https://mas-vino.herokuapp.com/home/services-description`, { descriptionServices: description, imageLinkServices: imageLink })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setForceRefresh(!forceRefresh)\r\n                setServicesPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n\r\n    return (\r\n        <Modal show={servicesPopup} onHide={() => setServicesPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"400px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {\r\n                imageLink ? \r\n                <Row className=\"justify-content-center text-center\">\r\n                    <Col className=\"form-group\">\r\n                    <img style={{height:'110px', width: '160px'}} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                    <Button onClick={() => setImageLink('')} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n                    </Col>\r\n                </Row> :\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok udalosti. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(description && imageLink) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Upravit\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Upravit\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setServicesPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, {useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nexport default ({descriptionsPopup, setDescriptionsPopup, forceRefresh, setForceRefresh, descriptionsText}) => {\r\n    const [description, setDescription] = useState(descriptionsText)\r\n\r\n    const handleSave = () => {\r\n        axios.put(`https://mas-vino.herokuapp.com/home/general-description`, { descriptionGeneral: description })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setForceRefresh(!forceRefresh)\r\n                setDescriptionsPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n\r\n    return (\r\n        <Modal show={descriptionsPopup} onHide={() => setDescriptionsPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"400px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n            <br />\r\n            {description ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Upravit\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Upravit\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setDescriptionsPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","export default {\r\n    MAX_HEIGHT_JUMBO: 320\r\n}","import React, {useState, useEffect} from \"react\";\r\nimport axios from 'axios';\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport ShowItem from '../Shop/ViewShop/ShowItem';\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Carousel from \"react-bootstrap/Carousel\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport UpdateEvents from './UpdateEvents';\r\nimport UpdateServices from './UpdateServices';\r\nimport UpdateDescription from './UpdateDescription';\r\n\r\nimport options from '../../config/options';\r\n\r\nimport { MdEdit,MdMailOutline } from \"react-icons/md\";\r\nimport { BiCodeAlt } from \"react-icons/bi\";\r\nimport { FaFacebookF,FaInstagram } from \"react-icons/fa\";\r\n\r\nconst {MAX_HEIGHT_JUMBO} = options\r\n\r\n//Home.js\r\nexport default ({userId, isOwner}) => {\r\n  const [carouselData, setCarouselData] = useState('')\r\n  const [featuredWines, setFeaturedWines] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [showAddedPopup, setShowAddedPopup] = useState(false)\r\n  const [featuredIds, setFeaturedIds] = useState([])\r\n  const [isIdAvail, setIsIdAvail] = useState(['','','',''])\r\n  const [tempId, setTempId] = useState([])\r\n\r\n  const [eventsData, setEventsData] = useState([])\r\n  const [servicesData, setServicesData] = useState([])\r\n  const [descriptionGeneral, setDescriptionGeneral] = useState('')\r\n\r\n  const [eventsPopup, setEventsPopup] = useState(false)\r\n  const [servicesPopup, setServicesPopup] = useState(false)\r\n  const [descriptionsPopup, setDescriptionsPopup] = useState(false)\r\n\r\n  const [forceRefresh, setForceRefresh] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    axios.get(`https://mas-vino.herokuapp.com/home/`)\r\n      .then(res => {\r\n        const featured = res.data.featuredWines\r\n        const events = [res.data.descriptionEvents, res.data.imageLinkEvents]\r\n        const services = [res.data.descriptionServices, res.data.imageLinkServices]\r\n        const description = res.data.descriptionGeneral\r\n        setEventsData(events)\r\n        setServicesData(services)\r\n        setDescriptionGeneral(description)\r\n        setFeaturedIds(featured)\r\n        setTempId(featured)\r\n        setFeaturedWines([])\r\n        featured.map(item => {\r\n          axios.get(`https://mas-vino.herokuapp.com/shop/find-item-by-id/${item}`)\r\n            .then(res => {\r\n              const response = res.data\r\n              const newObj = {...response[0], shopId: response[1]}\r\n              return setFeaturedWines(prev => [...prev, newObj])\r\n            })\r\n            .catch(err => err && console.log('Error while setting full featured wines, ', err))\r\n        })\r\n      })\r\n      .catch(err => err && console.log('Error while fetching featured wines, ', err))\r\n    axios.get(`https://mas-vino.herokuapp.com/shop/`)\r\n      .then(res => setCarouselData(res.data))\r\n      .catch(err => err && console.log('Error while fetching shops for carousel, ', err))\r\n      .then(() => setLoading(false))  \r\n  }, [forceRefresh])\r\n\r\n  const getImage = (image) => {\r\n    try {\r\n        const img = require(`../../../../src/uploads/${image.replace(/_/g, '-')}`);\r\n        return img;\r\n    } catch {\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const ShowEvents = () => {\r\n    return (\r\n      <Row className=\"mt-4 mb-4\">\r\n        <Col className=\"text-left mt-4 mb-4\">\r\n          {eventsData[0]}\r\n        </Col>\r\n        <Col className=\"mt-4 mb-4\">\r\n          {isOwner &&\r\n            <Button\r\n              onClick={() => setEventsPopup(true)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                zIndex: \"+1\",\r\n                position:'absolute'\r\n              }}\r\n              variant=\"outline-warning\"\r\n            >\r\n              <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n          <img src={getImage(eventsData[1]) ? getImage(eventsData[1]) : eventsData[1]} /> \r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n\r\n  const ShowServices = () => {\r\n    return (\r\n      <Row className=\"mt-4 mb-4 pt-4 pb-4\">\r\n        <Col className=\"mt-4 mb-4\">\r\n          {isOwner &&\r\n            <Button\r\n              onClick={() => setServicesPopup(true)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                zIndex: \"+1\",\r\n                position:'absolute'\r\n              }}\r\n              variant=\"outline-warning\"\r\n            >\r\n              <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n          <img src={getImage(servicesData[1]) ? getImage(servicesData[1]) : servicesData[1]} /> \r\n        </Col>\r\n        <Col className=\"mt-4 mb-4\">\r\n          {servicesData[0]}\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n\r\n  const ShowGeneral = () => {\r\n    return (\r\n      <Row className=\"text-center mt-4 mb-4\">\r\n        <Col className=\"mt-4 mb-4\">\r\n          {isOwner &&\r\n            <Button\r\n              onClick={() => setDescriptionsPopup(true)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                zIndex: \"+1\",\r\n                position:'absolute'\r\n              }}\r\n              variant=\"outline-warning\"\r\n            >\r\n              <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n          {descriptionGeneral}\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n\r\n  const showCarouselWithData = () => {\r\n    return carouselData.map(shop => {\r\n      const {shopName, owner, url, imageLink} = shop\r\n      const image = getImage(imageLink)\r\n        ? getImage(imageLink)\r\n        : imageLink;\r\n      return (\r\n        <Carousel.Item key={`id-${image}`} style={{maxHeight: MAX_HEIGHT_JUMBO}}>\r\n            <Link to={`/${url}`}>\r\n            <img\r\n              className=\"d-block w-100\"\r\n              src={image}\r\n              alt={`Carousel-${imageLink}`}\r\n            />\r\n            <Carousel.Caption>\r\n              <h3>{shopName}</h3>\r\n              <p>{owner}</p>\r\n            </Carousel.Caption>\r\n          </Link>\r\n        </Carousel.Item>\r\n      )\r\n    })\r\n  }\r\n\r\n  const handleSuccessFeatureChange = () => {\r\n    for (let i = 0; i<featuredIds.length; i++) {\r\n      if (featuredIds[i] !== tempId[i]) {\r\n        setFeaturedIds(tempId)\r\n        axios.post(`https://mas-vino.herokuapp.com/home/featured-wines`, {featuredWines: tempId})\r\n          .then(res => window.location.reload())\r\n          .catch(err => err && console.log(err))\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleFeaturedIds = (e, i) => {\r\n    const newValue = tempId[i]\r\n    let newIdAvail = [...isIdAvail]\r\n    axios.get(`https://mas-vino.herokuapp.com/shop/find-item-by-id/${newValue}`)\r\n      .then(res => {\r\n        if (res.data[0]) {\r\n          newIdAvail[i] = ''\r\n          setIsIdAvail(newIdAvail)\r\n          handleSuccessFeatureChange()\r\n        } else {\r\n          newIdAvail[i] = 'invalid-input'\r\n          setIsIdAvail(newIdAvail)\r\n        }\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  const handleTempId = (e, i) => {\r\n    const newValue = e.target.value\r\n    let newTempIds = [...tempId]\r\n    newTempIds[i] = newValue\r\n    setTempId(newTempIds)\r\n  }\r\n\r\n  const ShowUpdateFeaturedWines = () => {\r\n    return tempId.map((featured, i) => {\r\n      return (\r\n        <Col key={`featuerd-${i}`} sm={6} md={3} className={`text-center mt-1`}>\r\n          <input\r\n            className={`form-control text-center ${isIdAvail[i]}`}\r\n            type=\"text\"\r\n            name={`featured-${i}`}\r\n            value={featured}\r\n            onChange={(e) => handleTempId(e, i)}\r\n            onBlur={(e) => handleFeaturedIds(e, i)}\r\n          />\r\n        </Col>\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    loading ? \r\n    <Spinner\r\n      style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n      animation=\"border\"\r\n    />\r\n    :\r\n    <>\r\n      {showAddedPopup &&\r\n          <Alert style={{position: \"fixed\", zIndex: '9', top:56, right:0}} variant=\"success\" onClose={() => setShowAddedPopup(false)} dismissible>\r\n            <p>Item added to cart!</p>\r\n          </Alert>\r\n      }\r\n      {eventsPopup &&\r\n        <UpdateEvents eventsText={eventsData[0]} eventsImage={eventsData[1]} eventsPopup={eventsPopup} setEventsPopup={setEventsPopup} forceRefresh={forceRefresh} setForceRefresh={setForceRefresh} />\r\n      }\r\n      {servicesPopup &&\r\n        <UpdateServices servicesText={servicesData[0]} servicesImage={servicesData[1]} servicesPopup={servicesPopup} setServicesPopup={setServicesPopup} forceRefresh={forceRefresh} setForceRefresh={setForceRefresh} />\r\n      }\r\n      {descriptionsPopup &&\r\n        <UpdateDescription descriptionsText={descriptionGeneral} descriptionsPopup={descriptionsPopup} setDescriptionsPopup={setDescriptionsPopup} forceRefresh={forceRefresh} setForceRefresh={setForceRefresh} />\r\n      }\r\n      <Carousel indicators={false} style={{maxHeight: MAX_HEIGHT_JUMBO}}>\r\n        {carouselData && showCarouselWithData()}  \r\n      </Carousel>\r\n      <div>\r\n        <Container>\r\n          <ShowGeneral />\r\n        </Container>\r\n      </div>\r\n      <div style={{background: 'rgba(52,58,64, 0.2)'}}>\r\n        <Container className=\"pt-3 pb-3\">\r\n          {isOwner &&\r\n          <Row>\r\n            <ShowUpdateFeaturedWines />\r\n          </Row>}\r\n          <Row className=\"text-center pt-4 pb-4\">\r\n            <ShowItem colXsSettings={6} colMdSettings={3} shopItems={featuredWines} shopId={'home'} userId={userId} setShouldReload={false} shouldReload={false} setShowAddedPopup={setShowAddedPopup} isOwner={false} />\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n      <div>\r\n        <Container>\r\n          <ShowEvents />\r\n        </Container>\r\n      </div>\r\n      <div style={{background: 'rgba(52,58,64, 0.2)'}}>\r\n        <Container>\r\n          <ShowServices />\r\n        </Container>\r\n      </div>\r\n      <div>\r\n        <Container>\r\n          <Row className=\"text-center pt-4 pb-4 mb-4\">\r\n            <Col>\r\n              <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://github.com/mattiass771\" style={{textDecoration: 'none', color: '#333333'}}>\r\n                <BiCodeAlt style={{fontSize: '150%', marginTop: '-2px'}} /> by <strong>MZ</strong>\r\n              </a>\r\n            </Col>\r\n            <Col>\r\n              <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://facebook.com\" style={{textDecoration: 'none', color: '#333333'}}>\r\n                <FaFacebookF style={{fontSize: '130%', marginTop: '-2px', marginRight: '-4px'}} />acebook.com<strong>/masvino</strong>\r\n              </a>\r\n            </Col>\r\n            <Col>\r\n              <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://instagram.com\" style={{textDecoration: 'none', color: '#333333'}}>\r\n                <FaInstagram style={{fontSize: '150%', marginTop: '-2px'}} /><strong>#masvino</strong>\r\n              </a>\r\n            </Col>\r\n            <Col>\r\n              <MdMailOutline style={{fontSize: '150%', marginTop: '-2px'}} /><strong style={{color: '#333333'}}>masvino@mail.com</strong>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport shortid from 'shortid';\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\n// CreateShop.js\r\nexport default ({ userData }) => {\r\n  const [shopName, setShopName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  const owner = userData.fullName;\r\n  const ownerId = userData._id;\r\n\r\n  const handleOpenShop = () => {\r\n    console.log(owner, shopName, ownerId, description, shortid.generate())\r\n    axios\r\n      .post(`https://mas-vino.herokuapp.com/shop/add`, {\r\n        shopName,\r\n        owner,\r\n        ownerId,\r\n        description,\r\n        url: shortid.generate()\r\n      })\r\n      .then((res) => console.log(res.data))\r\n      .catch((err) => err && console.log(`Error catched: ${err}`))\r\n      .then(() => window.location.reload());\r\n  };\r\n\r\n  return (\r\n    <SlideDown className={\"my-dropdown-slidedown\"}>\r\n      <Container>\r\n        <br />\r\n        <Row>\r\n          <Col className=\"text-center\">\r\n            <h1>Create new shop!</h1>\r\n            <p>\r\n              Please fill out the form below and shortly after, your very own shop\r\n              will be generated.\r\n            </p>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"form-group\">\r\n            <label htmlFor=\"shopName\">Name your shop:</label>\r\n            <input\r\n              value={shopName}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"shopName\"\r\n              onChange={(e) => setShopName(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"form-group\">\r\n            <label htmlFor=\"setDescription\">\r\n              Add a brief description to your shop:\r\n            </label>\r\n            <textarea\r\n              value={description}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"setDescription\"\r\n              onChange={(e) => setDescription(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center\">\r\n            <Button variant=\"dark\" onClick={handleOpenShop}>\r\n              Open Shop!\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      <hr />\r\n    </SlideDown>\r\n  );\r\n};\r\n","import React, {useState} from 'react';\r\nimport CreateShop from \"./CreateShop\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Card from \"react-bootstrap/Card\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default ({userData, shopData}) => {\r\n    const [showCreateShop, setShowCreateShop] = useState(false)\r\n    const [isHovered, setIsHovered] = useState(\"\")\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n          const img = require(`../../../../src/uploads/${image.replace(/_/g, '-')}`);\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n      };\r\n\r\n    const showShops = () => {\r\n        return shopData.map(shop => {\r\n            const { _id, shopName, description, url, overviewImage } = shop\r\n            const handleMouseOver = () => {\r\n                let hoverObj = {}\r\n                hoverObj[_id] = 'none'\r\n                setIsHovered({...isHovered, ...hoverObj})\r\n            }\r\n            const handleMouseLeave = () => {\r\n                let hoverObj = {}\r\n                hoverObj[_id] = 'block'\r\n                setIsHovered({...isHovered, ...hoverObj})\r\n            }\r\n            return (\r\n                <Col className=\"mt-2 mb-2\" md={4} key={_id} >\r\n                    <Link to={`/${url}`}>\r\n                        <Card className=\"h-100\" onMouseEnter={() => handleMouseOver()} onMouseLeave={() => handleMouseLeave()} style={{ textAlign:\"center\", color: \"whitesmoke\" }} id={_id} >\r\n                            <Card.Img className=\"h-100\" src={getImage(overviewImage) ? getImage(overviewImage) : `https://miro.medium.com/max/295/1*i5iqn7xB-l0kLwsJJBYEWQ.jpeg`} />\r\n                            <Card.ImgOverlay className={`${isHovered[_id] === 'none' ? 'fade-out' : 'fade-in'}`} style={{ background: \"rgba(52,58,64,0.4)\"}} >\r\n                                    <Card.Title>\r\n                                        {shopName}\r\n                                    </Card.Title>\r\n                                    <Card.Text>\r\n                                        {description}\r\n                                    </Card.Text>\r\n                            </Card.ImgOverlay>\r\n                        </Card>\r\n                    </Link>\r\n                </Col>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Row>\r\n                {userData.isOwner && \r\n                <Col className=\"text-center\">\r\n                    {showCreateShop ? \r\n                    <CreateShop userData={userData} /> :\r\n                    <Button style={{marginTop: \"20px\"}} variant=\"dark\" onClick={() => setShowCreateShop(true)}>New Shop</Button>\r\n                    }\r\n                </Col>}\r\n            </Row>\r\n            <Row className=\"mt-4\">\r\n                {showShops()}\r\n            </Row>\r\n        </Container>\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport ShopsOverview from \"./ShopsOverview\";\r\n\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\n//Shop.js\r\nexport default ({ userData }) => {\r\n  const [shopData, setShopData] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/shop/`)\r\n      .then((res) => setShopData(res.data ? res.data : {}))\r\n      .catch((err) => {\r\n        if (err) return console.log(`Fetch error: ${err}`);\r\n      })\r\n      .then(() => setLoading(false));\r\n  }, []); //eslint-disable-line\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <Spinner\r\n          style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n          animation=\"border\"\r\n        />\r\n      ) : <ShopsOverview userData={userData} shopData={shopData} />}\r\n    </>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\n// Login.js\r\nexport default ({shoppingCart = false, handleLogin}) => {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [middleName, setMiddleName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [passwordFirst, setPasswordFirst] = useState(\"\");\r\n  const [passwordSecond, setPasswordSecond] = useState(\"\");\r\n  const [passwordsMatch, setPasswordsMatch] = useState(false);\r\n  const [emailExists, setEmailExists] = useState(null);\r\n  const [phone, setPhone] = useState(\"\")\r\n\r\n  const [street, setStreet] = useState(\"\")\r\n  const [postal, setPostal] = useState(\"\")\r\n  const [city, setCity] = useState(\"\")\r\n\r\n  const handleSignUp = () => {\r\n    const fullName = middleName\r\n      ? firstName + \" \" + middleName + \" \" + lastName\r\n      : firstName + \" \" + lastName;\r\n    const address = `${street},${postal.toString()},${city}`\r\n    console.log(typeof phone, phone, typeof address, address )\r\n    axios\r\n      .post(`https://mas-vino.herokuapp.com/users/add-user`, {\r\n        userName: email,\r\n        password: passwordSecond,\r\n        fullName: fullName,\r\n        email: email,\r\n        phone: phone,\r\n        address: address\r\n      })\r\n      .then((res) => console.log(res.data))\r\n      .catch((err) => err && console.log(`Error: ${err}`))\r\n      .then(() => shoppingCart ? handleLogin() : window.location.reload());\r\n  };\r\n\r\n  const checkIfPasswordMeetsCriteria = () => {\r\n    if (\r\n      passwordFirst.search(/[0-9]/) !== -1 &&\r\n      passwordFirst.search(/[a-z]/) !== -1 &&\r\n      passwordFirst.search(/[A-Z]/) !== -1 &&\r\n      passwordFirst &&\r\n      passwordFirst.length > 7\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  const checkIfEmailInDatabase = () => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/users/email/${email}`)\r\n      .then((res) => setEmailExists(res.data))\r\n      .catch((err) => err && console.log(`Error: ${err}`));\r\n  };\r\n\r\n  const checkIfEmailMeetsCriteria = () => {\r\n    if (\r\n      email &&\r\n      emailExists === null &&\r\n      email.match(/[a-z]+[.]?[a-z]*[@][a-z]+[.][a-z]{1,5}/gi)\r\n    )\r\n      return \"\";\r\n    else if (email && email.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfNameMeetsCriteria = (name) => {\r\n    if (name && name.match(/^[a-z]+$/i)) return \"\";\r\n    else if (name && name.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfCityMeetsCriteria = () => {\r\n    if (city && city.match(/^[a-z]+$/i)) return \"\";\r\n    else if (city && city.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfStreetMeetsCriteria = () => {\r\n    if (street && street.match(/^[a-z ]+[0-9 ]+[/]{0,1}[a-z0-9 ]*$/i)) return \"\";\r\n    else if (street && street.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfPhoneMeetsCriteria = () => {\r\n    if (phone && phone.match(/^[+]?[0-9]{6,14}[0-9]$/)) return \"\";\r\n    else if (phone && phone.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfPostalMeetsCriteria = () => {\r\n    if (postal && postal.match(/^[0-9]{5}$/)) return \"\";\r\n    else if (postal && postal.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (passwordFirst && passwordSecond && passwordFirst === passwordSecond) setPasswordsMatch(true);\r\n    else setPasswordsMatch(false);\r\n  }, [passwordSecond]); //eslint-disable-line\r\n\r\n  return (\r\n    <SlideDown className={\"my-dropdown-slidedown\"}>\r\n      <Container>\r\n        <br />\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <h2>Sign up!</h2>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"firstName\">First Name:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                firstName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"firstName\"\r\n              value={firstName}\r\n              onChange={(e) =>\r\n                setFirstName(\r\n                  e.target.value &&\r\n                    e.target.value[0].toUpperCase() +\r\n                      e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"middleName\">Middle Name (Optional):</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                middleName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"middleName\"\r\n              value={middleName}\r\n              onChange={(e) =>\r\n                setMiddleName(\r\n                  e.target.value &&\r\n                    e.target.value[0].toUpperCase() +\r\n                      e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"lastName\">Last Name:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                lastName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"lastName\"\r\n              value={lastName}\r\n              onChange={(e) =>\r\n                setLastName(\r\n                  e.target.value &&\r\n                  e.target.value[0].toUpperCase() +\r\n                  e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"email\">E-mail:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfEmailMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              onBlur={checkIfEmailInDatabase}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"phone\">Phone:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfPhoneMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"phone\"\r\n              value={phone}\r\n              onChange={(e) => setPhone(e.target.value &&\r\n                (e.target.value).substring(0,16)\r\n                )}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"street\">Street and house no.:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfStreetMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"street\"\r\n              value={street}\r\n              onChange={(e) => setStreet(\r\n                e.target.value &&\r\n                e.target.value[0].toUpperCase() +\r\n                e.target.value.substring(1)\r\n              )}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"postal\">Postal:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfPostalMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"postal\"\r\n              value={postal}\r\n              onChange={(e) => setPostal(e.target.value && (e.target.value).substring(0,5))}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"city\">City:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfCityMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"city\"\r\n              value={city}\r\n              onChange={(e) => setCity(e.target.value)}\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"passwordFirst\">New Password:</label>\r\n            <input\r\n              className={`form-control text-center ${\r\n                !checkIfPasswordMeetsCriteria() && passwordFirst.length > 0\r\n                  ? \"invalid-input\"\r\n                  : \"\"\r\n              }`}\r\n              type=\"password\"\r\n              name=\"passwordFirst\"\r\n              value={passwordFirst}\r\n              onChange={(e) => setPasswordFirst(e.target.value)}\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"passwordSecond\">Repeat Password:</label>\r\n            <input\r\n              className=\"form-control text-center\"\r\n              type=\"password\"\r\n              name=\"passwordSecond\"\r\n              value={passwordSecond}\r\n              onChange={(e) => setPasswordSecond(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        {checkIfPasswordMeetsCriteria() ? null : (\r\n          <Row className=\"justify-content-md-center\">\r\n            <Col md={6} className=\"text-center mt-3\">\r\n              <em style={{ color: \"#7b1818\" }}>\r\n                Password must be at least 8 characters long and must contain one\r\n                lowercase, one uppercase character and one number.\r\n              </em>\r\n            </Col>\r\n          </Row>\r\n        )}\r\n\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-3\">\r\n            {emailExists && (\r\n              <>\r\n                <em style={{ color: \"#7b1818\" }}>\r\n                  This e-mail is already registered in our system!\r\n                </em>\r\n                <br />\r\n                <br />\r\n              </>\r\n            )}\r\n            {checkIfPasswordMeetsCriteria() && !passwordsMatch && (\r\n              <>\r\n                <em style={{ color: \"#7b1818\" }}>Passwords must match!</em>\r\n              </>\r\n            )}\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-3\">\r\n            {checkIfEmailMeetsCriteria() === \"\" &&\r\n            checkIfNameMeetsCriteria(firstName) === \"\" &&\r\n            checkIfNameMeetsCriteria(lastName) === \"\" &&\r\n            checkIfPasswordMeetsCriteria() &&\r\n            checkIfPhoneMeetsCriteria() === \"\" &&\r\n            checkIfStreetMeetsCriteria() === \"\" &&\r\n            checkIfPostalMeetsCriteria() === \"\" &&\r\n            checkIfCityMeetsCriteria() === \"\" &&\r\n            passwordsMatch &&\r\n            emailExists === null ? (\r\n              <Button onClick={handleSignUp} variant=\"dark\">\r\n                Sign up!\r\n              </Button>\r\n            ) : (\r\n              <Button disabled variant=\"dark\">\r\n                Sign up!\r\n              </Button>\r\n            )}\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </SlideDown>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport SignUp from \"./SignUp\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\n// Login.js\r\nexport default ({shoppingCart = false}) => {\r\n  const [signUp, setSignUp] = useState(\"display-none\");\r\n  const [hideButton, setHideButton] = useState(\"\");\r\n\r\n  const showSignUp = () => {\r\n    setSignUp(\"\");\r\n    setHideButton(\"display-none\");\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n        <SlideDown className={\"my-dropdown-slidedown\"}>\r\n        <br />\r\n        <Row>\r\n          <Col className=\"text-center\">\r\n            <h2>Sign in!</h2>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <form action={shoppingCart ? 'https://mas-vino.herokuapp.com/login?shopping=cart' : 'https://mas-vino.herokuapp.com/login'} method=\"post\">\r\n              <input\r\n                className=\"form-control text-center\"\r\n                type=\"text\"\r\n                placeholder=\"username\"\r\n                name=\"username\"\r\n              />\r\n              <br />\r\n              <input\r\n                className=\"form-control text-center\"\r\n                type=\"password\"\r\n                placeholder=\"password\"\r\n                name=\"password\"\r\n              />\r\n              <br />\r\n              <input\r\n                className=\"btn btn-dark\"\r\n                id=\"sub\"\r\n                type=\"submit\"\r\n                value=\"Sign in!\"\r\n              ></input>\r\n            </form>\r\n          </Col>\r\n        </Row>\r\n        <hr />\r\n        {!shoppingCart &&\r\n        <>\r\n          <div className={`${hideButton}`}>\r\n            <Row className={`justify-content-md-center`}>\r\n              <Col md={6} className=\"text-center mt-1\">\r\n                <Button onClick={showSignUp} variant=\"dark\">\r\n                  Hey, I am new here!\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n          <div className={`${signUp}`}>\r\n            <SignUp />\r\n          </div>\r\n        </>}\r\n      </SlideDown>\r\n    </Container>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\"\r\n\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nexport default ({ showAddItems, setShowAddItems, shopData }) => {\r\n  const [itemName, setItemName] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [imageLink, setImageLink] = useState(\"\");\r\n  const [canSaveItem, setCanSaveItem] = useState(false);\r\n  const [maxCount, setMaxCount] = useState('')\r\n  const [color, setColor] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [taste, setTaste] = useState(\"\");\r\n\r\n  const shopId = shopData._id;\r\n\r\n  const resetPropsOnHide = () => {\r\n    setImageLink(\"\")\r\n    setItemName(\"\")\r\n    setPrice(\"\")\r\n    setDescription(\"\")\r\n    setCanSaveItem(false)\r\n    setShowAddItems(false)\r\n  }\r\n\r\n  const getImage = (image) => {\r\n    try {\r\n      const img = require(`../../../../../src/uploads/${image.replace(/_/g, '-')}`);\r\n      return img;\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleSaveItem = () => {\r\n    if (imageLink && description && price && itemName && color) {\r\n      axios\r\n        .post(`https://mas-vino.herokuapp.com/shop/${shopId}/add-item`, {\r\n          itemName,\r\n          price,\r\n          description,\r\n          imageLink,\r\n          maxCount: maxCount,\r\n          color,\r\n          type,\r\n          taste\r\n        })\r\n        .then(() => setShowAddItems(false))\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n  };\r\n\r\n  const deleteFile = (file) => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/deleteFile/${shopId}`, {\r\n        params: file\r\n      })\r\n      .then(() => \r\n        {return}\r\n      )\r\n      .catch((err) => err && console.log(err));\r\n  };\r\n  useEffect(() => {\r\n    const isAlready = getImage(imageLink) ? getImage(imageLink) : imageLink;\r\n    if (isAlready && imageLink && description && price && itemName && color) {\r\n      setCanSaveItem(true);\r\n    }\r\n  }, [imageLink, description, price, itemName, color]);\r\n\r\n  // specify upload params and url for your files\r\n  const getUploadParams = ({ meta }) => {\r\n    return { url: `https://mas-vino.herokuapp.com/fileUpload/${shopId}` };\r\n  };\r\n\r\n  // called every time a file's `status` changes\r\n  const handleChangeStatus = ({ meta, file }, status) => {\r\n    if (status === \"removed\") {\r\n      deleteFile(meta);\r\n    }\r\n    if (status === \"done\") {\r\n      setImageLink(`${shopId}-${meta.name}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal show={showAddItems} onHide={() => resetPropsOnHide()}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Add an item to your shop.</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"shopName\">Name your item:</label>\r\n            <input\r\n              value={itemName}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"shopName\"\r\n              onChange={(e) => setItemName(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"price\">Price:</label>\r\n            <input\r\n              value={price}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"price\"\r\n              onChange={(e) => setPrice(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"color\">Farba:</label>\r\n            <input\r\n              value={color}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"color\"\r\n              placeholder=\"povinne\"\r\n              onChange={(e) => setColor(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"taste\">Chut:</label>\r\n            <input\r\n              value={taste}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"taste\"\r\n              onChange={(e) => setTaste(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"type\">Druh:</label>\r\n            <input\r\n              value={type}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"type\"\r\n              onChange={(e) => setType(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col>\r\n            <label htmlFor=\"sizes\">Maximalny pocet flias v jednej objednavke:</label>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col className=\"form-group\">\r\n          <InputGroup>\r\n              <input\r\n                value={maxCount}\r\n                className=\"form-control\"\r\n                type=\"number\"\r\n                name=\"sizes\"\r\n                onChange={(e) => setMaxCount(e.target.value)}\r\n                placeholder=\"Nechaj prazdne ak nieje hranica\"\r\n              />\r\n            </InputGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"description\">Description:</label>\r\n            <textarea\r\n              maxLength=\"230\"\r\n              value={description}\r\n              className=\"form-control\"\r\n              name=\"description\"\r\n              type=\"text\"\r\n              style={{ resize: \"none\", minHeight: \"100px\" }}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <br />\r\n        <SlideDown className={\"my-dropdown-slidedown\"}>\r\n        <Row>\r\n          <Col>\r\n            <Dropzone\r\n              maxFiles={1}\r\n              multiple={false}\r\n              canCancel={false}\r\n              getUploadParams={getUploadParams}\r\n              onChangeStatus={handleChangeStatus}\r\n              accept=\"image/*\"\r\n              inputContent={() => (\r\n                <p\r\n                  className=\"text-center\"\r\n                  key=\"label\"\r\n                  style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                >\r\n                  Drop or click to choose image.\r\n                  <br />\r\n                  <BsUpload />\r\n                </p>\r\n              )}\r\n              classNames={{\r\n                dropzone: \"dropzoning\"\r\n              }}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </SlideDown>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        {canSaveItem ? (\r\n          <Button variant=\"dark\" onClick={handleSaveItem}>\r\n            Save Item\r\n          </Button>\r\n        ) : (\r\n          <Button disabled variant=\"dark\">\r\n            Save Item\r\n          </Button>\r\n        )}\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Alert from \"react-bootstrap/Alert\"\r\n\r\nimport axios from \"axios\";\r\n\r\nimport AddItems from \"./AddItems\";\r\n\r\nimport { FiPlusSquare } from \"react-icons/fi\";\r\n\r\nimport ShowItem from './ShowItem'\r\n\r\nexport default ({ shopData, isOwner, userId }) => {\r\n  const [showAddItems, setShowAddItems] = useState(false);\r\n  const [shopItems, setShopItems] = useState(shopData.shopItems);\r\n  const [shouldReload, setShouldReload] = useState(false);\r\n  const [showAddedPopup, setShowAddedPopup] = useState(false)\r\n\r\n  const shopId = shopData._id\r\n\r\n  useEffect(() => {\r\n    if (!showAddItems) {\r\n      setShouldReload(!shouldReload);\r\n    }\r\n  }, [showAddItems]); //eslint-disable-line\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/shop/${shopId}`)\r\n      .then((res) => setShopItems(res.data.shopItems))\r\n      .catch((err) => err && console.log(err.data))\r\n      .then(() => {\r\n        return;\r\n      });\r\n  }, [shouldReload]); //eslint-disable-line\r\n\r\n  return (\r\n    <Container className=\"text-center\">\r\n      {showAddedPopup &&\r\n        <Alert style={{position: \"fixed\", top:56, right:0}} variant=\"success\" onClose={() => setShowAddedPopup(false)} dismissible>\r\n          <p>Item added to cart!</p>\r\n        </Alert>\r\n      }\r\n      {isOwner &&\r\n        <AddItems\r\n          shopData={shopData}\r\n          showAddItems={showAddItems}\r\n          setShowAddItems={setShowAddItems}\r\n        />}\r\n      <Row>\r\n        <ShowItem \r\n          shopItems={shopItems} \r\n          userId={userId} \r\n          shopId={shopId} \r\n          setShouldReload={setShouldReload}\r\n          shouldReload={shouldReload}\r\n          setShowAddedPopup={setShowAddedPopup}\r\n          isOwner={isOwner}\r\n          />\r\n        {isOwner && \r\n        <Col className=\"mt-2 mb-2\" md={6} lg={4} xl={3}>\r\n          <Card style={{height: '400px'}}>\r\n            <Button\r\n              variant=\"outline-dark\"\r\n              style={{ border: '0px', height: '100%'}}\r\n              onClick={() => setShowAddItems(true)}\r\n            >\r\n              <FiPlusSquare\r\n                style={{\r\n                  margin: \"0 auto\",\r\n                  fontSize: \"400%\"\r\n                }}\r\n              />\r\n            </Button>\r\n          </Card>\r\n        </Col>}\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\"\r\nimport Button from \"react-bootstrap/Button\"\r\nimport Alert from \"react-bootstrap/Alert\"\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\n\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport options from '../../../config/options';\r\nconst {MAX_HEIGHT_JUMBO} = options\r\n\r\n// CreateShop.js\r\nexport default ({ shopData, isOwner }) => {\r\n  let history = useHistory();\r\n  const url = shopData.url;\r\n  const [currentUrl, setCurrentUrl] = useState(url)\r\n  const [newUrl, setNewUrl] = useState(url)\r\n  const [isUrlAvailible, setIsUrlAvailible] = useState(true)\r\n  const [editMode, setEditMode] = useState(false)\r\n  const [shopName, setShopName] = useState(shopData.shopName)\r\n  const [error, setError] = useState('')\r\n  const [description, setDescription] = useState(shopData.description)\r\n  const [owner, setOwner] = useState(shopData.owner)\r\n  const [imageLink, setImageLink] = useState('');\r\n  const [overviewImage, setOverviewImage] = useState('');\r\n  const [showImageFromDb, setShowImageFromDb] = useState(shopData.imageLink ? shopData.imageLink : '')\r\n  const [localUploadingTitle, setLocalUploadingTitle] = useState(false)\r\n  const [localUploadingOverview, setLocalUploadingOverview] = useState(false)\r\n\r\n  const getImage = (image) => {\r\n    try {\r\n      const img = require(`../../../../../src/uploads/${image.replace(/_/g, '-')}`);\r\n      return img;\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // specify upload params and url for your files\r\n  const getUploadParams = ({ meta }) => {\r\n    return { url: `https://mas-vino.herokuapp.com/fileUpload/${shopData._id}` };\r\n  };\r\n\r\n  const deleteFile = (file) => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/deleteFile/${shopData._id}`, {\r\n        params: file\r\n      })\r\n      .then(() => \r\n        {return}\r\n      )\r\n      .catch((err) => err && console.log(err));\r\n  };\r\n\r\n  // called every time a file's `status` changes\r\n  const handleChangeStatus = ({ meta, file }, status) => {\r\n    if (status === \"removed\") {\r\n      deleteFile(meta);\r\n    }\r\n    if (status === \"done\") {\r\n      if (localUploadingTitle) {\r\n        setImageLink(`${shopData._id}-${meta.name.replace(/_/g,'-')}`);\r\n      } else if (localUploadingOverview) {\r\n        setOverviewImage(`${shopData._id}-${meta.name.replace(/_/g,'-')}`);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (imageLink) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/imageLink/${imageLink}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    } \r\n  }, [imageLink])\r\n\r\n  useEffect(() => {\r\n    if (overviewImage) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/overviewImage/${overviewImage}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    } \r\n  }, [overviewImage])\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/shop/link/${currentUrl}`)\r\n      .then((res) => {\r\n        if (res.data && currentUrl !== newUrl) setIsUrlAvailible(false)\r\n        else setIsUrlAvailible(true)\r\n      })\r\n      .catch((err) => err && console.log(err))\r\n  }, [currentUrl])\r\n\r\n  const handleError = (error) => {\r\n    console.log('Error connecting to the database: ', error)\r\n    setError('Chyba pri aktualizacii dat, data neboli upravene v databaze.')\r\n    return setTimeout(() => setError(''), 5000)\r\n  }\r\n\r\n  const handleUrlChange = () => {\r\n    if (isUrlAvailible) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/url/${currentUrl}`\r\n      )\r\n      .then((res) => {\r\n        return setNewUrl(currentUrl);\r\n      })\r\n      .catch((err) => err && handleError(err))\r\n      .then(() => history.push(`/${currentUrl}`))\r\n    }\r\n  }\r\n\r\n  const handleShopNameChange = () => {\r\n    if (shopName) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/shopName/${shopName}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    }\r\n  }\r\n\r\n  const handleDescriptionChange = () => {\r\n    if (description) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/description/${description}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    }\r\n  }\r\n\r\n  const handleOwnerChange = () => {\r\n    if (owner) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/owner/${owner}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    }\r\n  }\r\n\r\n  const handleLocalUploadingOverview = () => {\r\n    setLocalUploadingTitle(false)\r\n    setLocalUploadingOverview(true)\r\n  }\r\n\r\n  const handleLocalUploadingTitle = () => {\r\n    setLocalUploadingOverview(false)\r\n    setLocalUploadingTitle(true)\r\n  }\r\n\r\n  return (\r\n    <Jumbotron style={{background: `url(${getImage(showImageFromDb) ? getImage(showImageFromDb) : ''}) no-repeat`, backgroundSize: 'cover' }} fluid>\r\n      <Container className=\"text-center\">\r\n      {!editMode ?\r\n        <Row>\r\n          <Col>\r\n            <h2>{shopName}</h2>\r\n            <p>{description}</p>\r\n            <p>{owner}</p>\r\n            <p><a className=\"link-no-deco\" href={`http://localhost:3000/${currentUrl}`}>www.vimko.sk/{currentUrl}</a></p>\r\n          </Col>\r\n        </Row>\r\n        :\r\n        <>\r\n          <Row className=\"justify-content-center\">\r\n            <Col xs={8}>\r\n              <input \r\n                className={'form-control text-center'}\r\n                value={shopName} \r\n                onChange={(e) => setShopName(e.target.value)} \r\n                onBlur={handleShopNameChange}\r\n                name=\"shopName\"\r\n                placeholder=\"Nazov\"\r\n              />\r\n              <textarea \r\n                style={{minHeight: '100px'}}\r\n                className={'form-control text-center'}\r\n                value={description} \r\n                onChange={(e) => setDescription(e.target.value)} \r\n                onBlur={handleDescriptionChange}\r\n                name=\"description\"\r\n                placeholder=\"Popis\"\r\n              />\r\n              <input \r\n                className={'form-control text-center'}\r\n                value={owner} \r\n                onChange={(e) => setOwner(e.target.value)} \r\n                onBlur={handleOwnerChange}\r\n                name=\"owner\"\r\n                placeholder=\"Majitel\"\r\n              />\r\n              <div>\r\n                <InputGroup>\r\n              <p style={{marginRight: 10, marginTop: 5}}>www.vimko.sk/</p>\r\n                  <input \r\n                    className={isUrlAvailible ? 'form-control text-center' : 'text-center form-control invalid-input'}\r\n                    value={currentUrl} \r\n                    onChange={(e) => setCurrentUrl(e.target.value)} \r\n                    name=\"currentUrl\"\r\n                    onBlur={handleUrlChange}\r\n                  />\r\n                </InputGroup>\r\n                {!isUrlAvailible && <p style={{color: \"red\"}}>Adresa uz existuje, vyberte prosim inu.</p>}\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"justify-content-md-center\">\r\n            <Col className=\"text-center\">\r\n              <Button variant=\"dark\" onClick={() => handleLocalUploadingTitle()}>Upload title image</Button>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;\r\n              <Button variant=\"dark\" onClick={() => handleLocalUploadingOverview()}>Upload overview image</Button>\r\n            </Col>\r\n          </Row>\r\n        </>\r\n        }\r\n        {((localUploadingTitle || localUploadingOverview) && editMode) ? \r\n        <SlideDown className={\"my-dropdown-slidedown\"}>\r\n        <Row>\r\n          <Col>\r\n            <Dropzone\r\n              maxFiles={1}\r\n              multiple={false}\r\n              canCancel={false}\r\n              getUploadParams={getUploadParams}\r\n              onChangeStatus={handleChangeStatus}\r\n              accept=\"image/*\"\r\n              inputContent={() => (\r\n                <p\r\n                  className=\"text-center\"\r\n                  key=\"label\"\r\n                  style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                >\r\n                  Drop or click to choose {localUploadingTitle ? 'title' : 'overview'} image.\r\n                  <br />\r\n                  <BsUpload />\r\n                </p>\r\n              )}\r\n              classNames={{\r\n                dropzone: \"dropzoning\"\r\n              }}\r\n            />\r\n          </Col>\r\n        </Row></SlideDown> : null\r\n        }\r\n        {isOwner &&\r\n        <Row className=\"mt-4\">\r\n          <Col>\r\n            <Alert style={{display: `${error ? 'block' : 'none'}`}} variant=\"danger\">{error}</Alert>\r\n            {isUrlAvailible ? \r\n            <Button onClick={() => setEditMode(editMode ? false : true)} variant=\"dark\">{editMode ? 'Hotovo' : 'Upravit'}</Button> :\r\n            <Button disabled onClick={() => setEditMode(editMode ? false : true)} variant=\"dark\">{editMode ? 'Hotovo' : 'Upravit'}</Button>}\r\n          </Col>\r\n        </Row>}\r\n      </Container>\r\n    </Jumbotron>\r\n  );\r\n};","import React from \"react\";\r\n\r\nimport ShopItems from \"./ViewShop/ShopItems\";\r\nimport ShopJumbotron from \"./ViewShop/ShopJumbotron\";\r\n\r\n// CreateShop.js\r\nexport default ({ shopData, isOwner, userId }) => {\r\n  return (\r\n    <>\r\n      <ShopJumbotron shopData={shopData} isOwner={isOwner} />\r\n      <ShopItems shopData={shopData} isOwner={isOwner} userId={userId} />\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\"\r\n\r\nimport ViewShop from \"../ViewShop\"\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\nexport default ({userId, isOwner}) => {\r\n    const {shopUrl} = useParams()\r\n    const [isUrlAvailible, setIsUrlAvailible] = useState(true)\r\n    const [shopData, setShopData] = useState({})\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        axios.get(`https://mas-vino.herokuapp.com/shop/link/${shopUrl}`)\r\n            .then((res) => res.data ? setShopData(res.data) : setShopData({}))\r\n            .catch((err) => err && console.log(err))\r\n            .then(() => {\r\n                if (shopData._id) setIsUrlAvailible(false)\r\n                setLoading(false)\r\n            })\r\n    }, [])\r\n\r\n    return (\r\n        loading ? \r\n        <Spinner\r\n          style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n          animation=\"border\"\r\n        /> :\r\n        isUrlAvailible && shopData._id ? \r\n        <ViewShop shopData={shopData} isOwner={isOwner} userId={userId} /> :\r\n        <h5 style={{ marginTop: \"20%\" }} className=\"text-center\">No shop found. The url http://localhost:3000/{shopUrl} is still available.</h5>\r\n        \r\n    )\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\n// Login.js\r\nexport default ({setUserInformation}) => {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [middleName, setMiddleName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\")\r\n\r\n  const [street, setStreet] = useState(\"\")\r\n  const [postal, setPostal] = useState(\"\")\r\n  const [city, setCity] = useState(\"\")\r\n\r\n  const handleSignUp = () => {\r\n    const fullName = middleName\r\n      ? firstName + \" \" + middleName + \" \" + lastName\r\n      : firstName + \" \" + lastName;\r\n    const address = `${street},${postal.toString()},${city}`\r\n    return setUserInformation({ fullName, email, phone, address })\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log('check')\r\n    if (\r\n      checkIfEmailMeetsCriteria() === \"\" &&\r\n      checkIfNameMeetsCriteria(firstName) === \"\" &&\r\n      checkIfNameMeetsCriteria(lastName) === \"\" &&\r\n      checkIfPhoneMeetsCriteria() === \"\" &&\r\n      checkIfStreetMeetsCriteria() === \"\" &&\r\n      checkIfPostalMeetsCriteria() === \"\" &&\r\n      checkIfCityMeetsCriteria() === \"\"\r\n    ) {\r\n      handleSignUp()\r\n    } else {\r\n      setUserInformation('')\r\n    }\r\n  }, [firstName, lastName, email, street, city, postal, phone])\r\n\r\n  const checkIfEmailMeetsCriteria = () => {\r\n    if (\r\n      email &&\r\n      email.match(/[a-z]+[.]?[a-z]*[@][a-z]+[.][a-z]{1,5}/gi)\r\n    )\r\n      return \"\";\r\n    else if (email && email.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfNameMeetsCriteria = (name) => {\r\n    if (name && name.match(/^[a-z]+$/i)) return \"\";\r\n    else if (name && name.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfCityMeetsCriteria = () => {\r\n    if (city && city.match(/^[a-z]+$/i)) return \"\";\r\n    else if (city && city.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfStreetMeetsCriteria = () => {\r\n    if (street && street.match(/^[a-z ]+[0-9 ]+[/]{0,1}[a-z0-9 ]*$/i)) return \"\";\r\n    else if (street && street.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfPhoneMeetsCriteria = () => {\r\n    if (phone && phone.match(/^[+]?[0-9]{6,14}[0-9]$/)) return \"\";\r\n    else if (phone && phone.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfPostalMeetsCriteria = () => {\r\n    if (postal && postal.match(/^[0-9]{5}$/)) return \"\";\r\n    else if (postal && postal.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  return (\r\n    <SlideDown className={\"my-dropdown-slidedown\"}>\r\n      <Container>\r\n        <br />\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"firstName\">First Name:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                firstName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"firstName\"\r\n              value={firstName}\r\n              onChange={(e) =>\r\n                setFirstName(\r\n                  e.target.value &&\r\n                    e.target.value[0].toUpperCase() +\r\n                      e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"middleName\">Middle Name (Optional):</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                middleName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"middleName\"\r\n              value={middleName}\r\n              onChange={(e) =>\r\n                setMiddleName(\r\n                  e.target.value &&\r\n                    e.target.value[0].toUpperCase() +\r\n                      e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"lastName\">Last Name:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                lastName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"lastName\"\r\n              value={lastName}\r\n              onChange={(e) =>\r\n                setLastName(\r\n                  e.target.value &&\r\n                  e.target.value[0].toUpperCase() +\r\n                  e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"email\">E-mail:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfEmailMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"phone\">Phone:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfPhoneMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"phone\"\r\n              value={phone}\r\n              onChange={(e) => setPhone(e.target.value &&\r\n                (e.target.value).substring(0,16)\r\n                )}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"street\">Street and house no.:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfStreetMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"street\"\r\n              value={street}\r\n              onChange={(e) => setStreet(\r\n                e.target.value &&\r\n                e.target.value[0].toUpperCase() +\r\n                e.target.value.substring(1)\r\n              )}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"postal\">Postal:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfPostalMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"postal\"\r\n              value={postal}\r\n              onChange={(e) => setPostal(e.target.value && (e.target.value).substring(0,5))}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"city\">City:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfCityMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"city\"\r\n              value={city}\r\n              onChange={(e) => setCity(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-3\">\r\n            \r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </SlideDown>\r\n  );\r\n};\r\n","import React, { useEffect, useState, useRef } from \"react\"\r\nimport axios from 'axios'\r\nimport { nanoid } from 'nanoid'\r\n\r\nimport Row from 'react-bootstrap/Row'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Image from 'react-bootstrap/Image'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\nimport PlaceOrder from './PlaceOrder'\r\nimport SignUp from '../Login/SignUp'\r\nimport Login from '../Login/Login'\r\nimport PayGate from './PayGate'\r\n\r\nexport default ({userId}) => {\r\n    const lastRef = useRef(null)\r\n    const [shops, setShops] = useState('')\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [userInformation, setUserInformation] = useState('')\r\n    const [login, setLogin] = useState(false)\r\n    const [registration, setRegistration] = useState(false)\r\n    const [shipmentOnly, setShipmentOnly] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n    const [orderId, setOrderId] = useState(nanoid())\r\n    const [passOrderInfo, setPassOrderInfo] = useState({})\r\n    const [paymentPopup, setPaymentPopup] = useState(false)\r\n\r\n    const executeScroll = () => lastRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' })   \r\n \r\n    const sortItems = (cartItems) => {\r\n        let sortShop = []\r\n        for (let cartItem of cartItems) {\r\n            axios.get(`https://mas-vino.herokuapp.com/shop/${cartItem.shopId}`)\r\n                .then((res) => {\r\n                    const { shopName, owner } = res.data\r\n                    const itemsArr = res.data.shopItems\r\n                    const { count, itemId } = cartItem\r\n                    const findItem = itemsArr.find(el => el._id === cartItem.itemId)\r\n                    if (findItem === undefined) {\r\n                        axios.post(`https://mas-vino.herokuapp.com/users/${userId}/cart/delete-cart-item/${cartItem.shopId}/${cartItem.itemId}`)\r\n                            .then((res) => console.log(res))\r\n                            .catch(err => err && console.log('could not delete item', err))\r\n                    } else {\r\n                        const { itemName, price, imageLink } = findItem\r\n                        const index = sortShop.findIndex(el => el.shopId === cartItem.shopId)\r\n                        if (index >= 0) {\r\n                            const prevItems = sortShop[index].itemData\r\n                            const isInCart = prevItems.findIndex(el => el.itemId === itemId)\r\n                            if (isInCart !== -1) {\r\n                                const prevCount = sortShop[index].itemData[isInCart].count\r\n                                sortShop[index].itemData[isInCart].count = Number(count) + Number(prevCount)\r\n                            } else {\r\n                                sortShop[index].itemData = [...prevItems, {itemId, itemName, price, imageLink, count}]\r\n                            }\r\n                        } else {\r\n                            const newShopId = cartItem.shopId\r\n                            sortShop = [...sortShop, {shopId: newShopId, shopName, owner, itemData: [{itemId, itemName, price, imageLink, count}]}]\r\n                        }\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    if (err) return console.log(err)\r\n                })\r\n                .then(() => setShops([...sortShop]))\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setLoading(true)\r\n        const localShoppingCart = localStorage.getItem('shoppingCart')\r\n        if (userId) {\r\n            const parsedShoppingCart = localShoppingCart ? JSON.parse(localShoppingCart) : []\r\n            if (parsedShoppingCart.length !== 0) {\r\n                const addItemsToShoppingCartFromLocal = async () => {\r\n                    for (let cartItem of parsedShoppingCart) {\r\n                        const {shopId, itemId, count} = cartItem\r\n                        console.log('importing item ', itemId)\r\n                        await axios\r\n                            .post(`https://mas-vino.herokuapp.com/users/${userId}/cart/add-cart-item/${shopId}/${itemId}`, {\r\n                                shopId, itemId, count\r\n                            })\r\n                            .then((res) => console.log(res))\r\n                            .catch(err => err && console.log(err))\r\n                    }\r\n                    localStorage.removeItem('shoppingCart')\r\n                    console.log('Importing done.')\r\n                }\r\n                addItemsToShoppingCartFromLocal()\r\n            }\r\n            axios\r\n                .get(`https://mas-vino.herokuapp.com/users/${userId}`)\r\n                .then((res) => {\r\n                    if (res.data) {\r\n                        const {shoppingCart, fullName, email, phone, address} = res.data\r\n                        sortItems([...shoppingCart, ...parsedShoppingCart])\r\n                        setUserInformation({ fullName, email, phone, address })\r\n                    }\r\n                })\r\n                .catch(err => err && console.log(err))\r\n        } else {\r\n            const localShoppingCart = localStorage.getItem('shoppingCart')\r\n            localShoppingCart && sortItems(JSON.parse(localShoppingCart))\r\n        }\r\n        setLoading(false)\r\n    }, [refresh])\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n          const img = require(`../../../../src/uploads/${image.replace(/_/g, '-')}`);\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    const removeItemFromCart = (e, itemId, shopId) => {\r\n        if (userId) {\r\n            axios.post(`https://mas-vino.herokuapp.com/users/${userId}/cart/delete-cart-item/${shopId}/${itemId}`)\r\n                .then((res) => console.log(res))\r\n                .catch(err => err && console.log('could not delete item', err))\r\n                .then(() => setRefresh(!refresh)) \r\n            if (shops.length === 1) setShops('')\r\n        } else {\r\n            const localShoppingCart = JSON.parse(localStorage.getItem('shoppingCart'))\r\n            const newLocalShoppingCart = localShoppingCart.filter(item => item.itemId !== itemId)\r\n            localStorage.removeItem('shoppingCart')\r\n            console.log(newLocalShoppingCart, shops)\r\n            if (newLocalShoppingCart.length !== 0) {\r\n                localStorage.setItem('shoppingCart', JSON.stringify(newLocalShoppingCart))\r\n            } else {\r\n                setShops('')\r\n            }\r\n            setRefresh(!refresh)\r\n        }\r\n    }\r\n\r\n    const showItemData = (itemData, shopId) => {\r\n        const outputData = itemData.map((item, i) => {\r\n            return (\r\n                <Col data-id={`${item.itemId}`} md={3} xs={6} lg={2} key={`${item.itemId}`} style={{textAlign: \"center\"}}>\r\n                    <Image src={getImage(item.imageLink) ? getImage(item.imageLink) : ''} rounded style={{height:75}} />\r\n                    <h6>{item.itemName}</h6>\r\n                    <p>\r\n                    Count: {item.count}<br />\r\n                    {item.price} €</p>\r\n                    <Button style={{position: 'absolute', right: \"20%\", top: 0}} onClick={(e) => removeItemFromCart(e, item.itemId, shopId)} variant=\"danger\" size=\"sm\">X</Button>\r\n                </Col>\r\n            )\r\n        })\r\n        return outputData\r\n    }\r\n\r\n    const getTotalPrice = (itemData) => {\r\n        let total = 0\r\n        for (let item of itemData) {\r\n            total += Number((item.price).replace(/,/g,\".\"))*item.count\r\n        }\r\n        return total\r\n    }\r\n\r\n    const showCartItems = () => {\r\n        return shops.sort().map(shop => {\r\n            return (\r\n                <Row key={shop.shopId} style={{marginBottom: \"15px\"}}>\r\n                    <Col style={{marginBottom: \"50px\"}} xs={12}>\r\n                        <hr />\r\n                        <div style={{display: \"flex\", justifyContent:\"space-between\"}}>\r\n                            <div>\r\n                                <h4>{shop.shopName}</h4>\r\n                            </div>\r\n                            <div className=\"text-right\">\r\n                                <h5>Suma: {(getTotalPrice(shop.itemData)).toFixed(2).toString().replace(/\\./g,',')} €</h5>\r\n                            </div>\r\n                        </div>\r\n                    </Col>\r\n                    {showItemData(shop.itemData, shop.shopId)}\r\n                </Row>\r\n            )\r\n        })\r\n    }\r\n\r\n    const createNewOrder = () => {\r\n        let result = 0\r\n        shops.map(shop => (shop.itemData).map(item => result += (Number((item.price).replace(/,/g,\".\"))*item.count)))\r\n        console.log(shops, userId, result, nanoid(), userInformation)\r\n        const total = result\r\n        const status = 'vytvorena'\r\n        setPassOrderInfo({ orderId, userInformation, userId, shops, total, status })\r\n        setPaymentPopup(true)\r\n        axios.post(`https://mas-vino.herokuapp.com/orders/add`, { orderId, userInformation, userId, shops, total, status })\r\n            .then(res => {\r\n                return\r\n            })\r\n            .catch(err => err && console.log(err))\r\n    }\r\n\r\n    const handleRegistration = () => {\r\n        setTimeout(() => executeScroll(),500)\r\n        setLogin(false)\r\n        setShipmentOnly(false)\r\n        setRegistration(true)\r\n    }\r\n\r\n    const handleShipmentOnly = () => {\r\n        setTimeout(() => executeScroll(),500)\r\n        setLogin(false)\r\n        setRegistration(false)\r\n        setShipmentOnly(true)\r\n    }\r\n\r\n    const handleLogin = () => {\r\n        setTimeout(() => executeScroll(),500)\r\n        setRegistration(false)\r\n        setShipmentOnly(false)\r\n        setLogin(true)\r\n    }\r\n\r\n\r\n    const showTotalCartPrice = () => {\r\n        let result = 0\r\n        shops.map(shop => (shop.itemData).map(item => result += (Number((item.price).replace(/,/g,\".\"))*item.count)))\r\n        return (\r\n            <Col>\r\n                <h3>Finalna suma: {result.toFixed(2).toString().replace(/\\./g,',')} €</h3>\r\n            </Col>\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n        return console.log(userInformation)\r\n    }, [userInformation])\r\n\r\n    return (\r\n        <Container style={{paddingTop: \"50px\"}}>\r\n            { passOrderInfo && paymentPopup &&\r\n                <PayGate orderInfo={passOrderInfo} setPaymentPopup={setPaymentPopup} paymentPopup={paymentPopup} />\r\n            }\r\n            {loading ? \r\n                <Spinner\r\n                    style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n                    animation=\"border\"\r\n                /> : \r\n            (shops && showCartItems())}\r\n            <Row className=\"text-center\">\r\n                <Col>\r\n                    {(!userInformation && shops ) &&\r\n                        <p>\r\n                            <Button onClick={() => handleRegistration()} variant=\"dark\">Dorucovacie udaje s registraciou</Button>\r\n                            &nbsp;&nbsp;\r\n                            <Button onClick={() => handleLogin()} variant=\"dark\">Mam ucet a chcem sa prihlasit</Button>\r\n                            &nbsp;&nbsp;\r\n                            <Button onClick={() => handleShipmentOnly()} variant=\"dark\">Dorucovacie udaje bez registracie</Button>\r\n                        </p>\r\n                    }\r\n                </Col>\r\n            </Row>\r\n            <Row className=\"text-center\">\r\n                {login && <Login shoppingCart={true} />}\r\n                {registration && <SignUp shoppingCart={true} handleLogin={handleLogin} />}\r\n                {shipmentOnly && <PlaceOrder setUserInformation={setUserInformation} />}\r\n            </Row>\r\n            <Row className=\"text-center\">\r\n                <br />\r\n                <br />\r\n                {shops && showTotalCartPrice()}\r\n            </Row>\r\n            <Row className=\"text-center\">\r\n                <Col>\r\n                    {userInformation && shops ?\r\n                        <Button ref={lastRef} onClick={() => createNewOrder()} variant=\"dark\">Prejst k platbe</Button>\r\n                    :\r\n                    <>  \r\n                        {!shops && \r\n                            <>\r\n                                <h4>Nakupny kosik je momentalne prazdny.</h4>\r\n                                <br />\r\n                                <br />\r\n                            </>\r\n                        }\r\n                        <Button disabled variant=\"dark\">Prejst k platbe</Button>\r\n                    </>\r\n                }\r\n                </Col>\r\n            </Row>\r\n            <br />\r\n            <div ref={lastRef}></div>\r\n        </Container>\r\n    )\r\n}","import React, {useEffect, useState} from 'react';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\n\r\nimport Table from 'react-bootstrap/Table'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\n\r\nexport default ({userId, isOwner}) => {\r\n    const [ordersData, setOrdersData] = useState([])\r\n    const [shippedObj, setShippedObj] = useState({})\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [expandedObj, setExpandedObj] = useState({})\r\n\r\n    // TODO: pridat moznost znovu zaplatit pri rejected order\r\n\r\n    useEffect(() => {\r\n        axios.get(`https://mas-vino.herokuapp.com/orders`)\r\n            .then(res => {\r\n                const result = res.data\r\n                const validatedOrdersData = isOwner ? result : result.filter(obj => obj.userId === userId)\r\n                setOrdersData(validatedOrdersData)\r\n            })\r\n            .catch(err => err && console.log(err.data))\r\n    }, [])\r\n\r\n    const handleShipping = (e, _id) => {\r\n        e.stopPropagation()\r\n        const newVal = e.target.checked\r\n        let newObj = {}\r\n        let expandObj = {}\r\n\r\n        newObj[_id] = newVal\r\n        setShippedObj({...shippedObj, ...newObj})\r\n\r\n        const oldValue = expandedObj[_id] ?? false\r\n        expandObj[_id] = oldValue\r\n        setExpandedObj({...expandedObj, ...expandObj})\r\n\r\n        axios.put(`https://mas-vino.herokuapp.com/orders/${_id}/update-shipped/`, {isShipped: newVal})\r\n            .then(res => console.log(res.data))\r\n            .catch(err => err && console.log(err))\r\n            .then(() => setRefresh(!refresh))\r\n    }\r\n\r\n    const handleExpanded = (_id) => {\r\n        let newObj = {}\r\n        const oldValue = expandedObj[_id] ?? false\r\n        newObj[_id] = !oldValue\r\n        setExpandedObj({...expandedObj, ...newObj})\r\n    }\r\n\r\n    const ShowItemDataForOrder = ({passItemData}) => {\r\n        let shopTotal = 0\r\n        return passItemData.map((item, i) => {\r\n            const { itemName, price, count, itemId } = item\r\n            shopTotal += (count * Number(price.replace(/,/g, '.')))\r\n            return (\r\n                <React.Fragment key={itemId}>\r\n                    <Col style={{border: '1px solid #cccccc'}} md={3}>\r\n                        ({count}) <strong>{itemName}</strong>, {price}€\r\n                    </Col>\r\n                    {!passItemData[i+1] && \r\n                        <Col className=\"text-center\" style={{border: '1px solid #cccccc', backgroundColor: \"rgb(245, 245, 245)\"}} md={2} order={12}>\r\n                            <h6 >spolu: <strong>{shopTotal.toFixed(2).toString().replace(/\\./g, ',')} €</strong></h6>\r\n                        </Col>\r\n                    }\r\n                </React.Fragment>\r\n            )\r\n        })\r\n    }\r\n\r\n\r\n    const ShowOrderDetails = ({passShops}) => {\r\n        return passShops.map((shop, i) => {\r\n            const { shopName, itemData, shopId } = shop\r\n            return (\r\n                <Container key={shopId} fluid>\r\n                    <Row>\r\n                        <Col md={2}><h5>{shopName}:</h5></Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <ShowItemDataForOrder passItemData={itemData} />\r\n                    </Row>\r\n                    {passShops[i+1] && \r\n                    <hr />}\r\n                </Container>\r\n            )\r\n        })\r\n    }\r\n\r\n    const ShowBuyerDetails = ({passUserInformation, buyerId}) => {\r\n        const { fullName, email, phone, address, iban } = passUserInformation\r\n        return (\r\n            <div className=\"text-center\" key={buyerId}>\r\n                <Row>\r\n                    <Col md={{span: 2, offset: 1}}><strong>{fullName}</strong></Col>\r\n                    <Col md={2}><strong>{phone}</strong></Col>\r\n                    <Col md={3}><strong>{address}</strong></Col>\r\n                    <Col md={{span: 3}}><strong>{iban ?? 'IBAN NENAJDENY'}</strong></Col>\r\n                </Row>\r\n                <hr />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const ShowOrders = () => {\r\n        return ordersData.map(order => {\r\n            const { _id, orderId, userInformation, createdAt, status, shops, isShipped, total, userId: buyerId } = order\r\n            const { email } = userInformation\r\n            const statusColor = status === 'vytvorena' ? 'orange' : status === 'zaplatena' ? 'green' : status === 'odmietnuta' ? 'red' : 'black';\r\n            return (\r\n                <tbody key={orderId}>\r\n                    <tr onClick={() => handleExpanded(_id)}>\r\n                        <td>{orderId}</td>\r\n                        <td>{email}</td>\r\n                        <td>{moment(createdAt).format(\"DD MMM YYYY, HH:mm:ss\")}</td>\r\n                        <td>{total.toFixed(2).toString().replace(/\\./g,',')} €</td>\r\n                        <td style={{color: statusColor}}>{(shippedObj[_id] ?? isShipped) ? <em style={{color: 'blue', float:'left'}}>odoslana</em> : status}\r\n                            {status === 'zaplatena' && isOwner &&\r\n                            <input \r\n                                style={{\r\n                                    float: 'right', \r\n                                    cursor: 'pointer',\r\n                                    paddingBottom: '-50px'\r\n                                }}\r\n                                type='checkbox'\r\n                                name='checkShipping'\r\n                                checked={shippedObj[_id] ?? isShipped}\r\n                                onChange={(e) => handleShipping(e, _id)}\r\n                            />}\r\n                        </td>\r\n                    </tr>\r\n                    {expandedObj[_id] &&\r\n                    <tr style={{backgroundColor: status === 'zaplatena' ? '#f4fff4' : status === 'odmietnuta' ? '#ffecec' : 'rgb(250, 250, 250)' }}>\r\n                        <td colSpan=\"5\">\r\n                            <ShowBuyerDetails passUserInformation={userInformation} buyerId={buyerId} />\r\n                            <ShowOrderDetails passShops={shops} />\r\n                        </td>    \r\n                    </tr>}\r\n                </tbody>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Table striped bordered hover>\r\n            <thead>\r\n                <tr>\r\n                    <th>ID</th>\r\n                    <th>Email</th>\r\n                    <th>Datum</th>\r\n                    <th>Total</th>\r\n                    <th>Stav</th>\r\n                </tr>\r\n            </thead>\r\n            <ShowOrders />\r\n        </Table>    \r\n    )\r\n}","import React, {useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\n\r\nconst useQuery = () => {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default ({userId}) => {\r\n    let query = useQuery();\r\n    const orderId = query.get('Reference')\r\n    const result = query.get('ResultCode')\r\n    const paymentId = query.get('PaymentRequestId')\r\n\r\n    useEffect(() => {\r\n        if (orderId.length !== 0) {\r\n            axios.post(`https://mas-vino.herokuapp.com/orders/${orderId}/process-payment/`, {paymentResultCode: result, paymentId})\r\n                .then(res => console.log(res.data))\r\n                .catch(err => err && console.log(err))\r\n                .then(() => {\r\n                    if (userId) {\r\n                        axios.get(`https://mas-vino.herokuapp.com/users/${userId}/cart/clear-cart`)\r\n                            .then(res => console.log(res.data))\r\n                            .catch(error => error && console.log(error))\r\n                    }\r\n                    localStorage.removeItem('shoppingCart')\r\n                })\r\n            \r\n        }\r\n    }, [])\r\n    \r\n    return (\r\n        <p className=\"text-center\">Platba za objednavku cislo {orderId} bola prijata. <br/>Cislo platby {paymentId}</p>\r\n    )\r\n}","import React, {useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst useQuery = () => {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default ({userId}) => {\r\n    let query = useQuery();\r\n    const orderId = query.get('Reference')\r\n    const paymentId = query.get('PaymentRequestId')\r\n    \r\n    return (\r\n        <p className=\"text-center\" style={{color:'red'}}>Platba za objednavku cislo {orderId} nepresla. <br/>Referencne cislo platby {paymentId}</p>\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\n\r\nimport ShowItem from '../Shop/ViewShop/ShowItem';\r\n\r\nimport Row from 'react-bootstrap/Row'\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\n//Shop.js\r\nexport default ({ userData, shopData }) => {\r\n  const [showAddedPopup, setShowAddedPopup] = useState(false)\r\n  const {userId} = userData\r\n\r\n  const ShowWines = () => {\r\n    return shopData.map((shop,i) => {\r\n      const {shopItems, url, shopId} = shop\r\n      return (\r\n        <ShowItem key={`${shopId}-${i}`} shopItems={shopItems} url={url} shopId={shopId} userId={userId} setShouldReload={false} shouldReload={false} setShowAddedPopup={setShowAddedPopup} isOwner={false} />\r\n      )\r\n    })\r\n  }\r\n  \r\n  return (\r\n    <Container>\r\n      <Row className=\"text-center\">\r\n        <ShowWines />\r\n      </Row>\r\n    </Container>\r\n  );\r\n};","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport WineOverview from \"./WineOverview\";\r\n\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\n//Shop.js\r\nexport default ({ userData }) => {\r\n  const [shopData, setShopData] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/shop/`)\r\n      .then((res) => setShopData(res.data ? res.data : {}))\r\n      .catch((err) => {\r\n        if (err) return console.log(`Fetch error: ${err}`);\r\n      })\r\n      .then(() => setLoading(false));\r\n  }, []); //eslint-disable-line\r\n  return (\r\n    <><br/>\r\n      {loading ? (\r\n        <Spinner\r\n          style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n          animation=\"border\"\r\n        />\r\n      ) : <WineOverview userData={userData} shopData={shopData} />}\r\n    </>\r\n  );\r\n};","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nexport default ({eventPopup, setEventPopup, refresh, setRefresh}) => {\r\n    const [startDate, setStartDate] = useState(new Date());\r\n\r\n    const [name, setName] = useState('')\r\n    const [idFromName, setIdFromName] = useState('')\r\n    const [link, setLink] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [imageLink, setImageLink] = useState('')\r\n    const [where, setWhere] = useState('')\r\n    const [when, setWhen] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (name) {\r\n            const setNewId = name.replace(/\\s/g, '-').toLowerCase()\r\n            setIdFromName(setNewId)\r\n        }\r\n    }, [name])\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${idFromName}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${idFromName}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${idFromName}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setWhen(moment(startDate).format('DD.MM.YYYY, HH:mm'))\r\n    },[startDate])\r\n\r\n    const handleSave = () => {\r\n        axios.post(`https://mas-vino.herokuapp.com/events/add`, {name, link, description, imageLink, where, when})\r\n            .then(res => {\r\n                setRefresh(!refresh)\r\n                setEventPopup(false)\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n    \r\n    return (\r\n        <Modal show={eventPopup} onHide={() => setEventPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"name\">Nazov udalosti:</label>\r\n                        <input \r\n                            name=\"name\"\r\n                            className=\"form-control text-center\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"povinne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"where\">Miesto udalosti:</label>\r\n                        <input \r\n                            name=\"where\"\r\n                            className=\"form-control text-center\"\r\n                            value={where}\r\n                            onChange={(e) => setWhere(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"link\">Externy link udalosti:</label>\r\n                        <input \r\n                            name=\"link\"\r\n                            className=\"form-control text-center\"\r\n                            value={link}\r\n                            onChange={(e) => setLink(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        Cas a datum udalosti (povinne): <strong>{when}</strong>\r\n                        <br /><br />\r\n                        Vyber: <DatePicker showTimeSelect selected={startDate} onChange={date => setStartDate(date)} />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"200px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {name &&\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok udalosti. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(name && description && imageLink && when) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Pridat\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Pridat\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setEventPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n        )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nexport default ({eventPopup, setEventPopup, refresh, setRefresh, eventData}) => {\r\n    const [startDate, setStartDate] = useState(moment(eventData.when, 'DD.MM.YYYY, HH:mm').valueOf());\r\n\r\n    const [name, setName] = useState(eventData.name)\r\n    const [idFromName, setIdFromName] = useState(eventData.idFromName)\r\n    const [link, setLink] = useState(eventData.link)\r\n    const [description, setDescription] = useState(eventData.description)\r\n    const [imageLink, setImageLink] = useState(eventData.imageLink)\r\n    const [where, setWhere] = useState(eventData.where)\r\n    const [when, setWhen] = useState(eventData.when)\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            console.log(image)\r\n          const img = require(`../../../../src/uploads/${image.replace(/_/g, '-')}`);\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (name) {\r\n            const setNewId = name.replace(/\\s/g, '-').toLowerCase()\r\n            setIdFromName(setNewId)\r\n        }\r\n    }, [name])\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${idFromName}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${idFromName}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${idFromName}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setWhen(moment(startDate).format('DD.MM.YYYY, HH:mm'))\r\n    },[startDate])\r\n\r\n    const handleSave = () => {\r\n        axios.post(`https://mas-vino.herokuapp.com/events/update-event/${eventData._id}`, {name, link, description, imageLink, where, when})\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setRefresh(!refresh)\r\n                setEventPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n    \r\n    return (\r\n        <Modal show={eventPopup} onHide={() => setEventPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"name\">Nazov udalosti:</label>\r\n                        <input \r\n                            name=\"name\"\r\n                            className=\"form-control text-center\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"povinne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"where\">Miesto udalosti:</label>\r\n                        <input \r\n                            name=\"where\"\r\n                            className=\"form-control text-center\"\r\n                            value={where}\r\n                            onChange={(e) => setWhere(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"link\">Externy link udalosti:</label>\r\n                        <input \r\n                            name=\"link\"\r\n                            className=\"form-control text-center\"\r\n                            value={link}\r\n                            onChange={(e) => setLink(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        Cas a datum udalosti (povinne): <strong>{when}</strong>\r\n                        <br /><br />\r\n                        Vyber: <DatePicker showTimeSelect selected={startDate} onChange={date => setStartDate(date)} />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"200px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {\r\n                (name && imageLink) ? \r\n                <Row className=\"justify-content-center text-center\">\r\n                    <Col className=\"form-group\">\r\n                    <img style={{height:'110px', width: '160px'}} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                    <Button onClick={() => setImageLink('')} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n                    </Col>\r\n                </Row> :\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok udalosti. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(name && description && imageLink && when) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Pridat\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Pridat\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setEventPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n        )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nimport Card from 'react-bootstrap/Card'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport AddEvent from './AddEvent'\r\nimport EditEvent from './EditEvent'\r\n\r\nimport {MdDateRange, MdLocationOn, MdDelete, MdEdit} from 'react-icons/md'\r\n\r\nexport default ({isOwner}) => {\r\n    const [eventsData, setEventsData] = useState([])\r\n    const [eventPopup, setEventPopup] = useState(false)\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [editing, setEditing] = useState('')\r\n\r\n    const handleEditing = (e) => {\r\n        const itemId = e.currentTarget.parentNode.id;\r\n        let editingObj = {}\r\n        editingObj[itemId] = true\r\n        setEditing({...editing, ...editingObj})\r\n    }\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            const img = require(`../../../../src/uploads/${image.replace(/_/g, '-')}`);\r\n            return img;\r\n        } catch {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    const deleteCard = (eventId) => {\r\n        axios.delete(`https://mas-vino.herokuapp.com/events/${eventId}/`)\r\n            .then(() => setRefresh(!refresh))\r\n            .catch((err) => err && console.log(`Error ${err}`));\r\n    };\r\n\r\n    const sortEventsData = (data) => {\r\n        return data.sort((a, b) => (a.when < b.when) ? 1 : -1)\r\n    }\r\n\r\n    useEffect(() => {\r\n        axios.get(`https://mas-vino.herokuapp.com/events/`)\r\n            .then(res => {\r\n                const events = res.data\r\n                const result = sortEventsData(events)\r\n                setEventsData(result)\r\n            })\r\n            .catch(err => err && console.log(err))\r\n    }, [refresh])\r\n\r\n    const handleSubmit = (passLink) => {\r\n        const win = window.open(passLink, \"_blank\");\r\n        win.focus();\r\n    }\r\n\r\n    const ShowEvents = () => {\r\n        return eventsData.map(event => {\r\n            const { _id, name, link, description, imageLink, when, where } = event\r\n            return (\r\n                <Col key={_id} style={{maxWidth:'800px'}} className=\"mt-4\" md={12} lg={6}>\r\n                    <Card className=\"h-100\" id={_id}>\r\n                        {isOwner &&\r\n                            <Button\r\n                                onClick={() => deleteCard(_id)}\r\n                                style={{\r\n                                    width: \"40px\",\r\n                                    height: \"40px\",\r\n                                    marginBottom: \"-40px\",\r\n                                    zIndex: \"+5\"\r\n                                }}\r\n                                variant=\"outline-danger\"\r\n                                >\r\n                                <MdDelete style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n                            </Button>}\r\n                        {isOwner &&\r\n                        <Button\r\n                            onClick={(e) => handleEditing(e)}\r\n                            style={{\r\n                                width: \"40px\",\r\n                                height: \"40px\",\r\n                                marginBottom: \"-40px\",\r\n                                marginLeft: \"40px\",\r\n                                zIndex: \"+5\"\r\n                            }}\r\n                            variant=\"outline-warning\"\r\n                            >\r\n                            <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n                            </Button>}\r\n                            \r\n                        {editing &&\r\n                            <EditEvent refresh={refresh} setRefresh={setRefresh} setEventPopup={setEditing} eventPopup={editing[_id]} eventData={event} />\r\n                        }\r\n                        <Card.Img variant=\"top\" style={{ height: '350px' }} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                        <Card.Body>\r\n                            <Card.Title>{name}<Button onClick={() => handleSubmit(link)} size=\"sm\" variant=\"dark\" style={{float: 'right', marginTop: '-5px'}}>Viac info</Button></Card.Title>\r\n                            <Card.Text>{description}</Card.Text>\r\n                        </Card.Body>\r\n                        {(when || where) &&\r\n                        <Card.Footer>\r\n                            <small className=\"text-muted\"><MdDateRange style={{fontSize: '130%'}} /> {when}<br /> <MdLocationOn style={{fontSize: '130%'}} /> {where}</small>\r\n                        </Card.Footer>}\r\n                    </Card>\r\n                </Col>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Container className=\"mb-4\">\r\n            {eventPopup &&\r\n                <AddEvent refresh={refresh} setRefresh={setRefresh} setEventPopup={setEventPopup} eventPopup={eventPopup} />\r\n            }\r\n            {isOwner &&\r\n            <Row className=\"justify-content-center\" >\r\n                <Button className=\"mt-4\" variant=\"dark\" onClick={() => setEventPopup(true)}>Pridat Event</Button>\r\n            </Row>}\r\n            <Row className=\"justify-content-center justify-content-md-start\" >\r\n                <ShowEvents />\r\n            </Row>\r\n        </Container>\r\n    )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nexport default ({servicePopup, setServicePopup, refresh, setRefresh}) => {\r\n    const [name, setName] = useState('')\r\n    const [idFromName, setIdFromName] = useState('')\r\n    const [link, setLink] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [imageLink, setImageLink] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (name) {\r\n            const setNewId = name.replace(/\\s/g, '-').toLowerCase()\r\n            setIdFromName(setNewId)\r\n        }\r\n    }, [name])\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${idFromName}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${idFromName}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${idFromName}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        axios.post(`https://mas-vino.herokuapp.com/services/add`, {name, link, description, imageLink})\r\n            .then(res => {\r\n                setRefresh(!refresh)\r\n                setServicePopup(false)\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n    \r\n    return (\r\n        <Modal show={servicePopup} onHide={() => setServicePopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"name\">Nazov sluzby:</label>\r\n                        <input \r\n                            name=\"name\"\r\n                            className=\"form-control text-center\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"povinne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"link\">Externy link sluzby:</label>\r\n                        <input \r\n                            name=\"link\"\r\n                            className=\"form-control text-center\"\r\n                            value={link}\r\n                            onChange={(e) => setLink(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"200px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {name &&\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok sluzby. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(name && description && imageLink) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Pridat\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Pridat\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setServicePopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n        )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nexport default ({servicePopup, setServicePopup, refresh, setRefresh, serviceData}) => {\r\n    const [name, setName] = useState(serviceData.name)\r\n    const [idFromName, setIdFromName] = useState(serviceData.idFromName)\r\n    const [link, setLink] = useState(serviceData.link)\r\n    const [description, setDescription] = useState(serviceData.description)\r\n    const [imageLink, setImageLink] = useState(serviceData.imageLink)\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            console.log(image)\r\n          const img = require(`../../../../src/uploads/${image.replace(/_/g, '-')}`);\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (name) {\r\n            const setNewId = name.replace(/\\s/g, '-').toLowerCase()\r\n            setIdFromName(setNewId)\r\n        }\r\n    }, [name])\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${idFromName}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${idFromName}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${idFromName}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        console.log(serviceData)\r\n        axios.post(`https://mas-vino.herokuapp.com/services/update-service/${serviceData._id}`, {name, link, description, imageLink})\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setRefresh(!refresh)\r\n                setServicePopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n    \r\n    return (\r\n        <Modal show={servicePopup} onHide={() => setServicePopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"name\">Nazov sluzby:</label>\r\n                        <input \r\n                            name=\"name\"\r\n                            className=\"form-control text-center\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"povinne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"link\">Externy link sluzby:</label>\r\n                        <input \r\n                            name=\"link\"\r\n                            className=\"form-control text-center\"\r\n                            value={link}\r\n                            onChange={(e) => setLink(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"200px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {\r\n                (name && imageLink) ? \r\n                <Row className=\"justify-content-center text-center\">\r\n                    <Col className=\"form-group\">\r\n                    <img style={{height:'110px', width: '160px'}} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                    <Button onClick={() => setImageLink('')} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n                    </Col>\r\n                </Row> :\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok sluzby. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(name && description && imageLink) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Pridat\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Pridat\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setServicePopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n        )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport Card from 'react-bootstrap/Card'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport AddService from './AddService'\r\nimport EditService from './EditService'\r\n\r\nimport {MdDateRange, MdLocationOn, MdDelete, MdEdit} from 'react-icons/md'\r\n\r\nexport default ({isOwner}) => {\r\n    const [servicesData, setServicesData] = useState([])\r\n    const [servicePopup, setServicePopup] = useState(false)\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [editing, setEditing] = useState('')\r\n\r\n    const handleEditing = (e) => {\r\n        const itemId = e.currentTarget.parentNode.id;\r\n        let editingObj = {}\r\n        editingObj[itemId] = true\r\n        setEditing({...editing, ...editingObj})\r\n    }\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            const img = require(`../../../../src/uploads/${image.replace(/_/g, '-')}`);\r\n            return img;\r\n        } catch {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    const deleteCard = (serviceId) => {\r\n        axios.delete(`https://mas-vino.herokuapp.com/services/${serviceId}/`)\r\n            .then(() => setRefresh(!refresh))\r\n            .catch((err) => err && console.log(`Error ${err}`));\r\n    };\r\n\r\n    useEffect(() => {\r\n        axios.get(`https://mas-vino.herokuapp.com/services/`)\r\n            .then(res => {\r\n                const result = res.data\r\n                setServicesData(result)\r\n            })\r\n            .catch(err => err && console.log(err))\r\n    }, [refresh])\r\n\r\n    const handleSubmit = (passLink) => {\r\n        const win = window.open(passLink, \"_blank\");\r\n        win.focus();\r\n    }\r\n\r\n    const ShowServices = () => {\r\n        return servicesData.map(service => {\r\n            const { _id, name, link, description, imageLink, when, where } = service\r\n            return (\r\n                <Col key={_id} style={{maxWidth:'800px'}} className=\"mt-4\" md={12} lg={6}>\r\n                    <Card bg=\"dark\" text=\"white\" className=\"h-100\" id={_id}>\r\n                        {isOwner &&\r\n                            <Button\r\n                                onClick={() => deleteCard(_id)}\r\n                                style={{\r\n                                    width: \"40px\",\r\n                                    height: \"40px\",\r\n                                    marginBottom: \"-40px\",\r\n                                    zIndex: \"+5\"\r\n                                }}\r\n                                variant=\"outline-danger\"\r\n                                >\r\n                                <MdDelete style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n                            </Button>}\r\n                        {isOwner &&\r\n                        <Button\r\n                            onClick={(e) => handleEditing(e)}\r\n                            style={{\r\n                                width: \"40px\",\r\n                                height: \"40px\",\r\n                                marginBottom: \"-40px\",\r\n                                marginLeft: \"40px\",\r\n                                zIndex: \"+5\"\r\n                            }}\r\n                            variant=\"outline-warning\"\r\n                            >\r\n                            <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n                            </Button>}\r\n                            \r\n                        {editing &&\r\n                            <EditService refresh={refresh} setRefresh={setRefresh} setServicePopup={setEditing} servicePopup={editing[_id]} serviceData={service} />\r\n                        }\r\n                        <Card.Img variant=\"top\" style={{ height: '350px' }} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                        <Card.Body>\r\n                            <Card.Title>{name}<Button onClick={() => handleSubmit(link)} size=\"sm\" variant=\"outline-light\" style={{float: 'right', marginTop: '-5px'}}>Viac info</Button></Card.Title>\r\n                            <Card.Text>{description}</Card.Text>\r\n                        </Card.Body>\r\n                        {(when || where) &&\r\n                        <Card.Footer>\r\n                            <small className=\"text-muted\"><MdDateRange style={{fontSize: '130%'}} /> {when}<br /> <MdLocationOn style={{fontSize: '130%'}} /> {where}</small>\r\n                        </Card.Footer>}\r\n                    </Card>\r\n                </Col>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Container className=\"mb-4\">\r\n            {servicePopup &&\r\n                <AddService refresh={refresh} setRefresh={setRefresh} setServicePopup={setServicePopup} servicePopup={servicePopup} />\r\n            }\r\n            {isOwner &&\r\n            <Row className=\"justify-content-center\" >\r\n                <Button className=\"mt-4\" variant=\"dark\" onClick={() => setServicePopup(true)}>Pridat Sluzbu</Button>\r\n            </Row>}\r\n            <Row className=\"justify-content-center justify-content-md-start\" >\r\n                <ShowServices />\r\n            </Row>\r\n        </Container>\r\n    )\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport axios from \"axios\";\r\n\r\nimport Home from \"./components/Home/Home\";\r\nimport Vinarne from \"./components/Shop/Vinarne\";\r\nimport Login from \"./components/Login/Login\";\r\nimport ShopOnline from \"./components/Shop/shopOnline/ShopOnline\"\r\nimport ShoppingCart from \"./components/Cart/ShoppingCart\"\r\nimport PayGate from \"./components/Cart/PayGate\"\r\nimport Orders from \"./components/Payment/Orders\"\r\nimport SuccessPayment from \"./components/Payment/SuccessPayment\";\r\nimport RejectPayment from \"./components/Payment/RejectPayment\";\r\nimport Vinka from \"./components/Wines/Vinka\";\r\nimport Events from \"./components/Events/Events\";\r\nimport Services from \"./components/Services/Services\";\r\n\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\n// App.js\r\nexport default () => {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [userData, setUserData] = useState({});\r\n  const [loadingData, setLoadingData] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setLoadingData(true)\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/get-user-data`, {\r\n        withCredentials: true\r\n      })\r\n      .then((res) => {\r\n        if (res.data) {\r\n          const { _id, userName, fullName, email, shopId, isOwner } = res.data;\r\n          setUserData({ _id, userName, fullName, email, shopId, isOwner });\r\n          setIsLoggedIn(userName ? true : false);\r\n        } else {\r\n          setUserData({})\r\n        }\r\n      })\r\n      .catch((err) => err && console.log(\"Load Error \" + err))\r\n      .then(() => setLoadingData(false))\r\n  }, []);\r\n  const handleLogOut = () => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/logout`, {\r\n        withCredentials: true\r\n      })\r\n      .then(() => {\r\n        setUserData({});\r\n        setIsLoggedIn(false);\r\n      })\r\n      .catch((err) => console.log(`Error ${err}`))\r\n      .then(() => window.location.reload());\r\n  };\r\n  return (\r\n    <div>\r\n      <Navbar userName={userData.fullName} isLoggedIn={isLoggedIn} handleLogOut={handleLogOut} />\r\n      {loadingData ? \r\n            <Spinner\r\n              style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n              animation=\"border\"\r\n            /> :\r\n      <div style={{marginTop: \"56px\"}}>\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <Home userId={userData._id} isOwner={userData.isOwner}  />\r\n          </Route>\r\n          <Route exact path=\"/vinarne\">\r\n            <Vinarne userData={userData} />\r\n          </Route>\r\n          <Route exact path=\"/vinka\">\r\n            <Vinka userData={userData} />\r\n          </Route>\r\n          <Route exact path=\"/login-page\">\r\n            {isLoggedIn ? <Home userId={userData._id} isOwner={userData.isOwner} /> : <Login />}\r\n          </Route>\r\n          <Route exact path=\"/cart-page\">\r\n            <ShoppingCart userId={userData._id} />\r\n          </Route>\r\n          <Route exact path={`/success-payment`}>\r\n            <SuccessPayment userId={userData._id} />\r\n          </Route>\r\n          <Route exact path={`/failed-payment`}>\r\n            <RejectPayment userId={userData._id} />\r\n          </Route>\r\n          <Route exact path={`/cancel-payment`}>\r\n            <RejectPayment userId={userData._id} />\r\n          </Route>\r\n          <Route exact path={`/objednavky`}>\r\n            <Orders userId={userData._id} isOwner={userData.isOwner} />\r\n          </Route>\r\n          <Route exact path={`/akcie`}>\r\n            <Events isOwner={userData.isOwner} />\r\n          </Route>\r\n          <Route exact path={`/sluzby`}>\r\n            <Services isOwner={userData.isOwner} />\r\n          </Route>\r\n          <Route exact path={`/:shopUrl`}>\r\n            <ShopOnline userId={userData._id} isOwner={userData.isOwner} />\r\n          </Route>\r\n          <Route exact path={`/shop/payment`}>\r\n            <PayGate />\r\n          </Route>\r\n        </Switch>\r\n      </div>}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"react-dropzone-uploader/dist/styles.css\";\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <App />\r\n  </Router>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}